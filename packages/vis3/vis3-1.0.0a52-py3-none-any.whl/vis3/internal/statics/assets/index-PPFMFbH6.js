import{r as l,bt as D,B as I,b5 as w,ab as M,a$ as T,ah as _,aP as Q,aQ as U,bu as k,bv as G,c as j,aY as J,aO as K,bw as Z,ai as ee}from"./index-DmDXMu1n.js";function h(e){return!!(e!=null&&e.then)}const te=e=>{const{type:n,children:s,prefixCls:t,buttonProps:o,close:f,autoFocus:b,emitEvent:p,isSilent:i,quitOnNullishReturnValue:C,actionFn:v}=e,c=l.useRef(!1),O=l.useRef(null),[P,m]=D(!1),u=(...a)=>{f==null||f.apply(void 0,a)};l.useEffect(()=>{let a=null;return b&&(a=setTimeout(()=>{var r;(r=O.current)===null||r===void 0||r.focus({preventScroll:!0})})),()=>{a&&clearTimeout(a)}},[]);const y=a=>{h(a)&&(m(!0),a.then((...r)=>{m(!1,!0),u.apply(void 0,r),c.current=!1},r=>{if(m(!1,!0),c.current=!1,!(i!=null&&i()))return Promise.reject(r)}))},x=a=>{if(c.current)return;if(c.current=!0,!v){u();return}let r;if(p){if(r=v(a),C&&!h(r)){c.current=!1,u(a);return}}else if(v.length)r=v(f),c.current=!1;else if(r=v(),!h(r)){u();return}y(r)};return l.createElement(I,Object.assign({},w(n),{onClick:x,loading:P,prefixCls:t},o,{ref:O}),s)},ne=e=>{const{componentCls:n,iconCls:s,antCls:t,zIndexPopup:o,colorText:f,colorWarning:b,marginXXS:p,marginXS:i,fontSize:C,fontWeightStrong:v,colorTextHeading:c}=e;return{[n]:{zIndex:o,[`&${t}-popover`]:{fontSize:C},[`${n}-message`]:{marginBottom:i,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${s}`]:{color:b,fontSize:C,lineHeight:1,marginInlineEnd:i},[`${n}-title`]:{fontWeight:v,color:c,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:p,color:f}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:i}}}}},oe=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},V=M("Popconfirm",e=>ne(e),oe,{resetStyle:!1});var le=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const z=e=>{const{prefixCls:n,okButtonProps:s,cancelButtonProps:t,title:o,description:f,cancelText:b,okText:p,okType:i="primary",icon:C=l.createElement(T,null),showCancel:v=!0,close:c,onConfirm:O,onCancel:P,onPopupClick:m}=e,{getPrefixCls:u}=l.useContext(_),[y]=Q("Popconfirm",U.Popconfirm),x=k(o),a=k(f);return l.createElement("div",{className:`${n}-inner-content`,onClick:m},l.createElement("div",{className:`${n}-message`},C&&l.createElement("span",{className:`${n}-message-icon`},C),l.createElement("div",{className:`${n}-message-text`},x&&l.createElement("div",{className:`${n}-title`},x),a&&l.createElement("div",{className:`${n}-description`},a))),l.createElement("div",{className:`${n}-buttons`},v&&l.createElement(I,Object.assign({onClick:P,size:"small"},t),b||(y==null?void 0:y.cancelText)),l.createElement(te,{buttonProps:Object.assign(Object.assign({size:"small"},w(i)),s),actionFn:O,close:c,prefixCls:u("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},p||(y==null?void 0:y.okText))))},se=e=>{const{prefixCls:n,placement:s,className:t,style:o}=e,f=le(e,["prefixCls","placement","className","style"]),{getPrefixCls:b}=l.useContext(_),p=b("popconfirm",n),[i]=V(p);return i(l.createElement(G,{placement:s,className:j(p,t),style:o,content:l.createElement(z,Object.assign({prefixCls:p},f))}))};var ae=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const re=l.forwardRef((e,n)=>{var s,t;const{prefixCls:o,placement:f="top",trigger:b="click",okType:p="primary",icon:i=l.createElement(T,null),children:C,overlayClassName:v,onOpenChange:c,onVisibleChange:O,overlayStyle:P,styles:m,classNames:u}=e,y=ae(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:x,className:a,style:r,classNames:E,styles:$}=J("popconfirm"),[B,R]=K(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),N=(d,g)=>{R(d,!0),O==null||O(d),c==null||c(d,g)},W=d=>{N(!1,d)},F=d=>{var g;return(g=e.onConfirm)===null||g===void 0?void 0:g.call(void 0,d)},L=d=>{var g;N(!1,d),(g=e.onCancel)===null||g===void 0||g.call(void 0,d)},A=(d,g)=>{const{disabled:Y=!1}=e;Y||N(d,g)},S=x("popconfirm",o),H=j(S,a,v,E.root,u==null?void 0:u.root),X=j(E.body,u==null?void 0:u.body),[q]=V(S);return q(l.createElement(Z,Object.assign({},ee(y,["title"]),{trigger:b,placement:f,onOpenChange:A,open:B,ref:n,classNames:{root:H,body:X},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},$.root),r),P),m==null?void 0:m.root),body:Object.assign(Object.assign({},$.body),m==null?void 0:m.body)},content:l.createElement(z,Object.assign({okType:p,icon:i},e,{prefixCls:S,close:W,onConfirm:F,onCancel:L})),"data-popover-inject":!0}),C))}),ce=re;ce._InternalPanelDoNotUseOrYouWillBeFired=se;export{te as A,ce as P};
