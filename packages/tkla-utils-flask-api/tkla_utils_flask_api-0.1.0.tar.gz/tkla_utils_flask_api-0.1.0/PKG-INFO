Metadata-Version: 2.4
Name: tkla_utils_flask_api
Version: 0.1.0
Summary: JWT, hashing y utilidades para APIs Flask
Author: Lovenson Pierre
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Requires-Dist: Flask
Requires-Dist: PyJWT
Requires-Dist: bcrypt
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# ğŸ› ï¸ tkla_utils_flask_api

**tkla_utils_flask_api** es una librerÃ­a modular que provee utilidades esenciales para el desarrollo de APIs Flask. Incluye herramientas para autenticaciÃ³n con JWT, hashing seguro de contraseÃ±as, generaciÃ³n de tokens, decoradores de seguridad, manejo de fechas y respuestas JSON uniformes.

---

## ğŸš€ CaracterÃ­sticas principales

- ğŸ” GeneraciÃ³n y verificaciÃ³n de JWT.
- ğŸ”‘ Hashing seguro de contraseÃ±as con bcrypt.
- ğŸ§¬ GeneraciÃ³n de tokens aleatorios y UUIDs.
- ğŸ•’ Manejo de fechas UTC y formato ISO 8601.
- ğŸ“¦ Decoradores para proteger rutas con roles.
- ğŸ“¡ Respuestas JSON uniformes y coherentes.

---

## ğŸ“¦ InstalaciÃ³n

```bash
pip install tkla_utils_flask_api
```

> âš ï¸ AsegÃºrate de tener `pip` actualizado y Python â‰¥ 3.7

---

## ğŸ§ª Ejemplo de uso con Flask

```python
from flask import Flask, request
from tkla_utils_flask_api.jwt_utils import generate_jwt
from tkla_utils_flask_api.hashing import hash_password, verify_password
from tkla_utils_flask_api.responses import success_response, error_response
from tkla_utils_flask_api.decorators import require_jwt

app = Flask(__name__)
SECRET_KEY = "mi_clave_secreta"

usuarios = {
    "admin": hash_password("1234")
}

@app.route("/login", methods=["POST"])
def login():
    data = request.json
    username = data.get("username")
    password = data.get("password")

    if username not in usuarios or not verify_password(password, usuarios[username]):
        return error_response("Credenciales invÃ¡lidas", 401)

    token = generate_jwt({"user": username, "role": "admin"}, SECRET_KEY)
    return success_response({"token": token}, "Inicio de sesiÃ³n exitoso")

@app.route("/perfil", methods=["GET"])
@require_jwt(SECRET_KEY, roles=["admin"])
def perfil(user):
    return success_response({"usuario": user}, "Perfil accedido correctamente")

if __name__ == "__main__":
    app.run(debug=True)
```

---

## ğŸ“š DocumentaciÃ³n por mÃ³dulo

### ğŸ” `jwt_utils.py`
- `generate_jwt(payload, secret, exp_minutes)`
- `decode_jwt(token, secret)`

### ğŸ”‘ `hashing.py`
- `hash_password(password)`
- `verify_password(password, hashed)`

### ğŸ§¬ `tokens.py`
- `generate_random_token(length=32)`
- `generate_uuid_token()`

### ğŸ•’ `time_utils.py`
- `get_current_utc_timestamp()`
- `format_datetime_iso(datetime_obj)`

### ğŸ›¡ï¸ `decorators.py`
- `@require_jwt(secret, roles=['admin'])`

### ğŸ“¡ `responses.py`
- `success_response(data, message, status_code)`
- `error_response(message, status_code)`

---

## ğŸ“ Estructura del proyecto

```
tkla_utils_flask_api/
â”‚
â”œâ”€â”€ jwt_utils.py
â”œâ”€â”€ hashing.py
â”œâ”€â”€ tokens.py
â”œâ”€â”€ time_utils.py
â”œâ”€â”€ decorators.py
â”œâ”€â”€ responses.py
â”œâ”€â”€ version.py
â”œâ”€â”€ __init__.py
```

---

## ğŸ§ª Requisitos

- Python â‰¥ 3.7
- Flask
- PyJWT
- bcrypt

InstalaciÃ³n automÃ¡tica desde `setup.py`:

```python
install_requires=[
    'Flask',
    'PyJWT',
    'bcrypt'
]
```

---

## ğŸ› ï¸ Desarrollo y pruebas

Puedes probar el ejemplo completo en `ejemplo_app/app.py`. Ejecuta:

```bash
python ejemplo_app/app.py
```

---

## ğŸ“ Licencia

MIT License Â© 2025 Lovenson Pierre

---

## ğŸŒ PublicaciÃ³n en PyPI

Para publicar:

```bash
python setup.py sdist bdist_wheel
twine upload dist/*
```

---

## ğŸ“¬ Contacto

Creado y mantenido por **Lovenson Pierre** â€” [lovesonpierre25@gmail.com](mailto:lovesonpierre25@gmail.com)
