<!doctype html>
<html>
    <head>
        <title>
            5. The package registry - DishPy Docs
        </title>
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
        <link rel="stylesheet" href="/dishpy/index.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
            rel="stylesheet"
        />
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/xcode.css">
    </head>
    <body>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <div class="m-5 container">
            
                <div class="mt-3">
                    <div class="bg-white rounded-lg border border-gray-200 shadow-sm">
                        <div class="-m-3 flex flex-col">
                            <div class="p-6 pb-0 flex justify-between items-center">
                                <h6 class="my-auto font-serif">
                                    In this documentation
                                </h6>
                                <button id="nav-toggle" class="text-gray-500 hover:text-gray-700 focus:outline-none -mt-5">
                                    <span id="nav-arrow" style="font-family: Inter">↓</span>
                                </button>
                            </div>
                            <div id="nav-content" class="px-6 pb-6 ml-5">
                                
                                    
                                    <div>
                                        <a href="../.." class="text-sm ">
                                            DishPy
                                        </a>
                                    </div>
                                    
                                    
                                
                                    
                                    <div>
                                        <span class="text-sm font-semibold">
                                            Tutorial
                                        </>
                                    </div>
                                    
                                    
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../1_installation/" class="text-sm ">
                                                    1. Installation
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../2_creating_proj/" class="text-sm ">
                                                    2. Your first project
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../3_multifile/" class="text-sm ">
                                                    3. Using multi-file capabilities in DishPy
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../4_create_packages/" class="text-sm ">
                                                    4. Creating packages
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="./" class="text-sm font-semibold">
                                                    5. The package registry
                                                </a>
                                            </div>
                                        
                                    
                                
                                    
                                    <div>
                                        <span class="text-sm ">
                                            VEX SDK
                                        </>
                                    </div>
                                    
                                    
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/" class="text-sm ">
                                                    VEX V5 Python SDK
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/brain/" class="text-sm ">
                                                    Brain &amp; Display
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/controllers/" class="text-sm ">
                                                    Controllers &amp; Competition
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/enums/" class="text-sm ">
                                                    Enums &amp; Units
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/full/" class="text-sm ">
                                                    Complete API Reference
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/motors/" class="text-sm ">
                                                    Motors
                                                </a>
                                            </div>
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="../../VEX%20SDK/sensors/" class="text-sm ">
                                                    Sensors
                                                </a>
                                            </div>
                                        
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>
            

            
                <div class="mt-3">
                    <div class="bg-white rounded-lg border border-gray-200 shadow-sm">
                        <div class="-m-3 flex flex-col">
                            <div class="p-6 pb-0 flex justify-between items-center">
                                <h6 class="my-auto font-serif">
                                    Table of Contents
                                </h6>
                                <button id="toc-toggle" class="text-gray-500 hover:text-gray-700 focus:outline-none -mt-5">
                                    <span id="toc-arrow" style="font-family: Inter;">→</span>
                                </button>
                            </div>
                            <div id="toc-content" class="px-6 pb-6 ml-5" style="display: none;">
                                
                                    <div>
                                        <a href="#5-the-package-registry" class="text-sm">
                                            5. The package registry
                                        </a>
                                    </div>
                                    
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="#philosophy" class="text-sm">
                                                    Philosophy
                                                </a>
                                            </div>
                                            
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="#adding-packages-to-your-project" class="text-sm">
                                                    Adding packages to your project
                                                </a>
                                            </div>
                                            
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="#part-1-the-registry" class="text-sm">
                                                    Part 1: the registry
                                                </a>
                                            </div>
                                            
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#local" class="text-sm">
                                                            Local
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#git" class="text-sm">
                                                            Git
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#git-releases" class="text-sm">
                                                            Git releases
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#output" class="text-sm">
                                                            Output
                                                        </a>
                                                    </div>
                                                    
                                                
                                            
                                        
                                            <div style="margin-left: 2rem">
                                                <a href="#part-2-adding-to-a-project" class="text-sm">
                                                    Part 2. Adding to a project
                                                </a>
                                            </div>
                                            
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#listing-available-packages" class="text-sm">
                                                            Listing available packages
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#creating-a-new-project" class="text-sm">
                                                            Creating a new project
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#adding-a-package" class="text-sm">
                                                            Adding a package
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#adding-packages-to-package-projects" class="text-sm">
                                                            Adding packages to package projects
                                                        </a>
                                                    </div>
                                                    
                                                
                                                    <div style="margin-left: 4rem">
                                                        <a href="#key-points-to-remember" class="text-sm">
                                                            Key points to remember
                                                        </a>
                                                    </div>
                                                    
                                                
                                            
                                        
                                    
                                
                            </div>
                        </div>
                    </div>
                </div>
            

            <h1 id="5-the-package-registry">5. The package registry</h1>
<p>This is a continuation of <a href="../4_create_packages/">4. Creating Packages</a>. If you are too lazy to read that, at least go through the philosophy:</p>
<h2 id="philosophy">Philosophy</h2>
<p>DishPy has a somewhat simple but possibly unfamiliar methodology for its package management. There are a few key things to understand:</p>
<ul>
<li><strong>Packages in DishPy are also regular projects.</strong> All packages also have a <code>main.py</code> file, and you can upload a package project to the brain using <code>uvx dishpy mu</code>. There are a few commands that have changed meaning in a project which has a package (namely, <code>uvx dishpy add</code> has different behavior), but they are otherwise the same commands.</li>
<li><strong>When you add a package to a project, only that package's code is copied.</strong> If my package is called <code>add_two_nums</code>, its source code will live at <code>src/add_two_nums/__init__.py</code> (and <code>__init__.py</code> can reference other Python files in <code>src/add_two_nums/</code>). When you add <code>add_two_nums</code> to another project, only the files in <code>package_project/src/add_two_nums</code> will be copied into <code>my_project/src/add_two_nums</code> -- <code>package_project/src/main.py</code> and other files are not copied.</li>
<li><strong>Packages maintain decentralized metadata.</strong> If you are used to Python development, you typically install packages from the Python Package Index (PyPI). PyPI is an example of a <strong>centralized</strong> index, where a central server (or group of servers, whatever) has a database of every registered command. In contrast, PROS and DishPy use an approach where the <code>dishpy.toml</code> metadata file of each package project also contains information about the package in that project. Then, when you publish your project to GitHub or another provider, when DishPy fetches that project, it reads the <code>dishpy.toml</code> to get the important information about the package.</li>
<li><strong>DishPy also maintains a local registry.</strong> Think of this as a PyPI that lives on your computer. You can use DishPy to "fetch" packages, whether from a Git repository, local project, or ZIP file, and Dishpy will then index the project based on the aforementioned metadata and cache it on your hard drive (or SSD, whatever floats your boat). Then, when you ask to add a package to a project, DishPy finds that package in your local cache/registry and installs it into the current project.</li>
</ul>
<p>This may seem more complex than the centralized PyPI solution, but it actually isn't much harder. Even <code>uv add</code> (think <code>pip</code> alternative) maintains a "warm cache" of recently fetched packages from PyPI. It also saves me (Aadish) from all of the costs and investment of running my own centralized registry.</p>
<h2 id="adding-packages-to-your-project">Adding packages to your project</h2>
<p><strong>Make sure you are on version 0.6 before continuing.</strong></p>
<p>Now that we have a package from Part 4, we can publish it and add it to a new project. Keep these points from the philosophy in mind:</p>
<ul>
<li>When you add a package to a project, only that package's code is copied</li>
<li>DishPy also maintains a local registry</li>
</ul>
<p>As noted in the philosophy, DishPy caches packages you register in a local folder on your computer. This makes installing a package a two-step process:</p>
<ol>
<li>Running <code>uvx dishpy package register &lt;package&gt;</code> to get a package's contents and save them.</li>
<li>Running <code>uvx dishpy add &lt;package&gt;</code> inside a project to add that project as a dependency and install it.</li>
</ol>
<h2 id="part-1-the-registry">Part 1: the registry</h2>
<p>There are actually 3 ways to host your project.</p>
<h3 id="local">Local</h3>
<p>The simplest one is just to register the entire package-project folder. Assuming you are in the <code>Add Two Numbers</code> folder from part 4:</p>
<pre><code class="language-bash">Add Two Numbers $ cd ..
$ uvx dishpy package register &quot;Add Two Numbers&quot;
✨ Registered package add_two_nums:0.1.0
</code></pre>
<p>Great! That was very simple.
Under the hood, DishPy is</p>
<ul>
<li>reading the <code>dishpy.toml</code> of the package project to get the package name and version.</li>
<li>compressing the contents of the package code (not all of <code>src</code>, just <code>src/add_two_nums</code>) and saving it locally.</li>
</ul>
<h3 id="git">Git</h3>
<p>If you host your package project on GitHub or another similar provider (that the Git CLI supports), you can also pass in that. I host a simple package (the same as <code>Add Two Numbers</code>) <a href="https://github.com/aadishv/dishpy-example-package">here</a>, so I can just run</p>
<pre><code class="language-bash">$ uvx dishpy package register https://github.com/aadishv/dishpy-example-package
# or
$ uvx dishpy package register https://github.com/aadishv/dishpy-example-package.git
# outputs
✨ Registered package add_two_nums:0.1.0
</code></pre>
<p>Under the hood, this:</p>
<ul>
<li>clones the repository into a temporary directory,</li>
<li>runs the same analysis on that directory as detailed above to save the package,</li>
<li>and deletes the temporary directory.</li>
</ul>
<h3 id="git-releases">Git releases</h3>
<p>If you are a power user and want to have better version control for your package, you can tag a commit with a version number, create a GitHub (or GitLab, etc.) release with that version, and publish it. GitHub (I am not sure about other providers) automatically zips your code, so you don't need to build your own binary!</p>
<p>I won't go through the full process for tagging a commit and creating a release here, but it shouldn't be too difficult to find a tutorial online.</p>
<p>An example release is <a href="https://github.com/aadishv/dishpy-example-package/releases/tag/v0.1.0">available in the same repository</a>. Now if you want to install the package at that specific release, you can do so using the link to the source code ZIP:</p>
<pre><code class="language-bash">$ uvx dishpy package register https://github.com/aadishv/dishpy-example-package/archive/refs/tags/v0.1.0.zip
✨ Registered package add_two_nums:0.1.0
</code></pre>
<h3 id="output">Output</h3>
<p>Feel free to skip this section, it doesn't really matter for beginner users.</p>
<p>You might be wondering where DishPy saves your packages. Luckily this isn't too hard to find! DishPy ships with a <code>debug</code> command to show information about where the cache is.</p>
<pre><code class="language-bash">$ uvx dishpy debug
cache dir: /Users/aadishverma/Library/Caches/dishpy
$ cd /Users/aadishverma/Library/Caches/dishpy
~/Library/Caches/dishpy $ ls
packages    vexcom
</code></pre>
<p>The cache directory will be different depending on system and user, but you should find both a <code>packages</code> and <code>vexcom</code> directory. (This is assuming that you have using a vexcom command such as <code>dishpy mu</code> before, and that you have registered a package.)</p>
<p>Let's see what is in <code>packages</code>:</p>
<pre><code class="language-bash">~/Library/Caches/dishpy $ ls packages
add_two_nums:0.1.0.zip
</code></pre>
<p>Oh, there's our package! It contains the contents of our package (shocker).</p>
<pre><code class="language-bash">~/Library/Caches/dishpy $ unzip -l packages/add_two_nums:0.1.0.zip
Archive:  packages/add_two_nums:0.1.0.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
       71  06-15-2025 12:13   __init__.py
---------                     -------
       71                     1 file
</code></pre>
<p>When we add a package, it just pulls the ZIP file from here to get the source code.</p>
<p>Now that you know how packages are registered and stored locally, let's see how you can actually add them to your own projects.</p>
<h2 id="part-2-adding-to-a-project">Part 2. Adding to a project</h2>
<p>Now that we have registered the <code>add_two_nums</code> package, let's create a new project and add it as a dependency.</p>
<h3 id="listing-available-packages">Listing available packages</h3>
<p>First, let's see what packages we have available in our local registry:</p>
<pre><code class="language-bash">$ uvx dishpy package list
✨ Found the following packages registered with DishPy: add_two_nums:0.1.0
</code></pre>
<p>Perfect! Our package is there and ready to be used.</p>
<h3 id="creating-a-new-project">Creating a new project</h3>
<p>Let's create a new project to demonstrate adding packages:</p>
<pre><code class="language-bash">$ uv run dishpy create --name Calculator
✨ Created and initialized project in Calculator/
$ cd Calculator
Calculator $ tree
.
├── dishpy.toml
└── src
    ├── main.py
    └── vex
        └── __init__.py

3 directories, 3 files
</code></pre>
<h3 id="adding-a-package">Adding a package</h3>
<p>Now we can add our <code>add_two_nums</code> package to this project. Note that you must specify the package in <code>package:version</code> format:</p>
<pre><code class="language-bash">Calculator $ uv run dishpy add add_two_nums:0.1.0
✨ Added package add_two_nums:0.1.0
</code></pre>
<p>Let's see what happened to our project structure:</p>
<pre><code class="language-bash">Calculator $ tree
.
├── dishpy.toml
└── src
    ├── add_two_nums
    │   └── __init__.py
    ├── main.py
    └── vex
        └── __init__.py

4 directories, 4 files
</code></pre>
<p>As you can see, DishPy created a new <code>add_two_nums</code> directory in <code>src/</code> and extracted the package contents there. Let's also check what changed in our <code>dishpy.toml</code>:</p>
<pre><code class="language-bash">Calculator $ cat dishpy.toml
[project]
name = &quot;Calculator&quot;
slot = 1

[dependencies]
add_two_nums = &quot;0.1.0&quot;
</code></pre>
<p>Great! DishPy automatically added the dependency to our configuration file. Now we can use the package in our <code>main.py</code>:</p>
<pre><code class="language-python">from add_two_nums import add_two_numbers
from vex import Brain
brain = Brain()
brain.screen.print(str(&quot;10 + 3 = &quot;) + str(add_two_numbers(10, 3)))
</code></pre>
<h3 id="adding-packages-to-package-projects">Adding packages to package projects</h3>
<p>There's a special behavior when you add packages to a project that is itself a package. Let's create a new package project to demonstrate this:</p>
<pre><code class="language-bash">Calculator $ cd ..
$ uv run dishpy create --name &quot;Math Utils&quot; --package
✨ Created and initialized project in Math Utils/ with package Math Utils/src/math_utils/
$ cd &quot;Math Utils&quot;
Math Utils $ uv run dishpy add add_two_nums:0.1.0
✨ This project is a package, adding package add_two_nums:0.1.0 into the package directory
to avoid conflicts when importing package math_utils into other projects
✨ Added package add_two_nums:0.1.0
</code></pre>
<p>Let's see where the package was installed:</p>
<pre><code class="language-bash">Math Utils $ tree
.
├── dishpy.toml
└── src
    ├── main.py
    ├── math_utils
    │   ├── __init__.py
    │   └── add_two_nums
    │       └── __init__.py
    └── vex
        └── __init__.py

5 directories, 5 files
</code></pre>
<p>Notice that instead of installing <code>add_two_nums</code> directly in <code>src/</code>, it was installed inside <code>src/math_utils/</code>. This is intentional! When you're developing a package and you add dependencies, those dependencies become part of your package. This way, when someone else installs your <code>math_utils</code> package, they don't need to separately install <code>add_two_nums</code> – it's already bundled in.</p>
<p>Let's check the <code>dishpy.toml</code>:</p>
<pre><code class="language-bash">Math Utils $ cat dishpy.toml
[project]
name = &quot;Math Utils&quot;
version = &quot;0.1.0&quot;

[package]
name = &quot;math_utils&quot;

[dependencies]
add_two_nums = &quot;0.1.0&quot;
</code></pre>
<p>Now you can use the dependency in your package code:</p>
<pre><code class="language-python"># src/math_utils/__init__.py
from .add_two_nums import add_two_nums

def add_and_multiply(a, b, multiplier):
    &quot;&quot;&quot;Add two numbers and then multiply by a multiplier.&quot;&quot;&quot;
    sum_result = add_two_nums(a, b)
    return sum_result * multiplier
</code></pre>
<h3 id="key-points-to-remember">Key points to remember</h3>
<ol>
<li><strong>Package format</strong>: Always specify packages in <code>package:version</code> format when adding them.</li>
<li><strong>Registry first</strong>: You can only add packages that you've previously registered using <code>uvx dishpy package register</code>.</li>
<li><strong>Use <code>list</code> to check</strong>: Run <code>uvx dishpy package list</code> to see all available packages in your local registry.</li>
<li><strong>Different behavior for package projects</strong>: When adding packages to a package project, they get installed into the package directory to avoid dependency conflicts.</li>
<li><strong>Automatic configuration</strong>: DishPy automatically updates your <code>dishpy.toml</code> with the new dependency.</li>
</ol>
<p>This approach ensures that your packages are self-contained and don't create complex dependency trees when shared with others!</p>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const toggleButton = document.getElementById('nav-toggle');
                const navContent = document.getElementById('nav-content');
                const arrow = document.getElementById('nav-arrow');

                toggleButton.addEventListener('click', function() {
                    if (navContent.style.display === 'none') {
                        navContent.style.display = 'block';
                        arrow.textContent = '↓';
                    } else {
                        navContent.style.display = 'none';
                        arrow.textContent = '→';
                    }
                });

                const tocToggleButton = document.getElementById('toc-toggle');
                const tocContent = document.getElementById('toc-content');
                const tocArrow = document.getElementById('toc-arrow');

                if (tocToggleButton) {
                    tocToggleButton.addEventListener('click', function() {
                        if (tocContent.style.display === 'none') {
                            tocContent.style.display = 'block';
                            tocArrow.textContent = '↓';
                        } else {
                            tocContent.style.display = 'none';
                            tocArrow.textContent = '→';
                        }
                    });
                }
            });
        </script>
        <script>hljs.highlightAll();</script>
    </body>
</html>