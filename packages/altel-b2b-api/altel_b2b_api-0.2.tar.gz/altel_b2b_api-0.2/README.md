# Altel B2B API Client (Python)

#### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: [@litemat](https://github.com/litemat)

#### –í–µ—Ä—Å–∏—è: 0.1

---

#### IMPORTANT DISCLAIMER! (ENGLISH):

‚ö†Ô∏è This project is an unofficial tool for educational or internal use. \
‚ö†Ô∏è Use at your own risk. The author is not affiliated with Altel.kz or its partners. \
‚ö†Ô∏è This code interacts with web services that may be protected by terms of service.

#

#### –í–ê–ñ–ù–´–ô –î–ò–°–ö–õ–ï–ô–ú–ï–†! (–†–£–°–°–ö–ò–ô):

‚ö†Ô∏è –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ü–µ–ª–µ–π. \
‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –ê–≤—Ç–æ—Ä –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ Altel.kz –∏–ª–∏ –µ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º. \
‚ö†Ô∏è –≠—Ç–æ—Ç –∫–æ–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

#

#### –ú–ê“¢–´–ó–î–´ –ï–°–ö–ï–†–¢–£! (“ö–ê–ó–ê“ö–®–ê):

‚ö†Ô∏è –ë“±–ª –∂–æ–±–∞ ‚Äî –æ“õ—É –Ω–µ–º–µ—Å–µ —ñ—à–∫—ñ –º–∞“õ—Å–∞—Ç—Ç–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ä–µ—Å–º–∏ –µ–º–µ—Å “õ“±—Ä–∞–ª. \
‚ö†Ô∏è –ü–∞–π–¥–∞–ª–∞–Ω—É ‚Äî —Å—ñ–∑–¥—ñ“£ —Ç”ô—É–µ–∫–µ–ª—ñ“£—ñ–∑–¥–µ. –ê–≤—Ç–æ—Ä Altel.kz –Ω–µ–º–µ—Å–µ –æ–Ω—ã“£ —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç–µ—Ä—ñ–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—ã –∂–æ“õ. \
‚ö†Ô∏è –ë“±–ª –∫–æ–¥ –ø–∞–π–¥–∞–ª–∞–Ω—É —à–∞—Ä—Ç—Ç–∞—Ä—ã–º–µ–Ω “õ–æ—Ä“ì–∞–ª“ì–∞–Ω –≤–µ–±-—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–º–µ–Ω ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å—É—ñ –º“Ø–º–∫—ñ–Ω.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (v0.1)

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Altel B2B API ‚Äî —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–±–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏ —Å–æ—Ç–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ Altel (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω). –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç —Å–¥–µ–ª–∞–Ω –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –æ—Ç–ø—Ä–∞–≤–∫—É POST/GET-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–∞–±–æ—Ç—É —Å –∞–±–æ–Ω–µ–Ω—Ç—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞)
- üîç –ü–æ–∏—Å–∫ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- üìÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–±–æ–Ω–µ–Ω—Ç–µ (ID, —Ç–∞—Ä–∏—Ñ, —Å—Ç–∞—Ç—É—Å, –±–∞–ª–∞–Ω—Å, –∫–≤–æ—Ç–∞ –∏ —Ç.–¥.)
- üîí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤

> ‚ö†Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞, –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø—Ä–æ—á–µ–≥–æ.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install altel_b2b_api
```

---

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from altel_b2b_api import AltelB2B

client = AltelB2B(username="747XXXXXXX", password="–≤–∞—à_–ø–∞—Ä–æ–ª—å")

if client.login():
    subs = client.search_subscriber(number="7001234567")
    if subs:
        print(subs)
```

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å API

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```python
client.login() -> str
```

–ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `https://altel.kz/b2b/main/api/auth/login` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç access_token –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### –ü–æ–∏—Å–∫ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤

```python
client.search_subscriber(number: str) -> str
```

–ò—â–µ—Ç –∞–±–æ–Ω–µ–Ω—Ç–∞ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –ø–æ–ª—è–º–∏:

- `subscriberId`
- `employee`
- `icc`
- `msisdn`
- `fee`
- `activationDate`
- `status`
- `tariffId`
- `tariffName`
- `balance`
- `nextWriteOff`
- `clientTypeId`
- `account`
- `balanceLevel`
- `contractNumber`
- `quota`
- `quotaUnused`
- `resources`

---

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

```python
client.block(msisdn: str) -> str
client.unblock(msisdn: str) -> str
```

–ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∞–±–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `cloudscraper` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã Cloudflare
- –í—Å–µ —Å–µ—Å—Å–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ cookie –∏ —Ç–æ–∫–µ–Ω
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –ø–æ URL API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (–ª–æ–≥–∏–Ω, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –ø–æ–∏—Å–∫ –∏ —Ç.–¥.)

---

## –ü–ª–∞–Ω—ã –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –†–∞–±–æ—Ç–∞ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —É—Å–ª—É–≥–∞–º
- [ ] –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–±–æ–Ω–µ–Ω—Ç–æ–≤ (batch requests)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á—ë—Ç—ã
- [ ] Telegram / Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ö–ª–∞—Å—Å: `AltelB2B`

```python
client = AltelB2B(username="700XXXXXXX", password="–≤–∞—à_–ø–∞—Ä–æ–ª—å")
```

### `login() -> str`

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Cloudflare –∏ API. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω—ã, –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ.

### `all_subscribers(limit: int = 0) -> str`

–ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ—Ö –∞–±–æ–Ω–µ–Ω—Ç–æ–≤.

- `limit=0` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö
- `limit=N` ‚Äî –ø–æ–ª—É—á–∏—Ç—å N –ø–µ—Ä–≤—ã—Ö

### `search_subscriber(number: str) -> str`

–ü–æ–∏—Å–∫ –∞–±–æ–Ω–µ–Ω—Ç–∞ –ø–æ –Ω–æ–º–µ—Ä—É.

- `number`: —Ñ–æ—Ä–º–∞—Ç 700XXXXXXX

### `change_status(number: str, status_code: int) -> str`

–ò–∑–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∞–±–æ–Ω–µ–Ω—Ç–∞ (–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–∞–ø—Ä—è–º—É—é):

- `status_code=2` ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- `status_code=1` ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
	"success": true,
	"subscriberId": 12345678,
	"msisdn": "7001234567",
	"response": []
}
```

### `block(number: str) -> str`

–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∞–±–æ–Ω–µ–Ω—Ç–∞. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `change_status(number, 2)`.

### `unblock(number: str) -> str`

–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–±–æ–Ω–µ–Ω—Ç–∞. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `change_status(number, 1)`.

### `get_details(msisdn: str) -> str`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–±–æ–Ω–µ–Ω—Ç–µ (IMEI, UIN, —Å—Ç–∞—Ç—É—Å –∏ —Ç.–¥.)

### `register_imei(number: str, uin: str) -> str`

–ü—Ä–∏–≤—è–∑–∫–∞ IMEI –∫ –∞–±–æ–Ω–µ–Ω—Ç—É –ø–æ –ò–ò–ù/–ë–ò–ù (–£—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ):

```json
{
	"success": true,
	"subscriberId": 12345678,
	"msisdn": "7001234567",
	"response": true
}
```

–ò–õ–ò (IMEI - —Å–≤—è–∑–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):

```json
{
	"success": false,
	"subscriberId": 12345678,
	"msisdn": "7001234567",
	"response": "IMEI - Bundle already exists"
}
```

### `company_info() -> dict`

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, BIN –∏ —Ç.–¥.)

### `admins() -> dict`

–°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–º–ø–∞–Ω–∏–∏.

### `profiles() -> dict`

–°–ø–∏—Å–æ–∫ –ª–∏—Ü–µ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏.

---

## –°—Ç–∞—Ç—É—Å—ã –∞–±–æ–Ω–µ–Ω—Ç–æ–≤

###

| –ö–æ–¥   | –°—Ç–∞—Ç—É—Å       |
| ----- | ------------ |
| 1     | –ê–∫—Ç–∏–≤–µ–Ω      |
| 2     | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |
| n > 2 | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ   |

---

## –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ API

### –ü–æ–∏—Å–∫ –∞–±–æ–Ω–µ–Ω—Ç–∞

```json
[
	{
		"subscriberId": 12345678,
		"employee": null,
		"icc": "89990000000000000000",
		"msisdn": "7001234567",
		"fee": 0,
		"activationDate": "2020-01-01T10:10:20",
		"status": 1,
		"tariffId": 123,
		"tariffName": "Tariff Name",
		"balance": 0,
		"nextWriteOff": null,
		"clientTypeId": 12,
		"account": "123456789",
		"balanceLevel": 0,
		"contractNumber": "01234567890  ",
		"quota": 123,
		"quotaUnused": 0,
		"resources": []
	}
]
```

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```json
ERROR:altel_api.api: Login failed: 401
{
  "error": "bad_credentials",
  "error_description": "Invalid phone number or password. Try again.",
  "message": "Invalid phone number or password. Try again."
}

```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

###

#### IMPORTANT DISCLAIMER! (ENGLISH):

‚ö†Ô∏è This project is an unofficial tool for educational or internal use. \
‚ö†Ô∏è Use at your own risk. The author is not affiliated with Altel.kz or its partners. \
‚ö†Ô∏è This code interacts with web services that may be protected by terms of service.

#

#### –í–ê–ñ–ù–´–ô –î–ò–°–ö–õ–ï–ô–ú–ï–†! (–†–£–°–°–ö–ò–ô):

‚ö†Ô∏è –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ü–µ–ª–µ–π. \
‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –ê–≤—Ç–æ—Ä –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ Altel.kz –∏–ª–∏ –µ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º. \
‚ö†Ô∏è –≠—Ç–æ—Ç –∫–æ–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

#

#### –ú–ê“¢–´–ó–î–´ –ï–°–ö–ï–†–¢–£! (“ö–ê–ó–ê“ö–®–ê):

‚ö†Ô∏è –ë“±–ª –∂–æ–±–∞ ‚Äî –æ“õ—É –Ω–µ–º–µ—Å–µ —ñ—à–∫—ñ –º–∞“õ—Å–∞—Ç—Ç–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Ä–µ—Å–º–∏ –µ–º–µ—Å “õ“±—Ä–∞–ª. \
‚ö†Ô∏è –ü–∞–π–¥–∞–ª–∞–Ω—É ‚Äî —Å—ñ–∑–¥—ñ“£ —Ç”ô—É–µ–∫–µ–ª—ñ“£—ñ–∑–¥–µ. –ê–≤—Ç–æ—Ä Altel.kz –Ω–µ–º–µ—Å–µ –æ–Ω—ã“£ —Å–µ—Ä—ñ–∫—Ç–µ—Å—Ç–µ—Ä—ñ–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—ã –∂–æ“õ. \
‚ö†Ô∏è –ë“±–ª –∫–æ–¥ –ø–∞–π–¥–∞–ª–∞–Ω—É —à–∞—Ä—Ç—Ç–∞—Ä—ã–º–µ–Ω “õ–æ—Ä“ì–∞–ª“ì–∞–Ω –≤–µ–±-—Å–µ—Ä–≤–∏—Å—Ç–µ—Ä–º–µ–Ω ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Å—É—ñ –º“Ø–º–∫—ñ–Ω.

#

[![Software License](https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square)](LICENSE.md)
