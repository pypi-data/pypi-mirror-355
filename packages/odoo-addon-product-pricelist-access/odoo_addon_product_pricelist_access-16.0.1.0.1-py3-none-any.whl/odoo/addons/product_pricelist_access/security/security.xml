<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright 2025 Manuel Regidor <manuel.regidor@sygel.es>
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->
<odoo noupdate="True">
    <record id="restrict_product_pricelist" model="res.groups">
        <field name="name">Restrict Product Pricelist</field>
    </record>
    <record model="ir.rule" id="restrict_product_pricelist_record_rule">
        <field name="name">Restrict Pricelist Access</field>
        <field name="model_id" ref="model_product_pricelist" />
        <field
            name="domain_force"
        >['|', ('access_user_ids', '=', False), ('access_user_ids', 'in', user.id)]</field>
        <field
            name="groups"
            eval="[(4, ref('product_pricelist_access.restrict_product_pricelist'))]"
        />
    </record>
    <record model="ir.rule" id="restrict_product_pricelist_item_record_rule">
        <field name="name">Restrict Pricelist Item Access</field>
        <field name="model_id" ref="product.model_product_pricelist_item" />
        <field
            name="domain_force"
        >['|', ('pricelist_id.access_user_ids', '=', False), ('pricelist_id.access_user_ids', 'in', user.id)]</field>
        <field
            name="groups"
            eval="[(4, ref('product_pricelist_access.restrict_product_pricelist'))]"
        />
    </record>
</odoo>
