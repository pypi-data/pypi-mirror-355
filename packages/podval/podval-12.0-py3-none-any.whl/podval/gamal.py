import pyperclip as pc

def all_topics():
    """
01_nx_graph - –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∞–º–∏ –≤ NetworkX
02_drawing - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤ –≤ NetworkX
03_degree - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤
04_models - –ú–æ–¥–µ–ª—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ú–æ–¥–µ–ª—å —Ç–µ—Å–Ω–æ–≥–æ –º–∏—Ä–∞ –£–æ—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Å–∞. –°–ª—É—á–∞–π–Ω—ã–µ —Å–µ—Ç–∏.
05_community_detection - –ó–∞–¥–∞—á–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤ –∏ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞. –ê–ª–≥–æ—Ä–∏—Ç–º –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –õ—É–≤–µ–Ω—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º.
06_lpa - –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ (LPA)
07_random_walk_pagerank - –°–ª—É—á–∞–π–Ω–æ–µ –±–ª—É–∂–¥–∞–Ω–∏–µ. PageRank
08_rwlpa - –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª—É–∂–¥–∞–Ω–∏–π (RW-LPA)
09_cuts - –†–∞–∑—Ä–µ–∑ –≥—Ä–∞—Ñ–∞. –ú–∞—Ç—Ä–∏—Ü–∞ –õ–∞–ø–ª–∞—Å–∞.
10_clustering - –°–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
11_gcnn_mpf - –í–≤–µ–¥–µ–Ω–∏–µ –≤ GCNN. Message passing framework
12_gnn_nodes - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —É–∑–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥—Ä–∞—Ñ–æ–≤—ã—Ö –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
13_gnn_graphs - –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —É–∑–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥—Ä–∞—Ñ–æ–≤—ã—Ö –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
14_kg_translation_models - –ì—Ä–∞—Ñ—ã –∑–Ω–∞–Ω–∏–π. –¢—Ä–∞–Ω—Å–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
    """
    pass

def all_texts():
    """
---1_nx_graph---
    1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –∫–æ–ª—å—Ü–µ–≤–æ–π –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ n —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏). –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —É–∑–ª–∞ –≤—ã—Å—Ç—É–ø–∞—é—Ç —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ n-1. –ö–∞–∂–¥–æ–º—É —É–∑–ª—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 1 –¥–æ 100. –ö–∞–∂–¥–æ–º—É —Ä–µ–±—Ä—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç mean_incident_age, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ age —É —É–∑–ª–æ–≤, –∏–Ω—Ü–∏–¥–µ–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω–æ–º—É —Ä–µ–±—Ä—É.

–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5 —É–∑–ª–∞–º–∏. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç age –¥–ª—è —É–∑–ª–æ–≤ (–∫–ª—é—á - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞) –∏ mean_incident_age –¥–ª—è —Ä–µ–±–µ—Ä (–∫–ª—é—á - –ø–∞—Ä–∞ (u, v) –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ —Ä–µ–±—Ä–∞). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

    2. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ 3n + 1 —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏), –≥–¥–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª —Å–æ–µ–¥–∏–Ω–µ–Ω —Å —Ç—Ä–µ–º—è –ø—É—Ç—è–º–∏ –¥–ª–∏–Ω—ã n. –†–µ–±—Ä–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Å—Ç–æ—Ä–æ–Ω—É —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–∑–ª–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –¥–ª—è n=3. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –µ–≥–æ —Å–æ—Å–µ–¥–µ–π (–æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ –≤—Ö–æ–¥—è—â–∏–º –∏ –∏—Å—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

3. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤—É–º–µ—Ä–Ω–æ–π —Ä–µ—à–µ—Ç–∫–∏ n –Ω–∞ m. –í –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä—ã (x, y), –≥–¥–µ x - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ —Ä–µ—à–µ—Ç–∫–∏, y - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞ —Ä–µ—à–µ—Ç–∫–∏. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É —Ä–µ—à–µ—Ç–∫–∏ –≤ –≤–∏–¥–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ n –∏ m  —Å–∞–º–æ–≥–æ –≥—Ä–∞—Ñ–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5, m=4. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –í—ã–≤–µ–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≥—Ä–∞—Ñ–∞ –Ω–∞ —ç–∫—Ä–∞–Ω. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ networkx.

4. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º—É–ª—å—Ç–∏–≥—Ä–∞—Ñ, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ m —É–∑–ª–æ–≤, –≥–¥–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ u –∏ v —Å—ç–º–ø–ª–∏—Ç—Å—è –∏–∑ –±–∏–Ω–æ–º–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ n –∏ p (m, n, p - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏). –ü–µ—Ç–ª–∏ –≤ –≥—Ä–∞—Ñ–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è. –ù–∞ –∫–∞–∂–¥–æ–º —Ä–µ–±—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç weight, —Ä–∞–≤–Ω—ã–π –æ–±—Ä–∞—Ç–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–±–µ—Ä –º–µ–∂–¥—É –∏–Ω–¥–∏—Ü–µ–Ω—Ç–Ω—ã–º–∏ –µ–º—É —É–∑–ª–∞–º–∏. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –≥—Ä–∞—Ñ–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ç–ª—è–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑—É–π—Ç–µ –µ–µ.

5. –ì—Ä–∞—Ñ ¬´(u,v) —Ü–≤–µ—Ç–æ–∫¬ª: —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–æ—Å—Ç–∞ –∫–∞–∂–¥–∞—è —Å–≤—è–∑—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 2 –ø—É—Ç–∏, –¥–ª–∏–Ω–æ–π u –∏ v —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ (—Å–º.—Ä–∏—Å). –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è (1, 2) —Ü–≤–µ—Ç–∫–∞. –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–∞–∂–¥–æ–π –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π.

6. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ weighted_wheel.npy –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π –≥—Ä–∞—Ñ–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–∏–ø –≥—Ä–∞—Ñ–∞ (nx.Graph, nx.DiGraph, ...). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö.–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≥—Ä–∞—Ñ –Ω–∞ –¥–∏—Å–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ edgelist.

7. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–±—Ä–∞—Ö –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ data/karate.edgelist –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ read_edgelist. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤ –∫ —á–∏—Å–ª–æ–≤–æ–º—É —Ç–∏–ø—É. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞, –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.karate_club_graph. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑ —Ñ–∞–π–ª–∞ –≥—Ä–∞—Ñ–∞ –∏ –≥—Ä–∞—Ñ–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π) –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—Ä–∏—Ü —Å–º–µ–∂–Ω–æ—Å—Ç–∏ —É—á—Ç–∏—Ç–µ, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–∞—Ö –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è.

---2_drawing---
1. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—É—é —Ä–µ—à–µ—Ç–∫—É —Ä–∞–∑–º–µ—Ä–∞ 5—Ö3, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–≤–∞—Ä—å pos, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤, –∞ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç—Ç–∏—Ö —É–∑–ª–æ–≤ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤ —Å—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–∞—Ä (x, y), –≥–¥–µ x - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –∞ y - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Ä–∏—Å—É–Ω–æ–∫ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

2. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –ò—Å–ø–æ–ª—å–∑—É—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –≤–∏–¥–∞ x_layout, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ networkx —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É–∫–ª–∞–¥–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ö–∞–∂–¥–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ —Å–µ—Ç–∫–µ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –≤–∏–¥–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —É–∫–ª–∞–¥–∫–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –¥–∞–Ω–Ω–æ–º—É –≥—Ä–∞—Ñ—É, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –µ–µ.

3. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 20 –¥–æ 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç –∫–ª—É–±–∞ (–∫—Ä–∞—Å–Ω—ã–π –¥–ª—è "Mr. Hi" –∏ –∑–µ–ª–µ–Ω—ã–π –¥–ª—è "Officer") –∏ —Å–¥–µ–ª–∞–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤–µ–ª–∏—á–∏–Ω–µ –∞—Ç—Ä–∏–±—É—Ç–∞ age.

4. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ "–ø—É—Ç—å" –∏–∑ 3 —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞–∑–≤–µ—Ä–Ω—É–≤ —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ (—Å–∞–º –≥—Ä–∞—Ñ –æ—Å—Ç–∞–≤—å—Ç–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π). –ù–∞ –≤—Å–µ—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è—Ö –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

5. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ Les Miserables. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ random_layout. –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ edge_colors –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö –∏ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ (clip) –µ–≥–æ —Å–≤–µ—Ä—Ö—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 10, —Å–Ω–∏–∑—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 1.
–û—Ç—Ä–∏—Å—É–π—Ç–µ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_nodes —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞ —É–∑–ª–æ–≤ 10. –ù–∞ —Ç–æ—Ç —Ä–∏—Å—É–Ω–æ–∫ –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_edges, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —Ä–µ–±—Ä–∞ –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–Ω–∞—á–µ–Ω–∏—è–º edge_colors —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ü–≤–µ—Ç–æ–≤–æ–π –∫–∞—Ä—Ç—ã viridis. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é colorbar, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ü–≤–µ—Ç–æ–≤ —Ä–µ–±–µ—Ä.

---3_degree---
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç name, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –í—ã–≤–µ–¥–∏—Ç–µ –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞, —á–µ–π —É–∑–µ–ª –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å, –∏ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–∏.

2. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ nx.Graph. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å—Ä–µ–¥–Ω—é—é —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—É—é –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ.

3. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –≤—Ö–æ–¥—è—â—É—é –∏ –∏—Å—Ö–æ–¥—è—â—É—é —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π –∏ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π.

4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –î–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≥—Ä–∞—Ñ–∞ nx.DiGraph. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏.
    
5. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≥—Ä–∞—Ñ–∞ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ 2—Ö2. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

6. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≤—ã–±–æ—Ä–∫—É –∏–∑ –î–∑–µ—Ç–∞-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¶–∏–ø—Ñ–∞) —Å —á–∏—Å–ª–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π 10 —Ç—ã—Å. –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è  ùõº=2
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏–Ω–µ–π–Ω–æ–≥–æ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–≥–æ –±–∏–Ω–Ω–∏–Ω–≥–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤ –ª–∏–Ω–µ–π–Ω—ã—Ö –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏—Ö (log-log) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (–¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).
 
---4_models---
1. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n > 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∏ —Ü–≤–µ—Ç —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏—Ö —Å—Ç–µ–ø–µ–Ω–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è —Å–µ—Ç–∏.

2. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n=10000. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å–µ—Ç–∏ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

3. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º log-binning –¥–ª—è —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞ —ç—Ç–æ–º –∂–µ –≥—Ä–∞—Ñ–∏–∫–µ –∏–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–∞–∫–æ–Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è log-binning –≤ log-log –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.

4. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ –£–æ—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Å–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç–∏ —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 1000 –∏ —Å —Ä–∞–∑–Ω—ã–º p. –í –∫–∞—á–µ—Å—Ç–≤–µ p —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–æ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–π —à–∫–∞–ª–µ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ  [10‚àí4,1].
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è, –ø–æ—Å—Ç—Ä–æ–∏–≤ –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ä–µ–¥–Ω–µ–π –¥–ª–∏–Ω—ã –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–µ—Ç–∏ –±–µ–∑ –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è. –û–±–æ–∑–Ω–∞—á—å—Ç–µ —Ç–æ—á–∫–∏ —Ä–∞–∑–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏. –î–æ–±–∞–≤—å—Ç–µ –ª–µ–≥–µ–Ω–¥—É.

5. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/ . C –ø–æ–º–æ—â—å—é nx.configuration_model –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ —Ä—è–¥–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.

6. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ—Å—Ç–æ–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 500 –ø—Ä–∏ —Ä–∞–¥–∏—É—Å–µ r=0.2 –∏  ùêø2  –º–µ—Ç—Ä–∏–∫–æ–π –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —É–º–µ–Ω—å—à–∏–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–æ–≤ –∏ —Å–¥–µ–ª–∞–≤ —Ü–≤–µ—Ç —Ä–µ–±–µ—Ä —á–µ—Ä–Ω—ã–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RGBA). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤  ùêø1

---5_community_detection---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å Southern women —Å —Å–∞–π—Ç–∞ http://konect.cc/, —É–¥–∞–ª–∏—Ç–µ –∏–∑ –Ω–µ–≥–æ –ø–µ—Ç–ª–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 5 —Ä–∞–∑–±–∏–µ–Ω–∏–π —ç—Ç–æ–π —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (—á–∞—Å—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º –æ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —á–∞—Å—Ç—å - –Ω–µ—Ç). –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ—ã, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.

2. –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤–µ–ª–∏—á–∏–Ω—ã:

–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
—Å—Ä–µ–¥–Ω—é—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤.
–º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å
–ø–æ–∫—Ä—ã—Ç–∏–µ (coverage)
—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (performance)
–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∫—Ä—É–≥–ª–∏—Ç–µ –¥–æ —Å–æ—Ç—ã—Ö –∏ —Å–≤–µ–¥–∏—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

–†–∞–∑–±–∏–µ–Ω–∏–µ	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	...	...
1				
...				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas.

3. –°—á–∏—Ç–∞–π—Ç–µ —Å–µ—Ç—å –∏–∑ —Ñ–∞–π–ª–∞ communities.edgelist. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤—É.

4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –¥–ª—è —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –Ω–∞–∏–ª—É—á—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ (–≤—ã–≤–µ–¥–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω). –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –õ—É–≤–µ–Ω—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é. 

6. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–º—É –æ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç (—Ç.–µ. –Ω–æ–º–µ—Ä–∞  0...ùê∂1‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂1
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –ø–µ—Ä–≤–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É; –Ω–æ–º–µ—Ä–∞  ùê∂1...ùê∂2‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂2
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –≤—Ç–æ—Ä–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ —Ç.–¥.). –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –õ—É–≤–µ–Ω—Å–∫–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ seaborn.heatmap. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ —Ä–∏—Å—É–Ω–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∏—Å—É–Ω–∫–æ–≤. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

---6_lpa---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ –≤—ã–¥–µ–ª–∏—Ç–µ –≤ –Ω–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏–∑ networkx. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ —Å—Ä–µ–¥–∏ –º–µ—Ç–æ–∫ —Å–æ—Å–µ–¥–µ–π –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π, —Ç–æ –º–µ—Ç–∫–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –∫–æ–≥–¥–∞ –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –º–µ—Ç–∫–∞ –Ω–∏ –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

4. –ò—Å–ø–æ–ª—å–∑—É—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é LPA, —Ä–∞–∑–±–µ–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ N=10 —Ä–∞–∑. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ freqs —Ä–∞–∑–º–µ—Ä–∞ MxM (M - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ), –≥–¥–µ freqs[i, j] –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ —É–∑–ª—ã i –∏ j –æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ.
–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ i –∏ j —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–≤—è–∑—å —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ freqs[i, j] >= 8. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–µ, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞) –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–¥–∞–Ω–∏—è–º.

5. –û—Ñ–æ—Ä–º–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
–ê–ª–≥–æ—Ä–∏—Ç–º	–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤	–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å	–ü–æ–∫—Ä—ã—Ç–∏–µ	–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π LPA				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas. –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---7-rand_walk---
1\. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ `A` —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ `P` –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∞–≤–∏–ª—É:
$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$
–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è (1) –∏ (2).
$0 \le p_{ij} \le 1$ (1)
$\sum_j p_{ij}=1$    (2)
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π —Å–º–µ–∂–Ω–æ—Å—Ç–∏.

2\. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T$. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É
$\mathbf{p}^{t+1}=(\mathbf{P}^{\top})\mathbf{p}^t$ 
–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.
3\. –ù–∞–π–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é $(\mathbf{P}^{\top})^\infty$ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ —Å—Ç–µ–ø–µ–Ω—å.
–î–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–µ–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ç.–µ. $||(\mathbf{P}^{\top})^{\infty}  -(\mathbf{P}^{\top})(\mathbf{P}^{\top})^{\infty}|| <= \epsilon$
C–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T $. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π $(\mathbf{P}^{\top})^\infty$. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.
–ò—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é `np.allclose`, –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–µ–∫—Ç–æ—Ä—ã —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏, —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ —Ç—ã—Å—è—á–Ω—ã—Ö).

4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤ —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ—Ç–º–∞—Å—à–∞–±–∏—Ä–æ–≤–∞–≤ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏:
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å—Ç–µ–ø–µ–Ω–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å—Ç–≤—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ PageRank.
–ù–∞ –∫–∞–∂–¥–æ–º —Ä–∏—Å—É–Ω–∫–µ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–µ—Ä–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

5\. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º PageRank —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∑–∞—Ç—É—Ö–∞–Ω–∏—è $\alpha=0.9$.
–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ $\mathbf{P}$.
$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É $\mathbf{P}$:
$$\mathbf{P}' = \alpha \mathbf{P} + (1-\alpha)\frac{1}{n}\mathbf{E}$$
$$\mathbf{M}=(\mathbf{P}')^{\top}$$
–≥–¥–µ $\mathbf{E}$ - –º–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–∞ `NxN`, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –µ–¥–∏–Ω–∏—Ü.
–ü–æ–ª—É—á–∏—Ç–µ –≤–µ–∫—Ç–æ—Ä $\mathbf{p}^\infty = \mathbf{pr}^{iter}$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É
$$\mathbf{p}^{t+1}=\mathbf{M}\mathbf{p}^t$$
–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.
–í—ã–∑–æ–≤–∏—Ç–µ `nx.pagerank` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –¥–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç.

6\. –í—ã—á–∏—Å–ª–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã PageRank –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–¥–∞—á–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$ $\mathbf{pr}^{eig}$, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É —á–∏—Å–ª—É 1.
–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ $\mathbf{pr}^{eig}$ –∏ $\mathbf{pr}^{iter}$ –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è —Å.–≤. –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$.

---8_rwlpa---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Karate Club. –ü–æ–ª—É—á–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ club, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –Ω–∞ —É–∑–ª–∞—Ö. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Mr. Hi –∏ 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Officer. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏ 0, 1, ... 7 –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª–∏ —É–∑–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ.

2. –ü–æ–ª—É—á–∏—Ç–µ –±–ª–æ—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêè
  –∏ –º–∞—Ç—Ä–∏—Ü—É –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ—Ç–æ–∫  ùêò0‚àà{0,1}ùëÅ√ó2
ùêè=(ùêèùëôùëôùêèùë¢ùëôùêèùëôùë¢ùêèùë¢ùë¢)=(ùêàùêèùë¢ùëô0ùêèùë¢ùë¢)
ùêò0=(ùêòùê•ùêòùêÆ)=(ùêòùê•0)
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–µ–¥ –º–∞—Ç—Ä–∏—Ü—ã  ùêè
 . –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–Ω—É–ª–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã  ùêò0
# –ü—Ä–æ—Ü–µ—Å—Å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±–ª—É–∂–¥–∞–Ω–∏—è —Å –ª–æ–≤—É—à–∫–∞–º–∏, –ø–æ–ø–∞–≤ –≤ –Ω–∏—Ö –ø—Ä–∏ –±–ª—É–∂–¥–∞–Ω–∏–∏ –º—ã –æ—Å—Ç–∞–µ–º—Å—è –≤ –Ω–∏—Ö –≤–æ –≤—Ä–µ–º—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π
# —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–æ–≤-–ª–æ–≤—É—à–µ–∫ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º
# —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª–∞–∂–¥–∞–Ω–∏–π –∏–∑ —É–∑–ª–æ–≤, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ u, –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –Ω–∞
# –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö

3. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –¥–ª—è –±–ª–æ—á–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ:
ùêè‚àû=(ùêà(ùêà‚àíùêèùë¢ùë¢)‚àí1ùêèùë¢ùëô00)
–ü–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É  ùêè‚àû
  –ø—É—Ç–µ–º –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à—É—é —Å—Ç–µ–ø–µ–Ω—å. –°–≤—è–∂–∏—Ç–µ –±–ª–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ P_ll, P_lu, P_ul, P_uu –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É–ª–µ –≤—ã—à–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ np.allclose.
  
4. –ò—Å–ø–æ–ª—å–∑—É—è –ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç RW-LPA , —Ä–∞—Å—Å—Ç–∞–≤—å—Ç–µ –º–µ—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å, –ø–æ–∫–∞–∑–∞–≤ —Ü–≤–µ—Ç–æ–º –∫–æ–Ω—Ç—É—Ä–∞ –≤–æ–∫—Ä—É–≥ —É–∑–ª–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —É–∑–ª–∞ –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å–æ–æ–±—â–µ—Å—Ç–≤, –∞ —Ü–≤–µ—Ç–æ–º —Ü–≤–µ—Ç–æ–º –∑–∞–ª–∏–≤–∫–∏ —É–∑–ª–∞ - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —É–∑–µ–ª –±—ã–ª –æ—Ç–Ω–µ—Å–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

---9_cuts---
1. –ó–∞–¥–∞–Ω –≥—Ä–∞—Ñ G. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –¥–≤–∞ —Ä–∞–∑—Ä–µ–∑–∞:

ùê∂(1)=(ùëÅ(1)1,ùëÅ(1)2)
 ,  ùëÅ(1)1={0,1,2,3,4}
 ,  ùëÅ(1)2={5,6,7,8,9}
 
ùê∂(2)=(ùëÅ(2)1,ùëÅ(2)2)
 ,  ùëÅ(2)1={0,1,2,3,4,5,6,7,8}
 ,  ùëÅ(2)2={9}
 
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—É  ùëÑ(ùëò)
  –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –≤—Å–µ —Ä–µ–±—Ä–∞ –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞ networkx. –í—ã–≤–µ–¥–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã —Ä–∞–∑—Ä–µ–∑–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω.

ùëÑ(ùëò)=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)=‚àëùëñ‚ààùëÅ(ùëò)1,ùëó‚ààùëÅ(ùëò)2ùëôùëñùëó

2. –î–ª—è —Ä–∞–∑—Ä–µ–∑–æ–≤ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ
ùëâùëúùëô(ùëÅ(ùëò)ùë°)=‚àëùëñ‚ààùëÅ(ùëò)ùë°,ùëó‚ààùëÅùëôùëñùëó=‚àëùëñ‚ààùëÅ(ùëò)ùë°ùëòùëñ,ùë°=1,2
ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)1)+ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)2)
–∏
ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)min(ùëâùëúùëô(ùëÅ(ùëò)1),ùëâùëúùëô(ùëÅ(ùëò)2))
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–µ–∑–∞ –≤—ã–≤–µ–¥–∏—Ç–µ —á–µ—Ç—ã—Ä–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëâùëúùëô(ùëÅ(ùëò)1)
 ,  ùëâùëúùëô(ùëÅ(ùëò)2)
 ,  ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë
  –∏  ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°
  –Ω–∞ —ç–∫—Ä–∞–Ω.
  
3. –î–ª—è –≥—Ä–∞—Ñ–∞ G –∏–∑ –∑–∞–¥–∞–Ω–∏—è 1 –≤—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
–ø–æ —Ñ–æ—Ä–º—É–ª–µ  ùêã=ùêÉ‚àíùêÄ;
–∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx.
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã –Ω–∞ —ç–∫—Ä–∞–Ω –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëÑ(ùëò)
 , –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–∞—Ç—Ä–∏—Ü–µ–π –õ–∞–ø–ª–∞—Å–∞.
 
5. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ G.
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –≥—Ä–∞—Ñ–∞ G —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–∑—Ä–µ–∑–æ–º ùê∂(1)
. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è –Ω–µ—Å–≤—è–∑–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.
 –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–µ–º–∏–Ω–∞—Ä–µ
–õ–µ–º–º–∞: –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ —Å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏ –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –ª–∞–ø–ª–∞—Å–∞ —Ä–∞–≤–Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–≤—è–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∏ , ‚Ä¶ , . –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å.–∑. 0, –Ω–∞–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–º–∏–º —Å.–∑. 0 —è–≤–ª—è–µ—Ç—Å—è –æ–±–æ–ª–æ—á–∫–æ–π –Ω–∞–¥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ —ç—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

---10_cluster---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ –∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêã=ùêÉ‚àíùêÄ
  –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏.
–í—ã–¥–µ–ª–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêÆ
 , –æ—Ç–≤–µ—á–∞—é—â–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–µ–Ω—É–ª–µ–≤–æ–º—É —Å.–∑.  ùúÜùëñ‚â†0
  –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ  ùêÆ
  –≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêü
  –ø–æ –ø—Ä–∞–≤–∏–ª—É  ùêüùëñ
  = sign( ùêÆùëñ)
 .
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ  ùêÆ
 : –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —É–∑–ª–∞, –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–µ–∫—Ç–æ—Ä–∞  ùêÆ
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ–±–æ–∑–Ω–∞—á–∏–≤ —Ü–≤–µ—Ç–æ–º —É–∑–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ø–∞–¥–∞–µ—Ç —É–∑–µ–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–µ–∑–æ–º.

2. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â—É—é –∑–∞–¥–∞—á—É, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêãùë†ùë¶ùëö=ùêÉ‚àí12ùêãùêÉ‚àí12
 . –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêñ
 
3. –î–∞–Ω –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (X, y). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—Ä–∏—Å–æ–≤–∞–≤ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –∏ —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∫–∞–º –æ–±—ä–µ–∫—Ç–æ–≤ y. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

4. –ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ radius_neighbors_graph –∏–∑ sklearn (—É–∫–∞–∂–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç radius=1). –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É  ùëà‚àà‚Ñù300√ó3
 , —Å–æ—Å—Ç–æ—è—é—â—É—é –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–º –Ω–∞–∏–º–µ–Ω—å—à–∏–º –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—ã  ùëà
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
 
5. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ SpectralClustering –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∂–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ affinity='nearest_neighbors'.

---11_gcnn_mpf---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∏–∑ —Ñ–∞–π–ª–∞ karate.graphml. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ (–∞—Ç—Ä–∏–±—É—Ç label —É —É–∑–ª–æ–≤).
–ü–æ–ª—É—á–∏—Ç–µ –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêÄ
  –≤ –≤–∏–¥–µ —Ç–µ–Ω–∑–æ—Ä–∞ torch –∏ —Ç–µ–Ω–∑–æ—Ä –º–µ—Ç–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. –í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ç–µ–Ω–∑–æ—Ä—ã –Ω–∞ —ç–∫—Ä–∞–Ω.
  
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêÄÃÇ.
ùêÄÃÇ =ùêÉ‚àí1ùêÄ
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä  ùêó
  —Ä–∞–∑–º–µ—Ä–∞ Nx5 —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ —É–∑–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è torch.rand. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è.
ùêóÃÇ =ùêÄÃÇ ùêó
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∂–µ —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —è–≤–Ω–æ –ø—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–≤—à–∏—Å—å –ø–æ —É–∑–ª–∞–º –≥—Ä–∞—Ñ–∞ –∏ —É—Å—Ä–µ–¥–Ω–∏–≤ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–æ—Å–µ–¥–µ–π. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ç–µ–Ω–∑–æ—Ä–∞ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

3. –û–ø–∏—à–∏—Ç–µ —Å–ª–æ–π GCNLayer –≥—Ä–∞—Ñ–æ–≤–æ–π —Å–≤–µ—Ä—Ç–æ—á–Ω–æ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–π —Å n_outputs=3 –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å–ª–æ–π –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó=ùêÑ
 . –í—ã–≤–µ–¥–∏—Ç–µ —Ñ–æ—Ä–º—É –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.
 
4. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ–æ–≤—É—é —Å–≤–µ—Ä—Ç–æ—á–Ω—É—é –Ω–µ–π—Ä–æ–Ω–Ω—É—é —Å–µ—Ç—å, —Ä–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ –¥–≤—É—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–¥—É—â–∏—Ö —Å–ª–æ–µ–≤ GCNLayer. –ü–µ—Ä–≤—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç 2 –Ω–µ–π—Ä–æ–Ω–∞ –∏ –≥–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ç–∞–Ω–≥–µ–Ω—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–π—Ä–æ–Ω–æ–≤ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–æ–≤ –≤ –∑–∞–¥–∞—á–µ. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–¥–µ–ª—å (–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω–∏—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêó=ùêÑ).
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π —Å–ª–æ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó
  —Å–ª–µ–¥—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É–∑–ª–æ–≤ (–∫–∞–∂–¥—ã–π —É–∑–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ç—ã—Ä—å–º—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏):
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥–∏—Ç —É–∑–µ–ª;
—Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞;
—ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏—Å–∏—Ç–µ—Ç —É–∑–ª–∞;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É –¥–ª—è —É–∑–ª–∞.
–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

---12_gnn_nodes---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Planetoid/Cora –∏–∑ torch_geometric.datasets.
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω:
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞;
—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
–†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ª–æ–∏ torch.nn.Linear (—Å–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –∏–∑ –¥–≤—É—Ö —Å–ª–æ–µ–≤). –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ (–Ω–µ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –Ω–∞ –±–∞—Ç—á–∏). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ accuracy –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ.

2. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 1, –∏—Å–ø–æ–ª—å–∑—É—è –¥–≤–∞ —Å–ª–æ—è torch_geometric.nn.GCNConv –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã—Ö —Å–ª–æ–µ–≤ torch.nn.Linear.

3. –í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –Ω–µ–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –¥–æ 2 –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ t-SNE (sklearn.manifold.TSNE). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —Ç–æ—á–∫–∏ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–µ—Ç–∫–∞–º —É–∑–ª–æ–≤.
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

4. –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∑–ª—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 2, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 4, —Å—Ä–∞–≤–Ω–∏–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–µ–≤:
GCNConv
SAGEConv (—É–∫–∞–∂–∏—Ç–µ aggr="mean")
GATConv (–≤—ã–±–µ—Ä–∏—Ç–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ—è heads > 1)
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
–ú–æ–¥–µ–ª—å	Loss –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ —Ç–µ—Å—Ç–µ	–ö–æ–ª-–≤–æ —ç–ø–æ—Ö –¥–æ —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫

---13_gnn_graphs---
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ GraphsDataset. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å, —Å–æ–∑–¥–∞–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–æ–≤ –∞—Ä—Ö–∏–≤–∞ graphs.zip (–º–æ–∂–Ω–æ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –¥–ª—è –≥—Ä–∞—Ñ–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º 0.

2. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç torch_geometric.loader.DataLodaer. –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–∏–Ω –±–∞—Ç—á —Ä–∞–∑–º–µ—Ä–∞ 128 –ø—Ä–∏ –ø–æ–º–æ—â–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –º–µ—Ç–æ–¥—ã):
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–µ –±–∞—Ç—á–∞;
–í—ã–ø–æ–ª–Ω–∏—Ç–µ readout –¥–ª—è –≥—Ä–∞—Ñ–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ç—Ä–∏–±—É—Ç–∞ x. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.

3. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–æ–∏ SAGEConv –∏ –æ–ø–µ—Ä–∞—Ü–∏—é —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã readout. –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ —Å —Ä–∞–∑–º–µ—Ä–æ–º –±–∞—Ç—á–∞ 128. –í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –≤—ã–≤–æ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –ø–æ —ç–ø–æ—Ö–∞–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics). –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics).

4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 3, —Å—Ä–∞–≤–Ω–∏–≤ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ readout. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
Readout op	Loss	Acc
sum		
mean		
max		
min		

---14_kg_trans---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç CoDExSmall. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç—É—é—â–∏–º –ø–æ–ª—è–º) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –æ–±—É—á–∞—é—â–µ–º (<dataset>.training), –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º (<dataset>.validation) –∏ —Ç–µ—Å—Ç–æ–≤–æ–º (<dataset>.testing) –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –æ–¥–Ω—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°)
  –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –≤–∏–¥–µ (<dataset>.triples) –∏ —ç—Ç—É –∂–µ —Ç—Ä–æ–π–∫—É, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–ª–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π/–æ—Ç–Ω–æ—à–µ–Ω–∏–π (<dataset>.mapped_triples).
  
2. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å TransE –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall –ø—Ä–∏ –ø–æ–º–æ—â–∏ pipeline. –ó–∞–¥–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö –æ–±—É—á–µ–Ω–∏—è (num_epochs –≤ training_kwargs), —Ä–∞–≤–Ω–æ–µ 100, –∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (embedding_dim –≤  model_kwargs), —Ä–∞–≤–Ω—É—é 64.
–ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–æ–º–µ—Ä–∞ —ç–ø–æ—Ö–∏ (<pipeline_result>.plot_losses).
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ –≤–∏–¥–µ pd.DataFrame (<pipeline_result>.metric_results.to_df())

3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –æ–¥–Ω—É —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°‚àó)
  –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞. –ò—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–æ–µ–∫  (‚Ñé,ùëü,ùë°),ùë°‚ààùêæ.
–ù–∞–π–¥–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é (—Ä–∞–Ω–≥) –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–æ–π–∫–∏  ùë°‚àó
  –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –≤–µ–ª–∏—á–∏–Ω—ã score.
  
4. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏ TransE, TransH –∏ TransD –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall.
–°—Ä–∞–≤–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç—Ä–∏–∫–∞–º (side=both –∏ type=realistic):
Adjusted Arithmetic Mean Rank (AAMR): adjusted_arithmetic_mean_rank
Mean Reciprocal Rank (MRR): inverse_harmonic_mean_rank
Hits @ 10: hits_at_10
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Å—Ç–æ–ª–±—á–∞—Ç–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
    """
    text = """
---1_nx_graph---
    1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –∫–æ–ª—å—Ü–µ–≤–æ–π –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ n —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏). –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —É–∑–ª–∞ –≤—ã—Å—Ç—É–ø–∞—é—Ç —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ n-1. –ö–∞–∂–¥–æ–º—É —É–∑–ª—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 1 –¥–æ 100. –ö–∞–∂–¥–æ–º—É —Ä–µ–±—Ä—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç mean_incident_age, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ age —É —É–∑–ª–æ–≤, –∏–Ω—Ü–∏–¥–µ–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω–æ–º—É —Ä–µ–±—Ä—É.

–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5 —É–∑–ª–∞–º–∏. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç age –¥–ª—è —É–∑–ª–æ–≤ (–∫–ª—é—á - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞) –∏ mean_incident_age –¥–ª—è —Ä–µ–±–µ—Ä (–∫–ª—é—á - –ø–∞—Ä–∞ (u, v) –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ —Ä–µ–±—Ä–∞). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

    2. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ 3n + 1 —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏), –≥–¥–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª —Å–æ–µ–¥–∏–Ω–µ–Ω —Å —Ç—Ä–µ–º—è –ø—É—Ç—è–º–∏ –¥–ª–∏–Ω—ã n. –†–µ–±—Ä–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Å—Ç–æ—Ä–æ–Ω—É —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–∑–ª–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –¥–ª—è n=3. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –µ–≥–æ —Å–æ—Å–µ–¥–µ–π (–æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ –≤—Ö–æ–¥—è—â–∏–º –∏ –∏—Å—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

3. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤—É–º–µ—Ä–Ω–æ–π —Ä–µ—à–µ—Ç–∫–∏ n –Ω–∞ m. –í –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä—ã (x, y), –≥–¥–µ x - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ —Ä–µ—à–µ—Ç–∫–∏, y - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞ —Ä–µ—à–µ—Ç–∫–∏. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É —Ä–µ—à–µ—Ç–∫–∏ –≤ –≤–∏–¥–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ n –∏ m  —Å–∞–º–æ–≥–æ –≥—Ä–∞—Ñ–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5, m=4. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –í—ã–≤–µ–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≥—Ä–∞—Ñ–∞ –Ω–∞ —ç–∫—Ä–∞–Ω. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ networkx.

4. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º—É–ª—å—Ç–∏–≥—Ä–∞—Ñ, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ m —É–∑–ª–æ–≤, –≥–¥–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ u –∏ v —Å—ç–º–ø–ª–∏—Ç—Å—è –∏–∑ –±–∏–Ω–æ–º–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ n –∏ p (m, n, p - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏). –ü–µ—Ç–ª–∏ –≤ –≥—Ä–∞—Ñ–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è. –ù–∞ –∫–∞–∂–¥–æ–º —Ä–µ–±—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç weight, —Ä–∞–≤–Ω—ã–π –æ–±—Ä–∞—Ç–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–±–µ—Ä –º–µ–∂–¥—É –∏–Ω–¥–∏—Ü–µ–Ω—Ç–Ω—ã–º–∏ –µ–º—É —É–∑–ª–∞–º–∏. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –≥—Ä–∞—Ñ–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ç–ª—è–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑—É–π—Ç–µ –µ–µ.

5. –ì—Ä–∞—Ñ ¬´(u,v) —Ü–≤–µ—Ç–æ–∫¬ª: —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–æ—Å—Ç–∞ –∫–∞–∂–¥–∞—è —Å–≤—è–∑—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 2 –ø—É—Ç–∏, –¥–ª–∏–Ω–æ–π u –∏ v —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ (—Å–º.—Ä–∏—Å). –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è (1, 2) —Ü–≤–µ—Ç–∫–∞. –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–∞–∂–¥–æ–π –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π.

6. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ weighted_wheel.npy –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π –≥—Ä–∞—Ñ–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–∏–ø –≥—Ä–∞—Ñ–∞ (nx.Graph, nx.DiGraph, ...). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö.–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≥—Ä–∞—Ñ –Ω–∞ –¥–∏—Å–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ edgelist.

7. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–±—Ä–∞—Ö –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ data/karate.edgelist –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ read_edgelist. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤ –∫ —á–∏—Å–ª–æ–≤–æ–º—É —Ç–∏–ø—É. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞, –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.karate_club_graph. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑ —Ñ–∞–π–ª–∞ –≥—Ä–∞—Ñ–∞ –∏ –≥—Ä–∞—Ñ–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π) –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—Ä–∏—Ü —Å–º–µ–∂–Ω–æ—Å—Ç–∏ —É—á—Ç–∏—Ç–µ, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–∞—Ö –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è.

---2_drawing---
1. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—É—é —Ä–µ—à–µ—Ç–∫—É —Ä–∞–∑–º–µ—Ä–∞ 5—Ö3, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–≤–∞—Ä—å pos, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤, –∞ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç—Ç–∏—Ö —É–∑–ª–æ–≤ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤ —Å—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–∞—Ä (x, y), –≥–¥–µ x - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –∞ y - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Ä–∏—Å—É–Ω–æ–∫ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

2. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –ò—Å–ø–æ–ª—å–∑—É—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –≤–∏–¥–∞ x_layout, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ networkx —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É–∫–ª–∞–¥–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ö–∞–∂–¥–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ —Å–µ—Ç–∫–µ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –≤–∏–¥–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —É–∫–ª–∞–¥–∫–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –¥–∞–Ω–Ω–æ–º—É –≥—Ä–∞—Ñ—É, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –µ–µ.

3. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 20 –¥–æ 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç –∫–ª—É–±–∞ (–∫—Ä–∞—Å–Ω—ã–π –¥–ª—è "Mr. Hi" –∏ –∑–µ–ª–µ–Ω—ã–π –¥–ª—è "Officer") –∏ —Å–¥–µ–ª–∞–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤–µ–ª–∏—á–∏–Ω–µ –∞—Ç—Ä–∏–±—É—Ç–∞ age.

4. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ "–ø—É—Ç—å" –∏–∑ 3 —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞–∑–≤–µ—Ä–Ω—É–≤ —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ (—Å–∞–º –≥—Ä–∞—Ñ –æ—Å—Ç–∞–≤—å—Ç–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π). –ù–∞ –≤—Å–µ—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è—Ö –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

5. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ Les Miserables. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ random_layout. –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ edge_colors –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö –∏ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ (clip) –µ–≥–æ —Å–≤–µ—Ä—Ö—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 10, —Å–Ω–∏–∑—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 1.
–û—Ç—Ä–∏—Å—É–π—Ç–µ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_nodes —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞ —É–∑–ª–æ–≤ 10. –ù–∞ —Ç–æ—Ç —Ä–∏—Å—É–Ω–æ–∫ –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_edges, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —Ä–µ–±—Ä–∞ –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–Ω–∞—á–µ–Ω–∏—è–º edge_colors —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ü–≤–µ—Ç–æ–≤–æ–π –∫–∞—Ä—Ç—ã viridis. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é colorbar, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ü–≤–µ—Ç–æ–≤ —Ä–µ–±–µ—Ä.

---3_degree---
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç name, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –í—ã–≤–µ–¥–∏—Ç–µ –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞, —á–µ–π —É–∑–µ–ª –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å, –∏ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–∏.

2. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ nx.Graph. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å—Ä–µ–¥–Ω—é—é —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—É—é –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ.

3. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –≤—Ö–æ–¥—è—â—É—é –∏ –∏—Å—Ö–æ–¥—è—â—É—é —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π –∏ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π.

4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –î–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≥—Ä–∞—Ñ–∞ nx.DiGraph. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏.
    
5. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≥—Ä–∞—Ñ–∞ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ 2—Ö2. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

6. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≤—ã–±–æ—Ä–∫—É –∏–∑ –î–∑–µ—Ç–∞-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¶–∏–ø—Ñ–∞) —Å —á–∏—Å–ª–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π 10 —Ç—ã—Å. –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è  ùõº=2
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏–Ω–µ–π–Ω–æ–≥–æ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–≥–æ –±–∏–Ω–Ω–∏–Ω–≥–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤ –ª–∏–Ω–µ–π–Ω—ã—Ö –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏—Ö (log-log) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (–¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).
 
---4_models---
1. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n > 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∏ —Ü–≤–µ—Ç —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏—Ö —Å—Ç–µ–ø–µ–Ω–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è —Å–µ—Ç–∏.

2. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n=10000. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å–µ—Ç–∏ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

3. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º log-binning –¥–ª—è —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞ —ç—Ç–æ–º –∂–µ –≥—Ä–∞—Ñ–∏–∫–µ –∏–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–∞–∫–æ–Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è log-binning –≤ log-log –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.

4. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ –£–æ—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Å–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç–∏ —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 1000 –∏ —Å —Ä–∞–∑–Ω—ã–º p. –í –∫–∞—á–µ—Å—Ç–≤–µ p —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–æ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–π —à–∫–∞–ª–µ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ  [10‚àí4,1].
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è, –ø–æ—Å—Ç—Ä–æ–∏–≤ –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ä–µ–¥–Ω–µ–π –¥–ª–∏–Ω—ã –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–µ—Ç–∏ –±–µ–∑ –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è. –û–±–æ–∑–Ω–∞—á—å—Ç–µ —Ç–æ—á–∫–∏ —Ä–∞–∑–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏. –î–æ–±–∞–≤—å—Ç–µ –ª–µ–≥–µ–Ω–¥—É.

5. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/ . C –ø–æ–º–æ—â—å—é nx.configuration_model –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ —Ä—è–¥–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.

6. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ—Å—Ç–æ–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 500 –ø—Ä–∏ —Ä–∞–¥–∏—É—Å–µ r=0.2 –∏  ùêø2  –º–µ—Ç—Ä–∏–∫–æ–π –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —É–º–µ–Ω—å—à–∏–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–æ–≤ –∏ —Å–¥–µ–ª–∞–≤ —Ü–≤–µ—Ç —Ä–µ–±–µ—Ä —á–µ—Ä–Ω—ã–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RGBA). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤  ùêø1

---5_community_detection---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å Southern women —Å —Å–∞–π—Ç–∞ http://konect.cc/, —É–¥–∞–ª–∏—Ç–µ –∏–∑ –Ω–µ–≥–æ –ø–µ—Ç–ª–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 5 —Ä–∞–∑–±–∏–µ–Ω–∏–π —ç—Ç–æ–π —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (—á–∞—Å—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º –æ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —á–∞—Å—Ç—å - –Ω–µ—Ç). –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ—ã, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.

2. –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤–µ–ª–∏—á–∏–Ω—ã:

–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
—Å—Ä–µ–¥–Ω—é—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤.
–º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å
–ø–æ–∫—Ä—ã—Ç–∏–µ (coverage)
—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (performance)
–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∫—Ä—É–≥–ª–∏—Ç–µ –¥–æ —Å–æ—Ç—ã—Ö –∏ —Å–≤–µ–¥–∏—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

–†–∞–∑–±–∏–µ–Ω–∏–µ	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	...	...
1				
...				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas.

3. –°—á–∏—Ç–∞–π—Ç–µ —Å–µ—Ç—å –∏–∑ —Ñ–∞–π–ª–∞ communities.edgelist. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤—É.

4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –¥–ª—è —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –Ω–∞–∏–ª—É—á—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ (–≤—ã–≤–µ–¥–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω). –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –õ—É–≤–µ–Ω—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é. 

6. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–º—É –æ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç (—Ç.–µ. –Ω–æ–º–µ—Ä–∞  0...ùê∂1‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂1
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –ø–µ—Ä–≤–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É; –Ω–æ–º–µ—Ä–∞  ùê∂1...ùê∂2‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂2
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –≤—Ç–æ—Ä–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ —Ç.–¥.). –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –õ—É–≤–µ–Ω—Å–∫–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ seaborn.heatmap. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ —Ä–∏—Å—É–Ω–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∏—Å—É–Ω–∫–æ–≤. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

---6_lpa---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ –≤—ã–¥–µ–ª–∏—Ç–µ –≤ –Ω–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏–∑ networkx. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ —Å—Ä–µ–¥–∏ –º–µ—Ç–æ–∫ —Å–æ—Å–µ–¥–µ–π –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π, —Ç–æ –º–µ—Ç–∫–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –∫–æ–≥–¥–∞ –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –º–µ—Ç–∫–∞ –Ω–∏ –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

4. –ò—Å–ø–æ–ª—å–∑—É—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é LPA, —Ä–∞–∑–±–µ–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ N=10 —Ä–∞–∑. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ freqs —Ä–∞–∑–º–µ—Ä–∞ MxM (M - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ), –≥–¥–µ freqs[i, j] –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ —É–∑–ª—ã i –∏ j –æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ.
–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ i –∏ j —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–≤—è–∑—å —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ freqs[i, j] >= 8. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–µ, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞) –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–¥–∞–Ω–∏—è–º.

5. –û—Ñ–æ—Ä–º–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
–ê–ª–≥–æ—Ä–∏—Ç–º	–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤	–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å	–ü–æ–∫—Ä—ã—Ç–∏–µ	–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π LPA				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas. –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---7-rand_walk---
1\. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ `A` —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ `P` –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∞–≤–∏–ª—É:
$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$
–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è (1) –∏ (2).
$0 \le p_{ij} \le 1$ (1)
$\sum_j p_{ij}=1$    (2)
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π —Å–º–µ–∂–Ω–æ—Å—Ç–∏.

2\. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T$. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É
$\mathbf{p}^{t+1}=(\mathbf{P}^{\top})\mathbf{p}^t$ 
–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.
3\. –ù–∞–π–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é $(\mathbf{P}^{\top})^\infty$ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ —Å—Ç–µ–ø–µ–Ω—å.
–î–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–µ–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ç.–µ. $||(\mathbf{P}^{\top})^{\infty}  -(\mathbf{P}^{\top})(\mathbf{P}^{\top})^{\infty}|| <= \epsilon$
C–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T $. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π $(\mathbf{P}^{\top})^\infty$. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.
–ò—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é `np.allclose`, –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–µ–∫—Ç–æ—Ä—ã —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏, —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ —Ç—ã—Å—è—á–Ω—ã—Ö).

4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤ —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ—Ç–º–∞—Å—à–∞–±–∏—Ä–æ–≤–∞–≤ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏:
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å—Ç–µ–ø–µ–Ω–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å—Ç–≤—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ PageRank.
–ù–∞ –∫–∞–∂–¥–æ–º —Ä–∏—Å—É–Ω–∫–µ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–µ—Ä–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

5\. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º PageRank —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∑–∞—Ç—É—Ö–∞–Ω–∏—è $\alpha=0.9$.
–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ $\mathbf{P}$.
$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$
–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É $\mathbf{P}$:
$$\mathbf{P}' = \alpha \mathbf{P} + (1-\alpha)\frac{1}{n}\mathbf{E}$$
$$\mathbf{M}=(\mathbf{P}')^{\top}$$
–≥–¥–µ $\mathbf{E}$ - –º–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–∞ `NxN`, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –µ–¥–∏–Ω–∏—Ü.
–ü–æ–ª—É—á–∏—Ç–µ –≤–µ–∫—Ç–æ—Ä $\mathbf{p}^\infty = \mathbf{pr}^{iter}$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É
$$\mathbf{p}^{t+1}=\mathbf{M}\mathbf{p}^t$$
–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.
–í—ã–∑–æ–≤–∏—Ç–µ `nx.pagerank` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –¥–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç.

6\. –í—ã—á–∏—Å–ª–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã PageRank –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–¥–∞—á–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$ $\mathbf{pr}^{eig}$, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É —á–∏—Å–ª—É 1.
–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ $\mathbf{pr}^{eig}$ –∏ $\mathbf{pr}^{iter}$ –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è —Å.–≤. –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$.

---8_rwlpa---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Karate Club. –ü–æ–ª—É—á–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ club, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –Ω–∞ —É–∑–ª–∞—Ö. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Mr. Hi –∏ 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Officer. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏ 0, 1, ... 7 –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª–∏ —É–∑–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ.

2. –ü–æ–ª—É—á–∏—Ç–µ –±–ª–æ—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêè
  –∏ –º–∞—Ç—Ä–∏—Ü—É –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ—Ç–æ–∫  ùêò0‚àà{0,1}ùëÅ√ó2
ùêè=(ùêèùëôùëôùêèùë¢ùëôùêèùëôùë¢ùêèùë¢ùë¢)=(ùêàùêèùë¢ùëô0ùêèùë¢ùë¢)
ùêò0=(ùêòùê•ùêòùêÆ)=(ùêòùê•0)
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–µ–¥ –º–∞—Ç—Ä–∏—Ü—ã  ùêè
 . –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–Ω—É–ª–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã  ùêò0
# –ü—Ä–æ—Ü–µ—Å—Å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±–ª—É–∂–¥–∞–Ω–∏—è —Å –ª–æ–≤—É—à–∫–∞–º–∏, –ø–æ–ø–∞–≤ –≤ –Ω–∏—Ö –ø—Ä–∏ –±–ª—É–∂–¥–∞–Ω–∏–∏ –º—ã –æ—Å—Ç–∞–µ–º—Å—è –≤ –Ω–∏—Ö –≤–æ –≤—Ä–µ–º—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π
# —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–æ–≤-–ª–æ–≤—É—à–µ–∫ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º
# —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª–∞–∂–¥–∞–Ω–∏–π –∏–∑ —É–∑–ª–æ–≤, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ u, –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –Ω–∞
# –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö

3. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –¥–ª—è –±–ª–æ—á–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ:
ùêè‚àû=(ùêà(ùêà‚àíùêèùë¢ùë¢)‚àí1ùêèùë¢ùëô00)
–ü–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É  ùêè‚àû
  –ø—É—Ç–µ–º –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à—É—é —Å—Ç–µ–ø–µ–Ω—å. –°–≤—è–∂–∏—Ç–µ –±–ª–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ P_ll, P_lu, P_ul, P_uu –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É–ª–µ –≤—ã—à–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ np.allclose.
  
4. –ò—Å–ø–æ–ª—å–∑—É—è –ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç RW-LPA , —Ä–∞—Å—Å—Ç–∞–≤—å—Ç–µ –º–µ—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å, –ø–æ–∫–∞–∑–∞–≤ —Ü–≤–µ—Ç–æ–º –∫–æ–Ω—Ç—É—Ä–∞ –≤–æ–∫—Ä—É–≥ —É–∑–ª–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —É–∑–ª–∞ –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å–æ–æ–±—â–µ—Å—Ç–≤, –∞ —Ü–≤–µ—Ç–æ–º —Ü–≤–µ—Ç–æ–º –∑–∞–ª–∏–≤–∫–∏ —É–∑–ª–∞ - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —É–∑–µ–ª –±—ã–ª –æ—Ç–Ω–µ—Å–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

---9_cuts---
1. –ó–∞–¥–∞–Ω –≥—Ä–∞—Ñ G. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –¥–≤–∞ —Ä–∞–∑—Ä–µ–∑–∞:

ùê∂(1)=(ùëÅ(1)1,ùëÅ(1)2)
 ,  ùëÅ(1)1={0,1,2,3,4}
 ,  ùëÅ(1)2={5,6,7,8,9}
 
ùê∂(2)=(ùëÅ(2)1,ùëÅ(2)2)
 ,  ùëÅ(2)1={0,1,2,3,4,5,6,7,8}
 ,  ùëÅ(2)2={9}
 
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—É  ùëÑ(ùëò)
  –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –≤—Å–µ —Ä–µ–±—Ä–∞ –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞ networkx. –í—ã–≤–µ–¥–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã —Ä–∞–∑—Ä–µ–∑–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω.

ùëÑ(ùëò)=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)=‚àëùëñ‚ààùëÅ(ùëò)1,ùëó‚ààùëÅ(ùëò)2ùëôùëñùëó

2. –î–ª—è —Ä–∞–∑—Ä–µ–∑–æ–≤ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ
ùëâùëúùëô(ùëÅ(ùëò)ùë°)=‚àëùëñ‚ààùëÅ(ùëò)ùë°,ùëó‚ààùëÅùëôùëñùëó=‚àëùëñ‚ààùëÅ(ùëò)ùë°ùëòùëñ,ùë°=1,2
ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)1)+ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)2)
–∏
ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)min(ùëâùëúùëô(ùëÅ(ùëò)1),ùëâùëúùëô(ùëÅ(ùëò)2))
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–µ–∑–∞ –≤—ã–≤–µ–¥–∏—Ç–µ —á–µ—Ç—ã—Ä–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëâùëúùëô(ùëÅ(ùëò)1)
 ,  ùëâùëúùëô(ùëÅ(ùëò)2)
 ,  ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë
  –∏  ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°
  –Ω–∞ —ç–∫—Ä–∞–Ω.
  
3. –î–ª—è –≥—Ä–∞—Ñ–∞ G –∏–∑ –∑–∞–¥–∞–Ω–∏—è 1 –≤—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
–ø–æ —Ñ–æ—Ä–º—É–ª–µ  ùêã=ùêÉ‚àíùêÄ;
–∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx.
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã –Ω–∞ —ç–∫—Ä–∞–Ω –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëÑ(ùëò)
 , –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–∞—Ç—Ä–∏—Ü–µ–π –õ–∞–ø–ª–∞—Å–∞.
 
5. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ G.
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –≥—Ä–∞—Ñ–∞ G —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–∑—Ä–µ–∑–æ–º ùê∂(1)
. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è –Ω–µ—Å–≤—è–∑–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.
 –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–µ–º–∏–Ω–∞—Ä–µ
–õ–µ–º–º–∞: –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ —Å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏ –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –ª–∞–ø–ª–∞—Å–∞ —Ä–∞–≤–Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–≤—è–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∏ , ‚Ä¶ , . –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å.–∑. 0, –Ω–∞–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–º–∏–º —Å.–∑. 0 —è–≤–ª—è–µ—Ç—Å—è –æ–±–æ–ª–æ—á–∫–æ–π –Ω–∞–¥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ —ç—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

---10_cluster---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ –∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêã=ùêÉ‚àíùêÄ
  –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏.
–í—ã–¥–µ–ª–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêÆ
 , –æ—Ç–≤–µ—á–∞—é—â–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–µ–Ω—É–ª–µ–≤–æ–º—É —Å.–∑.  ùúÜùëñ‚â†0
  –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ  ùêÆ
  –≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêü
  –ø–æ –ø—Ä–∞–≤–∏–ª—É  ùêüùëñ
  = sign( ùêÆùëñ)
 .
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ  ùêÆ
 : –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —É–∑–ª–∞, –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–µ–∫—Ç–æ—Ä–∞  ùêÆ
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ–±–æ–∑–Ω–∞—á–∏–≤ —Ü–≤–µ—Ç–æ–º —É–∑–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ø–∞–¥–∞–µ—Ç —É–∑–µ–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–µ–∑–æ–º.

2. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â—É—é –∑–∞–¥–∞—á—É, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêãùë†ùë¶ùëö=ùêÉ‚àí12ùêãùêÉ‚àí12
 . –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêñ
 
3. –î–∞–Ω –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (X, y). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—Ä–∏—Å–æ–≤–∞–≤ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –∏ —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∫–∞–º –æ–±—ä–µ–∫—Ç–æ–≤ y. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

4. –ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ radius_neighbors_graph –∏–∑ sklearn (—É–∫–∞–∂–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç radius=1). –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É  ùëà‚àà‚Ñù300√ó3
 , —Å–æ—Å—Ç–æ—è—é—â—É—é –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–º –Ω–∞–∏–º–µ–Ω—å—à–∏–º –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—ã  ùëà
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
 
5. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ SpectralClustering –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∂–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ affinity='nearest_neighbors'.

---11_gcnn_mpf---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∏–∑ —Ñ–∞–π–ª–∞ karate.graphml. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ (–∞—Ç—Ä–∏–±—É—Ç label —É —É–∑–ª–æ–≤).
–ü–æ–ª—É—á–∏—Ç–µ –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêÄ
  –≤ –≤–∏–¥–µ —Ç–µ–Ω–∑–æ—Ä–∞ torch –∏ —Ç–µ–Ω–∑–æ—Ä –º–µ—Ç–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. –í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ç–µ–Ω–∑–æ—Ä—ã –Ω–∞ —ç–∫—Ä–∞–Ω.
  
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêÄÃÇ.
ùêÄÃÇ =ùêÉ‚àí1ùêÄ
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä  ùêó
  —Ä–∞–∑–º–µ—Ä–∞ Nx5 —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ —É–∑–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è torch.rand. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è.
ùêóÃÇ =ùêÄÃÇ ùêó
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∂–µ —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —è–≤–Ω–æ –ø—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–≤—à–∏—Å—å –ø–æ —É–∑–ª–∞–º –≥—Ä–∞—Ñ–∞ –∏ —É—Å—Ä–µ–¥–Ω–∏–≤ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–æ—Å–µ–¥–µ–π. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ç–µ–Ω–∑–æ—Ä–∞ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

3. –û–ø–∏—à–∏—Ç–µ —Å–ª–æ–π GCNLayer –≥—Ä–∞—Ñ–æ–≤–æ–π —Å–≤–µ—Ä—Ç–æ—á–Ω–æ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–π —Å n_outputs=3 –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å–ª–æ–π –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó=ùêÑ
 . –í—ã–≤–µ–¥–∏—Ç–µ —Ñ–æ—Ä–º—É –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.
 
4. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ–æ–≤—É—é —Å–≤–µ—Ä—Ç–æ—á–Ω—É—é –Ω–µ–π—Ä–æ–Ω–Ω—É—é —Å–µ—Ç—å, —Ä–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ –¥–≤—É—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–¥—É—â–∏—Ö —Å–ª–æ–µ–≤ GCNLayer. –ü–µ—Ä–≤—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç 2 –Ω–µ–π—Ä–æ–Ω–∞ –∏ –≥–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ç–∞–Ω–≥–µ–Ω—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–π—Ä–æ–Ω–æ–≤ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–æ–≤ –≤ –∑–∞–¥–∞—á–µ. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–¥–µ–ª—å (–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω–∏—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêó=ùêÑ).
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π —Å–ª–æ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó
  —Å–ª–µ–¥—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É–∑–ª–æ–≤ (–∫–∞–∂–¥—ã–π —É–∑–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ç—ã—Ä—å–º—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏):
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥–∏—Ç —É–∑–µ–ª;
—Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞;
—ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏—Å–∏—Ç–µ—Ç —É–∑–ª–∞;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É –¥–ª—è —É–∑–ª–∞.
–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

---12_gnn_nodes---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Planetoid/Cora –∏–∑ torch_geometric.datasets.
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω:
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞;
—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
–†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ª–æ–∏ torch.nn.Linear (—Å–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –∏–∑ –¥–≤—É—Ö —Å–ª–æ–µ–≤). –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ (–Ω–µ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –Ω–∞ –±–∞—Ç—á–∏). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ accuracy –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ.

2. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 1, –∏—Å–ø–æ–ª—å–∑—É—è –¥–≤–∞ —Å–ª–æ—è torch_geometric.nn.GCNConv –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã—Ö —Å–ª–æ–µ–≤ torch.nn.Linear.

3. –í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –Ω–µ–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –¥–æ 2 –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ t-SNE (sklearn.manifold.TSNE). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —Ç–æ—á–∫–∏ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–µ—Ç–∫–∞–º —É–∑–ª–æ–≤.
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

4. –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∑–ª—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 2, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 4, —Å—Ä–∞–≤–Ω–∏–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–µ–≤:
GCNConv
SAGEConv (—É–∫–∞–∂–∏—Ç–µ aggr="mean")
GATConv (–≤—ã–±–µ—Ä–∏—Ç–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ—è heads > 1)
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
–ú–æ–¥–µ–ª—å	Loss –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ —Ç–µ—Å—Ç–µ	–ö–æ–ª-–≤–æ —ç–ø–æ—Ö –¥–æ —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫

---13_gnn_graphs---
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ GraphsDataset. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å, —Å–æ–∑–¥–∞–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–æ–≤ –∞—Ä—Ö–∏–≤–∞ graphs.zip (–º–æ–∂–Ω–æ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –¥–ª—è –≥—Ä–∞—Ñ–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º 0.

2. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç torch_geometric.loader.DataLodaer. –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–∏–Ω –±–∞—Ç—á —Ä–∞–∑–º–µ—Ä–∞ 128 –ø—Ä–∏ –ø–æ–º–æ—â–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –º–µ—Ç–æ–¥—ã):
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–µ –±–∞—Ç—á–∞;
–í—ã–ø–æ–ª–Ω–∏—Ç–µ readout –¥–ª—è –≥—Ä–∞—Ñ–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ç—Ä–∏–±—É—Ç–∞ x. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.

3. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–æ–∏ SAGEConv –∏ –æ–ø–µ—Ä–∞—Ü–∏—é —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã readout. –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ —Å —Ä–∞–∑–º–µ—Ä–æ–º –±–∞—Ç—á–∞ 128. –í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –≤—ã–≤–æ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –ø–æ —ç–ø–æ—Ö–∞–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics). –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics).

4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 3, —Å—Ä–∞–≤–Ω–∏–≤ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ readout. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:
Readout op	Loss	Acc
sum		
mean		
max		
min		

---14_kg_trans---
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç CoDExSmall. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç—É—é—â–∏–º –ø–æ–ª—è–º) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –æ–±—É—á–∞—é—â–µ–º (<dataset>.training), –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º (<dataset>.validation) –∏ —Ç–µ—Å—Ç–æ–≤–æ–º (<dataset>.testing) –º–Ω–æ–∂–µ—Å—Ç–≤–µ.
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –æ–¥–Ω—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°)
  –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –≤–∏–¥–µ (<dataset>.triples) –∏ —ç—Ç—É –∂–µ —Ç—Ä–æ–π–∫—É, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–ª–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π/–æ—Ç–Ω–æ—à–µ–Ω–∏–π (<dataset>.mapped_triples).
  
2. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å TransE –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall –ø—Ä–∏ –ø–æ–º–æ—â–∏ pipeline. –ó–∞–¥–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö –æ–±—É—á–µ–Ω–∏—è (num_epochs –≤ training_kwargs), —Ä–∞–≤–Ω–æ–µ 100, –∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (embedding_dim –≤  model_kwargs), —Ä–∞–≤–Ω—É—é 64.
–ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–æ–º–µ—Ä–∞ —ç–ø–æ—Ö–∏ (<pipeline_result>.plot_losses).
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ –≤–∏–¥–µ pd.DataFrame (<pipeline_result>.metric_results.to_df())

3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –æ–¥–Ω—É —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°‚àó)
  –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞. –ò—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–æ–µ–∫  (‚Ñé,ùëü,ùë°),ùë°‚ààùêæ.
–ù–∞–π–¥–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é (—Ä–∞–Ω–≥) –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–æ–π–∫–∏  ùë°‚àó
  –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –≤–µ–ª–∏—á–∏–Ω—ã score.
  
4. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏ TransE, TransH –∏ TransD –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall.
–°—Ä–∞–≤–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç—Ä–∏–∫–∞–º (side=both –∏ type=realistic):
Adjusted Arithmetic Mean Rank (AAMR): adjusted_arithmetic_mean_rank
Mean Reciprocal Rank (MRR): inverse_harmonic_mean_rank
Hits @ 10: hits_at_10
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Å—Ç–æ–ª–±—á–∞—Ç–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
    """
    pc.copy(text)
    
    
def get_link():
    """
    https://drive.google.com/drive/folders/1Py0NikzzIp3o-gqqLzT-bTsfv-arh_wO?usp=sharing
    """
    text = 'https://drive.google.com/drive/folders/1Py0NikzzIp3o-gqqLzT-bTsfv-arh_wO?usp=sharing'
    pc.copy(text)


def one_nx_graph_1():
    """
    1. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –∫–æ–ª—å—Ü–µ–≤–æ–π –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ n —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏). –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —É–∑–ª–∞ –≤—ã—Å—Ç—É–ø–∞—é—Ç —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ n-1. –ö–∞–∂–¥–æ–º—É —É–∑–ª—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 1 –¥–æ 100. –ö–∞–∂–¥–æ–º—É —Ä–µ–±—Ä—É –¥–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç mean_incident_age, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ age —É —É–∑–ª–æ–≤, –∏–Ω—Ü–∏–¥–µ–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω–æ–º—É —Ä–µ–±—Ä—É.

–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5 —É–∑–ª–∞–º–∏. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç age –¥–ª—è —É–∑–ª–æ–≤ (–∫–ª—é—á - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞) –∏ mean_incident_age –¥–ª—è —Ä–µ–±–µ—Ä (–∫–ª—é—á - –ø–∞—Ä–∞ (u, v) –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ —Ä–µ–±—Ä–∞). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

def generate_ring_graph(n: int = 5) -> (nx.classes.graph.Graph, dict, dict):
    G = nx.Graph()
    G.add_node(0, age=random.randint(1, 100))
    
    for i in range(1, n):
        G.add_node(i, age=random.randint(1, 100))
        data_nodes = G.nodes(data=True)
        G.add_edge(i, i-1, mean_incident_age=np.mean([data_nodes[i]["age"], data_nodes[i-1]["age"]]))
        
    G.add_edge(0, i, mean_incident_age=np.mean([data_nodes[0]["age"], data_nodes[i]["age"]]))
    dict_nodes = {i[0]: i[1]["age"] for i in G.nodes(data=True)}
    dict_edges = {(i[0], i[1]): i[2]["mean_incident_age"] for i in G.edges(data=True)}
    return G, dict_nodes, dict_edges
    
    graph, dict_nodes, dict_edges = generate_ring_graph(n=5)
    print(dict_nodes)
    print(dict_edges)
    nx.draw(graph, with_labels=True, )
    """
    text = """
def generate_ring_graph(n: int = 5) -> (nx.classes.graph.Graph, dict, dict):
    G = nx.Graph()
    G.add_node(0, age=random.randint(1, 100))
    
    for i in range(1, n):
        G.add_node(i, age=random.randint(1, 100))
        data_nodes = G.nodes(data=True)
        G.add_edge(i, i-1, mean_incident_age=np.mean([data_nodes[i]["age"], data_nodes[i-1]["age"]]))
        
    G.add_edge(0, i, mean_incident_age=np.mean([data_nodes[0]["age"], data_nodes[i]["age"]]))
    dict_nodes = {i[0]: i[1]["age"] for i in G.nodes(data=True)}
    dict_edges = {(i[0], i[1]): i[2]["mean_incident_age"] for i in G.edges(data=True)}
    return G, dict_nodes, dict_edges
    
    graph, dict_nodes, dict_edges = generate_ring_graph(n=5)
    print(dict_nodes)
    print(dict_edges)
    nx.draw(graph, with_labels=True, )
    
    """
    pc.copy(text)
    
    
def one_nx_graph_2():
    """
    2. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â—É—é –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –∏–∑ 3n + 1 —É–∑–ª–æ–≤ (n - –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏), –≥–¥–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª —Å–æ–µ–¥–∏–Ω–µ–Ω —Å —Ç—Ä–µ–º—è –ø—É—Ç—è–º–∏ –¥–ª–∏–Ω—ã n. –†–µ–±—Ä–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Å—Ç–æ—Ä–æ–Ω—É —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–∑–ª–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –¥–ª—è n=3. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –µ–≥–æ —Å–æ—Å–µ–¥–µ–π (–æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ –≤—Ö–æ–¥—è—â–∏–º –∏ –∏—Å—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw (–∏–ª–∏ nx.draw_networkx) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

def generate_di_graph(n: int = 3) -> nx.classes.graph.Graph:
    G1 = nx.DiGraph()
    G1.add_node(0)
    for i in range(1, n*3, 3):
        G1.add_node(i)
        G1.add_edge(0, i)
        ar = np.arange(i+1, i+2)
        G1.add_nodes_from(ar)
        G1.add_edges_from([(i, j) for j in ar])
    return G1
    
graph_2 = generate_di_graph(3)
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ:", graph_2.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ:", graph_2.size())

for node in graph_2.nodes():
    print("–£–∑–µ–ª:", node)
    print("–°–ø–∏—Å–æ–∫ id —Å–æ—Å–µ–¥–µ–π –ø–æ –≤—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º:", list(graph_2.predecessors(node)))
    print("–°–ø–∏—Å–æ–∫ id —Å–æ—Å–µ–¥–µ–π –ø–æ –∏—Å—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º:", list(graph_2.successors(node)))
    
nx.draw(graph_2, with_labels=True)
    """
    text = """
def generate_di_graph(n: int = 3) -> nx.classes.graph.Graph:
    G1 = nx.DiGraph()
    G1.add_node(0)
    for i in range(1, n*3, 3):
        G1.add_node(i)
        G1.add_edge(0, i)
        ar = np.arange(i+1, i+2)
        G1.add_nodes_from(ar)
        G1.add_edges_from([(i, j) for j in ar])
    return G1
    
graph_2 = generate_di_graph(3)
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ:", graph_2.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ:", graph_2.size())

for node in graph_2.nodes():
    print("–£–∑–µ–ª:", node)
    print("–°–ø–∏—Å–æ–∫ id —Å–æ—Å–µ–¥–µ–π –ø–æ –≤—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º:", list(graph_2.predecessors(node)))
    print("–°–ø–∏—Å–æ–∫ id —Å–æ—Å–µ–¥–µ–π –ø–æ –∏—Å—Ö–æ–¥—è—â–∏–º —Å–≤—è–∑—è–º:", list(graph_2.successors(node)))
    
nx.draw(graph_2, with_labels=True)
    """
    pc.copy(text)
    

def one_nx_graph_3():
    """
3. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤—É–º–µ—Ä–Ω–æ–π —Ä–µ—à–µ—Ç–∫–∏ n –Ω–∞ m. –í –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä—ã (x, y), –≥–¥–µ x - –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ —Ä–µ—à–µ—Ç–∫–∏, y - –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞ —Ä–µ—à–µ—Ç–∫–∏. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É —Ä–µ—à–µ—Ç–∫–∏ –≤ –≤–∏–¥–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ n –∏ m  —Å–∞–º–æ–≥–æ –≥—Ä–∞—Ñ–∞.

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å n=5, m=4. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ. –í—ã–≤–µ–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≥—Ä–∞—Ñ–∞ –Ω–∞ —ç–∫—Ä–∞–Ω. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ networkx.

def generate_grid_graph(n: int, m: int) -> nx.classes.graph.Graph:
    G = nx.Graph(n=n, m=m)
    for x in range(n):
        for y in range(m):
            G.add_node((x, y))
            if x < n - 1:
                G.add_edge((x, y), (x+1, y))
            if y < m - 1:
                G.add_edge((x, y), (x, y+1)) 
    return G
graph_3 = generate_grid_graph(n=5, m=4)
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ:", graph_3.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ:", graph_3.size())
print("–ê—Ç—Ä–∏–±—É—Ç—ã –≥—Ä–∞—Ñ–∞:", graph_3.graph)

nx.draw(graph_3)

G3 = nx.grid_2d_graph(n=5, m=4)
nx.draw(G3)
    """
    text = """
def generate_grid_graph(n: int, m: int) -> nx.classes.graph.Graph:
    G = nx.Graph(n=n, m=m)
    for x in range(n):
        for y in range(m):
            G.add_node((x, y))
            if x < n - 1:
                G.add_edge((x, y), (x+1, y))
            if y < m - 1:
                G.add_edge((x, y), (x, y+1)) 
    return G
graph_3 = generate_grid_graph(n=5, m=4)
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ:", graph_3.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ:", graph_3.size())
print("–ê—Ç—Ä–∏–±—É—Ç—ã –≥—Ä–∞—Ñ–∞:", graph_3.graph)

nx.draw(graph_3)

G3 = nx.grid_2d_graph(n=5, m=4)
nx.draw(G3)
    """
    pc.copy(text)
    
    
def one_nx_graph_4():
    """
4. –ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º—É–ª—å—Ç–∏–≥—Ä–∞—Ñ, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ m —É–∑–ª–æ–≤, –≥–¥–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ u –∏ v —Å—ç–º–ø–ª–∏—Ç—Å—è –∏–∑ –±–∏–Ω–æ–º–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ n –∏ p (m, n, p - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏). –ü–µ—Ç–ª–∏ –≤ –≥—Ä–∞—Ñ–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è. –ù–∞ –∫–∞–∂–¥–æ–º —Ä–µ–±—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç weight, —Ä–∞–≤–Ω—ã–π –æ–±—Ä–∞—Ç–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–±–µ—Ä –º–µ–∂–¥—É –∏–Ω–¥–∏—Ü–µ–Ω—Ç–Ω—ã–º–∏ –µ–º—É —É–∑–ª–∞–º–∏. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –≥—Ä–∞—Ñ–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –ø–µ—Ç–ª—è–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑—É–π—Ç–µ –µ–µ.

def generate_multigraph(m: int, n: int, p: int) -> nx.classes.graph.Graph:
    G = nx.MultiGraph()
    G.add_nodes_from(range(m))
    for i in range(m):
        for j in range(i, m):
            count_edges = np.random.binomial(n, p)
            for _ in range(count_edges):
                G.add_edge(i, j, weight=round(1/count_edges, 3))
    return G
    
graph_4 = generate_multigraph(m=5, n=4, p=0.25)
nx.draw(graph_4, with_labels=True)

# –±–µ–∑ –ø–µ—Ç–ª–µ–π
loops = list(nx.selfloop_edges(graph_4))
graph_4.remove_edges_from(loops)
nx.draw(graph_4, with_labels=True)
    """
    text = """
def generate_multigraph(m: int, n: int, p: int) -> nx.classes.graph.Graph:
    G = nx.MultiGraph()
    G.add_nodes_from(range(m))
    for i in range(m):
        for j in range(i, m):
            count_edges = np.random.binomial(n, p)
            for _ in range(count_edges):
                G.add_edge(i, j, weight=round(1/count_edges, 3))
    return G
    
graph_4 = generate_multigraph(m=5, n=4, p=0.25)
nx.draw(graph_4, with_labels=True)

# –±–µ–∑ –ø–µ—Ç–ª–µ–π
loops = list(nx.selfloop_edges(graph_4))
graph_4.remove_edges_from(loops)
nx.draw(graph_4, with_labels=True)
    """
    pc.copy(text)
    

def one_nx_graph_5():
    """
5. –ì—Ä–∞—Ñ ¬´(u,v) —Ü–≤–µ—Ç–æ–∫¬ª: —Ñ—Ä–∞–∫—Ç–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ä–æ—Å—Ç–∞ –∫–∞–∂–¥–∞—è —Å–≤—è–∑—å –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 2 –ø—É—Ç–∏, –¥–ª–∏–Ω–æ–π u –∏ v —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ (—Å–º.—Ä–∏—Å). –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è (1, 2) —Ü–≤–µ—Ç–∫–∞. –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.draw —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞ –Ω–∞ –∫–∞–∂–¥–æ–π –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π.

def generate_flower_graph(n: int) -> nx.classes.graph.Graph:
    G = nx.Graph()
    G.add_nodes_from(range(2))
    G.add_edge(0, 1)
    for iteration in range(n):
        print("–ò—Ç–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä:", iteration+1)
        n_o_n = G.number_of_nodes()
        graph_edges = list(G.edges)
        
        for edge in graph_edges:
            G.add_node(n_o_n)
            G.add_edge(edge[0], n_o_n)
            G.add_edge(edge[1], n_o_n)
            n_o_n = G.number_of_nodes()
            
        print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", n_o_n)
        print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä:", G.size(), end='\n\n')
    return G
    
graph_5 = generate_flower_graph(n=4)
nx.draw(graph_5, with_labels=True)
    """
    text = """
def generate_flower_graph(n: int) -> nx.classes.graph.Graph:
    G = nx.Graph()
    G.add_nodes_from(range(2))
    G.add_edge(0, 1)
    for iteration in range(n):
        print("–ò—Ç–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä:", iteration+1)
        n_o_n = G.number_of_nodes()
        graph_edges = list(G.edges)
        
        for edge in graph_edges:
            G.add_node(n_o_n)
            G.add_edge(edge[0], n_o_n)
            G.add_edge(edge[1], n_o_n)
            n_o_n = G.number_of_nodes()
            
        print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", n_o_n)
        print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä:", G.size(), end='\n\n')
    return G
    
graph_5 = generate_flower_graph(n=4)
nx.draw(graph_5, with_labels=True)
    """
    pc.copy(text)
    
    
def one_nx_graph_6():
    """
6. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ weighted_wheel.npy –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π –≥—Ä–∞—Ñ–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–∏–ø –≥—Ä–∞—Ñ–∞ (nx.Graph, nx.DiGraph, ...). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–æ–≤–∞—Ä—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö.–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≥—Ä–∞—Ñ –Ω–∞ –¥–∏—Å–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ edgelist.

numpy_adj_matr = np.load("data/weighted_wheel.npy")
adj_matrix = nx.from_numpy_array(numpy_adj_matr, edge_attr='weight')

print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", adj_matrix.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π:", adj_matrix.size())
print("–¢–∏–ø –≥—Ä–∞—Ñ–∞:", 'nx.' + str(type(adj_matrix)).split('.')[-1][:-2])

weight_dict = {(u, v): d['weight'] for u, v, d in adj_matrix.edges(data=True)}
print("–ó–Ω–∞—á–µ–Ω–∏–µ 'weight' –Ω–∞ —Ä–µ–±—Ä–∞—Ö", weight_dict)

nx.write_weighted_edgelist(adj_matrix, 'data/weighted_wheel.edgelist')

pos = nx.spring_layout(adj_matrix)

nx.draw(adj_matrix, pos, with_labels=True)
nx.draw_networkx_edge_labels(adj_matrix, pos, edge_labels=weight_dict, font_color='red');
    """
    
    text = """
numpy_adj_matr = np.load("data/weighted_wheel.npy")
adj_matrix = nx.from_numpy_array(numpy_adj_matr, edge_attr='weight')

print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", adj_matrix.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π:", adj_matrix.size())
print("–¢–∏–ø –≥—Ä–∞—Ñ–∞:", 'nx.' + str(type(adj_matrix)).split('.')[-1][:-2])

weight_dict = {(u, v): d['weight'] for u, v, d in adj_matrix.edges(data=True)}
print("–ó–Ω–∞—á–µ–Ω–∏–µ 'weight' –Ω–∞ —Ä–µ–±—Ä–∞—Ö", weight_dict)

nx.write_weighted_edgelist(adj_matrix, 'data/weighted_wheel.edgelist')

pos = nx.spring_layout(adj_matrix)

nx.draw(adj_matrix, pos, with_labels=True)
nx.draw_networkx_edge_labels(adj_matrix, pos, edge_labels=weight_dict, font_color='red');
    """
    pc.copy(text)
    
    
def one_nx_graph_7():
    """
7. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–±—Ä–∞—Ö –≥—Ä–∞—Ñ–∞ –∏–∑ —Ñ–∞–π–ª–∞ data/karate.edgelist –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ read_edgelist. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤ –∫ —á–∏—Å–ª–æ–≤–æ–º—É —Ç–∏–ø—É. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞, –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ nx.karate_club_graph. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑ —Ñ–∞–π–ª–∞ –≥—Ä–∞—Ñ–∞ –∏ –≥—Ä–∞—Ñ–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π) –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—Ä–∏—Ü —Å–º–µ–∂–Ω–æ—Å—Ç–∏ —É—á—Ç–∏—Ç–µ, —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–∞—Ö –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è.

karate_graph = nx.read_edgelist("data/karate.edgelist", delimiter='/', nodetype=int)

print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", karate_graph.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä:", karate_graph.size())
print("–°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", list(karate_graph.nodes()))

pos = nx.spring_layout(karate_graph)
nx.draw(karate_graph, pos, with_labels=True)

karate_club_graph = nx.karate_club_graph()
nx.draw(karate_club_graph, pos, node_color='green', with_labels=True)

nodelist = karate_graph.nodes()
adj_mat_karate_graph = nx.adjacency_matrix(G=karate_graph, nodelist=nodelist).toarray()
adj_mat_karate_club_graph = nx.adjacency_matrix(G=karate_club_graph, nodelist=nodelist).toarray()

if np.array_equal(adj_mat_karate_graph, adj_mat_karate_club_graph):
    print("–ú–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ")
else:
    print("–ú–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã–µ")
    """
    text = """
karate_graph = nx.read_edgelist("data/karate.edgelist", delimiter='/', nodetype=int)

print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤:", karate_graph.number_of_nodes())
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä:", karate_graph.size())
print("–°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", list(karate_graph.nodes()))

pos = nx.spring_layout(karate_graph)
nx.draw(karate_graph, pos, with_labels=True)

karate_club_graph = nx.karate_club_graph()
nx.draw(karate_club_graph, pos, node_color='green', with_labels=True)

nodelist = karate_graph.nodes()
adj_mat_karate_graph = nx.adjacency_matrix(G=karate_graph, nodelist=nodelist).toarray()
adj_mat_karate_club_graph = nx.adjacency_matrix(G=karate_club_graph, nodelist=nodelist).toarray()

if np.array_equal(adj_mat_karate_graph, adj_mat_karate_club_graph):
    print("–ú–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ")
else:
    print("–ú–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã–µ")
    """
    pc.copy(text)
    
    
def two_drawing_1():
    """
1. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—É—é —Ä–µ—à–µ—Ç–∫—É —Ä–∞–∑–º–µ—Ä–∞ 5—Ö3, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–≤–∞—Ä—å pos, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∑–ª–æ–≤, –∞ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç—Ç–∏—Ö —É–∑–ª–æ–≤ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤ —Å—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–∞—Ä (x, y), –≥–¥–µ x - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –∞ y - –ø–æ–∑–∏—Ü–∏—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Ä–∏—Å—É–Ω–æ–∫ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

G1 = nx.grid_2d_graph(5,3)
pos = {node:[node[0], node[1]] for node in G1.nodes}
pos

nx.draw(G1, pos=pos, with_labels=True)

    """
    text = """
G1 = nx.grid_2d_graph(5,3)
pos = {node:[node[0], node[1]] for node in G1.nodes}
pos

nx.draw(G1, pos=pos, with_labels=True)
    """
    pc.copy(text)
    

def two_drawing_2():
    """
2. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –ò—Å–ø–æ–ª—å–∑—É—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –≤–∏–¥–∞ x_layout, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ networkx —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É–∫–ª–∞–¥–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ö–∞–∂–¥–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ —Å–µ—Ç–∫–µ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –≤–∏–¥–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —É–∫–ª–∞–¥–∫–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –¥–∞–Ω–Ω–æ–º—É –≥—Ä–∞—Ñ—É, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –µ–µ.

G2 = nx.karate_club_graph()

layout_funcs = [
    nx.arf_layout, # –±–æ–ª—å—â–µ —Å–∏–º–º–µ—Ç—Ä–∏–∏, —á–µ–º –≤ spring_layout
    nx.bipartite_layout, # –¥–≤—É–¥–æ–ª—å–Ω—ã–π
    nx.spring_layout,
    nx.circular_layout,
    nx.kamada_kawai_layout, # –¥–ª–∏–Ω–∞ –ø—É—Ç–∏ kamada-kawai
    nx.random_layout,
    nx.shell_layout,
    nx.spectral_layout, # —Å–ø–µ–∫—Ç—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å—Å–∞
    nx.spiral_layout,
    nx.planar_layout,
]

fig = plt.figure(figsize=(12, 8))
gs = gridspec.GridSpec(3, 3, figure=fig)

for i, layout_func in enumerate(layout_funcs):
    try:
        pos = layout_func(G2)
        ax = fig.add_subplot(gs[i])        
        nx.draw(G2, pos, with_labels=True, ax=ax)
        ax.set_title(layout_func.__name__)
    except:
        print("–û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏:", layout_func.__name__)

plt.tight_layout()
plt.show()
    """
    text = """
G2 = nx.karate_club_graph()

layout_funcs = [
    nx.arf_layout, # –±–æ–ª—å—â–µ —Å–∏–º–º–µ—Ç—Ä–∏–∏, —á–µ–º –≤ spring_layout
    nx.bipartite_layout, # –¥–≤—É–¥–æ–ª—å–Ω—ã–π
    nx.spring_layout,
    nx.circular_layout,
    nx.kamada_kawai_layout, # –¥–ª–∏–Ω–∞ –ø—É—Ç–∏ kamada-kawai
    nx.random_layout,
    nx.shell_layout,
    nx.spectral_layout, # —Å–ø–µ–∫—Ç—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å—Å–∞
    nx.spiral_layout,
    nx.planar_layout,
]

fig = plt.figure(figsize=(12, 8))
gs = gridspec.GridSpec(3, 3, figure=fig)

for i, layout_func in enumerate(layout_funcs):
    try:
        pos = layout_func(G2)
        ax = fig.add_subplot(gs[i])        
        nx.draw(G2, pos, with_labels=True, ax=ax)
        ax.set_title(layout_func.__name__)
    except:
        print("–û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏:", layout_func.__name__)

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    
    
def two_drawing_3():
    """
3. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç age, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –æ—Ç 20 –¥–æ 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç –∫–ª—É–±–∞ (–∫—Ä–∞—Å–Ω—ã–π –¥–ª—è "Mr. Hi" –∏ –∑–µ–ª–µ–Ω—ã–π –¥–ª—è "Officer") –∏ —Å–¥–µ–ª–∞–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤–µ–ª–∏—á–∏–Ω–µ –∞—Ç—Ä–∏–±—É—Ç–∞ age.

G3 = nx.karate_club_graph()
age_attr = {node:np.random.randint(20, 51) for node in G3.nodes}
nx.set_node_attributes(G3, age_attr, name="age")
G3.nodes(data=True)

node_size = [attr["age"]*10 for node, attr in G3.nodes(data=True)]
colors = ["red" if attr["club"] == "Mr. Hi" else "green" for node, attr in G3.nodes(data=True)]
nx.draw(G3, with_labels=True, node_size=node_size, node_color=colors)
    """
    text = """
G3 = nx.karate_club_graph()
age_attr = {node:np.random.randint(20, 51) for node in G3.nodes}
nx.set_node_attributes(G3, age_attr, name="age")
G3.nodes(data=True)

node_size = [attr["age"]*10 for node, attr in G3.nodes(data=True)]
colors = ["red" if attr["club"] == "Mr. Hi" else "green" for node, attr in G3.nodes(data=True)]
nx.draw(G3, with_labels=True, node_size=node_size, node_color=colors)
    """
    pc.copy(text)
    
    
def two_drawing_4():
    """
4. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ "–ø—É—Ç—å" –∏–∑ 3 —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞–∑–≤–µ—Ä–Ω—É–≤ —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ (—Å–∞–º –≥—Ä–∞—Ñ –æ—Å—Ç–∞–≤—å—Ç–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π). –ù–∞ –≤—Å–µ—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è—Ö –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–æ–≤.

G4 = nx.DiGraph()
G4.add_edges_from([(1, 2), (2, 3)])
pos = nx.spring_layout(G3)
nx.draw(G4, pos=pos, arrowsize=50, with_labels=True)

nx.draw(G4, pos=pos, arrowsize=50, arrowstyle='<|-', with_labels=True)
    """
    text = """
G4 = nx.DiGraph()
G4.add_edges_from([(1, 2), (2, 3)])
pos = nx.spring_layout(G3)
nx.draw(G4, pos=pos, arrowsize=50, with_labels=True)

nx.draw(G4, pos=pos, arrowsize=50, arrowstyle='<|-', with_labels=True)
    """
    pc.copy(text)
    
    
def two_drawing_5():
    """
5. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ Les Miserables. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ random_layout. –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ edge_colors –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–∞ weight –Ω–∞ —Ä–µ–±—Ä–∞—Ö –∏ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ (clip) –µ–≥–æ —Å–≤–µ—Ä—Ö—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 10, —Å–Ω–∏–∑—É –∑–Ω–∞—á–µ–Ω–∏–µ–º 1.

–û—Ç—Ä–∏—Å—É–π—Ç–µ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_nodes —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞ —É–∑–ª–æ–≤ 10. –ù–∞ —Ç–æ—Ç —Ä–∏—Å—É–Ω–æ–∫ –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ draw_networkx_edges, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —Ä–µ–±—Ä–∞ –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∑–Ω–∞—á–µ–Ω–∏—è–º edge_colors —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ü–≤–µ—Ç–æ–≤–æ–π –∫–∞—Ä—Ç—ã viridis. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é colorbar, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ü–≤–µ—Ç–æ–≤ —Ä–µ–±–µ—Ä.

G5 = nx.les_miserables_graph()
pos = nx.random_layout(G5)
edge_colors = [attr["weight"] for _, _, attr in G5.edges(data=True)]
edge_colors = np.clip(edge_colors, a_min=1, a_max=10)
edge_colors

plt.figure(figsize=(10, 8))
nx.draw_networkx_nodes(G5, pos=pos, node_size=10);

fig, ax = plt.subplots(figsize=(10, 8))

nx.draw_networkx_nodes(G5, pos=pos, node_size=10)
nx.draw_networkx_edges(G5, pos, edge_color=edge_colors, edge_cmap=plt.cm.viridis)

plt.colorbar(plt.cm.ScalarMappable(cmap=plt.cm.viridis, norm=plt.Normalize(vmin=1, vmax=10)), ax=ax)
plt.show()
    """
    text = """
G5 = nx.les_miserables_graph()
pos = nx.random_layout(G5)
edge_colors = [attr["weight"] for _, _, attr in G5.edges(data=True)]
edge_colors = np.clip(edge_colors, a_min=1, a_max=10)
edge_colors

plt.figure(figsize=(10, 8))
nx.draw_networkx_nodes(G5, pos=pos, node_size=10);

fig, ax = plt.subplots(figsize=(10, 8))

nx.draw_networkx_nodes(G5, pos=pos, node_size=10)
nx.draw_networkx_edges(G5, pos, edge_color=edge_colors, edge_cmap=plt.cm.viridis)

plt.colorbar(plt.cm.ScalarMappable(cmap=plt.cm.viridis, norm=plt.Normalize(vmin=1, vmax=10)), ax=ax)
plt.show()
    """
    pc.copy(text)
    
    
def three_degree_1():
    """
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –î–æ–±–∞–≤—å—Ç–µ —É–∑–ª–∞–º –∞—Ç—Ä–∏–±—É—Ç name, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –í—ã–≤–µ–¥–∏—Ç–µ –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞, —á–µ–π —É–∑–µ–ª –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å, –∏ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–∏.

G1 = nx.Graph()

nodes_path = 'data/fb-pages-food.nodes'
with open(nodes_path, 'r') as f:
    next(f)
    for line in f:
        splited = line.strip().split(',')
        new_id_node = int(splited[-1])
        G1.add_node(new_id_node)
        G1.nodes[new_id_node]['name'] = splited[1]

edges_path = 'data/fb-pages-food.edges'
with open(edges_path, 'r') as f:
    next(f)
    for line in f:
        node1, node2 = map(int, line.strip().split(','))
        G1.add_edge(node1, node2)
        
G1.remove_edges_from(nx.selfloop_edges(G1)) # –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ç–ª–µ–π

pos = nx.spring_layout(G1)

G1.nodes(data=True)

nx.draw_networkx(G1, pos=pos, node_size=50, with_labels=False)

A = nx.adjacency_matrix(G1).toarray()

degrees_G1 = A.sum(axis=0)
display(degrees_G1)
degrees_G1.shape

max_degree = degrees_G1.max()
print("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å:", max_degree)

adj_max_degree_ind = list(degrees_G1).index(max_degree)
node_id_max_degree = list(G1.nodes)[adj_max_degree_ind]
print("–ò–º—è —á–µ–ª–æ–≤–µ–∫–∞ —Å –º–∞–∫—Å. —Å—Ç–µ–ø–µ–Ω—å—é:", G1.nodes(data=True)[node_id_max_degree]["name"])
    """
    text = """
G1 = nx.Graph()

nodes_path = 'data/fb-pages-food.nodes'
with open(nodes_path, 'r') as f:
    next(f)
    for line in f:
        splited = line.strip().split(',')
        new_id_node = int(splited[-1])
        G1.add_node(new_id_node)
        G1.nodes[new_id_node]['name'] = splited[1]

edges_path = 'data/fb-pages-food.edges'
with open(edges_path, 'r') as f:
    next(f)
    for line in f:
        node1, node2 = map(int, line.strip().split(','))
        G1.add_edge(node1, node2)
        
G1.remove_edges_from(nx.selfloop_edges(G1)) # –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ç–ª–µ–π

pos = nx.spring_layout(G1)

G1.nodes(data=True)

nx.draw_networkx(G1, pos=pos, node_size=50, with_labels=False)

A = nx.adjacency_matrix(G1).toarray()

degrees_G1 = A.sum(axis=0)
display(degrees_G1)
degrees_G1.shape

max_degree = degrees_G1.max()
print("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å:", max_degree)

adj_max_degree_ind = list(degrees_G1).index(max_degree)
node_id_max_degree = list(G1.nodes)[adj_max_degree_ind]
print("–ò–º—è —á–µ–ª–æ–≤–µ–∫–∞ —Å –º–∞–∫—Å. —Å—Ç–µ–ø–µ–Ω—å—é:", G1.nodes(data=True)[node_id_max_degree]["name"])
    """
    pc.copy(text)
    
    
def three_degree_2():
    """
2. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–µ–ø–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ nx.Graph. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å—Ä–µ–¥–Ω—é—é —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—É—é –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ.

G1_degrees_2 = G1.degree
G1_degrees_2

G1_degrees_2 = dict(G1_degrees_2)

print("–°—Ä–µ–¥–Ω—è—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", np.round(np.mean(list(G1_degrees_2.values()))))
    """
    text = """
    G1_degrees_2 = G1.degree
G1_degrees_2

G1_degrees_2 = dict(G1_degrees_2)

print("–°—Ä–µ–¥–Ω—è—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", np.round(np.mean(list(G1_degrees_2.values()))))
    """
    pc.copy(text)
    
    
def three_degree_3():
    """
3. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/. –£–¥–∞–ª–∏—Ç–µ –∏–∑ –≥—Ä–∞—Ñ–∞ –≤—Å–µ –ø–µ—Ç–ª–∏. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –≤—Ö–æ–¥—è—â—É—é –∏ –∏—Å—Ö–æ–¥—è—â—É—é —Å—Ç–µ–ø–µ–Ω—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π –∏ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π.

G3 = nx.DiGraph()

nodes_path = 'data/fb-pages-food.nodes'
with open(nodes_path, 'r') as f:
    next(f)
    for line in f:
        splited = line.strip().split(',')
        new_id_node = int(splited[-1])
        G3.add_node(new_id_node)
        G3.nodes[new_id_node]['name'] = splited[1]

edges_path = 'data/fb-pages-food.edges'
with open(edges_path, 'r') as f:
    next(f)
    for line in f:
        node1, node2 = map(int, line.strip().split(','))
        G3.add_edge(node1, node2)
        
G3.remove_edges_from(nx.selfloop_edges(G3)) # –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ç–ª–µ–π

pos = nx.spring_layout(G3)

nx.draw_networkx(G3, pos=pos, node_size=50, with_labels=False, node_color="lightblue", arrowsize=5)
A = nx.adjacency_matrix(G3).toarray()

in_degrees = A.sum(axis=0)
out_degrees = A.sum(axis=1)

print("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π:", out_degrees.max())
print("–°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π:", in_degrees.mean())
    """
    pc.copy(text)


def three_degree_4():
    """
    4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –î–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≥—Ä–∞—Ñ–∞ nx.DiGraph. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏.
    
in_degrees = dict(G3.in_degree())
out_degrees = dict(G3.out_degree())

in_degree_values = sorted(in_degrees.values())
out_degree_values = sorted(out_degrees.values())
print(in_degree_values)

in_edf = np.arange(1, len(in_degree_values) + 1) / len(in_degree_values)
out_edf = np.arange(1, len(out_degree_values) + 1) / len(out_degree_values)

fig, axes = plt.subplots(1, 2, figsize=(12, 5))

axes[0].step(in_degree_values, in_edf, where="post")
axes[0].set_title("EDF –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π")
axes[0].set_xlabel("–í—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
axes[0].set_ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
axes[0].grid(True)


axes[1].step(out_degree_values, out_edf, where="post", color='green')
axes[1].set_title("EDF –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π")
axes[1].set_xlabel("–ò—Å—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
axes[1].set_ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
axes[1].grid(True)

plt.tight_layout()
plt.show()
    """
    text = """
in_degrees = dict(G3.in_degree())
out_degrees = dict(G3.out_degree())

in_degree_values = sorted(in_degrees.values())
out_degree_values = sorted(out_degrees.values())
print(in_degree_values)

in_edf = np.arange(1, len(in_degree_values) + 1) / len(in_degree_values)
out_edf = np.arange(1, len(out_degree_values) + 1) / len(out_degree_values)

fig, axes = plt.subplots(1, 2, figsize=(12, 5))

axes[0].step(in_degree_values, in_edf, where="post")
axes[0].set_title("EDF –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π")
axes[0].set_xlabel("–í—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
axes[0].set_ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
axes[0].grid(True)


axes[1].step(out_degree_values, out_edf, where="post", color='green')
axes[1].set_title("EDF –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π")
axes[1].set_xlabel("–ò—Å—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
axes[1].set_ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
axes[1].grid(True)

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    

def three_degree_5():
    """
5. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≥—Ä–∞—Ñ–∞ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏ 2—Ö2. –î–æ–±–∞–≤—å—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∞–º –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –æ—Å—è–º - –ø–æ–¥–ø–∏—Å–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

degree = dict(G1.degree())
degree_values = sorted(set(degree.values()))
print(degree_values)

degree_counts = [list(degree.values()).count(x) for x in degree_values]
print(degree_counts)

degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].bar(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].bar(degree_values, degree_counts_freq, color='lightblue', edgecolor='black')
axes[0, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X))')
axes[0, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].set_xscale("log")
axes[0, 1].grid(True)

axes[1, 0].bar(degree_values, degree_counts_freq, color='red', alpha=0.6, edgecolor='black')
axes[1, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(Y))')
axes[1, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].bar(degree_values, degree_counts_freq, color='green', alpha=0.6, edgecolor='black')
axes[1, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X) –∏ log(Y))')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    text = """
degree = dict(G1.degree())
degree_values = sorted(set(degree.values()))
print(degree_values)

degree_counts = [list(degree.values()).count(x) for x in degree_values]
print(degree_counts)

degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].bar(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].bar(degree_values, degree_counts_freq, color='lightblue', edgecolor='black')
axes[0, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X))')
axes[0, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].set_xscale("log")
axes[0, 1].grid(True)

axes[1, 0].bar(degree_values, degree_counts_freq, color='red', alpha=0.6, edgecolor='black')
axes[1, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(Y))')
axes[1, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].bar(degree_values, degree_counts_freq, color='green', alpha=0.6, edgecolor='black')
axes[1, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X) –∏ log(Y))')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    
    
def three_degree_6():
    """
6. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –≤—ã–±–æ—Ä–∫—É –∏–∑ –î–∑–µ—Ç–∞-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¶–∏–ø—Ñ–∞) —Å —á–∏—Å–ª–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–π 10 —Ç—ã—Å. –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è  ùõº=2
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–∏–Ω–µ–π–Ω–æ–≥–æ –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–≥–æ –±–∏–Ω–Ω–∏–Ω–≥–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤ –ª–∏–Ω–µ–π–Ω—ã—Ö –∏ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏—Ö (log-log) –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (–¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).

Zipf = np.random.zipf(a=2, size=10_000)
Zipf = Zipf[(Zipf < 50)]
Zipf.shape

fig, axes = plt.subplots(2, 2, figsize=(12, 10))
n_bins = 50

axes[0, 0].hist(Zipf, bins=n_bins, color='blue', edgecolor='black', density=True)
axes[0, 0].set_title('Linear binning (linear coords)')
axes[0, 0].set_xlabel('–ó–Ω–∞—á–µ–Ω–∏–µ')
axes[0, 0].set_ylabel('–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏')
axes[0, 0].set_ylim(0, 0.2)

axes[0, 1].hist(Zipf, bins=n_bins, color='lightblue', edgecolor='black', density=True)
axes[0, 1].set_title('Linear binning (log-log coords)')
axes[0, 1].set_xlabel('log(–ó–Ω–∞—á–µ–Ω–∏–µ)')
axes[0, 1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[0, 1].set_yscale("log")
axes[0, 1].set_xscale("log")

log_bins = np.logspace(np.log10(1), np.log10(max(Zipf)), n_bins)
axes[1, 0].hist(Zipf, bins=log_bins, color='red', edgecolor='black', density=True)
axes[1, 0].set_title('Log binning (linear coords)')
axes[1, 0].set_xlabel('–ó–Ω–∞—á–µ–Ω–∏–µ')
axes[1, 0].set_ylabel('–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏')
axes[1, 0].set_ylim(0, 0.1)

axes[1, 1].hist(Zipf, bins=log_bins, color='green', edgecolor='black', density=True)
axes[1, 1].set_title('Log binning (log-log coords)')
axes[1, 1].set_xlabel('log(–ó–Ω–∞—á–µ–Ω–∏–µ)')
axes[1, 1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[1, 1].set_yscale("log")
axes[1, 1].set_xscale("log")

plt.tight_layout()
plt.show()
    """
    text = """
Zipf = np.random.zipf(a=2, size=10_000)
Zipf = Zipf[(Zipf < 50)]
Zipf.shape

fig, axes = plt.subplots(2, 2, figsize=(12, 10))
n_bins = 50

axes[0, 0].hist(Zipf, bins=n_bins, color='blue', edgecolor='black', density=True)
axes[0, 0].set_title('Linear binning (linear coords)')
axes[0, 0].set_xlabel('–ó–Ω–∞—á–µ–Ω–∏–µ')
axes[0, 0].set_ylabel('–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏')
axes[0, 0].set_ylim(0, 0.2)

axes[0, 1].hist(Zipf, bins=n_bins, color='lightblue', edgecolor='black', density=True)
axes[0, 1].set_title('Linear binning (log-log coords)')
axes[0, 1].set_xlabel('log(–ó–Ω–∞—á–µ–Ω–∏–µ)')
axes[0, 1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[0, 1].set_yscale("log")
axes[0, 1].set_xscale("log")

log_bins = np.logspace(np.log10(1), np.log10(max(Zipf)), n_bins)
axes[1, 0].hist(Zipf, bins=log_bins, color='red', edgecolor='black', density=True)
axes[1, 0].set_title('Log binning (linear coords)')
axes[1, 0].set_xlabel('–ó–Ω–∞—á–µ–Ω–∏–µ')
axes[1, 0].set_ylabel('–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏')
axes[1, 0].set_ylim(0, 0.1)

axes[1, 1].hist(Zipf, bins=log_bins, color='green', edgecolor='black', density=True)
axes[1, 1].set_title('Log binning (log-log coords)')
axes[1, 1].set_xlabel('log(–ó–Ω–∞—á–µ–Ω–∏–µ)')
axes[1, 1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[1, 1].set_yscale("log")
axes[1, 1].set_xscale("log")

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    
    
def four_models_1():
    """
1. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n > 50. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∏ —Ü–≤–µ—Ç —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏—Ö —Å—Ç–µ–ø–µ–Ω–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –≤—ã–±–æ—Ä–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –¥–ª—è —Å–µ—Ç–∏.

n = np.random.randint(50, 100)
m = 2
G1 = nx.barabasi_albert_graph(n=n, m=m)

degrees_values = np.array(list(dict(G1.degree).values()))
nx.draw(G1, node_size=30 * degrees_values, node_color=degrees_values)

edf = np.arange(1, len(degrees_values) + 1) / len(degrees_values)

plt.figure(figsize=(12, 8))
plt.step(sorted(degrees_values), edf, where="post")
plt.title("EDF —Å—Ç–µ–ø–µ–Ω–µ–π")
plt.xlabel("–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
plt.ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
plt.grid(True)

plt.show()
    """
    text = """
n = np.random.randint(50, 100)
m = 2
G1 = nx.barabasi_albert_graph(n=n, m=m)

degrees_values = np.array(list(dict(G1.degree).values()))
nx.draw(G1, node_size=30 * degrees_values, node_color=degrees_values)

edf = np.arange(1, len(degrees_values) + 1) / len(degrees_values)

plt.figure(figsize=(12, 8))
plt.step(sorted(degrees_values), edf, where="post")
plt.title("EDF —Å—Ç–µ–ø–µ–Ω–µ–π")
plt.xlabel("–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–æ–≤")
plt.ylabel("–ö—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
plt.grid(True)

plt.show()
    """
    pc.copy(text)
    
    
def four_models_2():
    """
2. –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–∞—Ä–∞–±–∞—à–∏-–ê–ª—å–±–µ—Ä—Ç–∞ –∏–∑ networkx, –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ n=10000. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å–µ—Ç–∏ –≤ –æ–±—ã—á–Ω–æ–π –∏ –ª–æ–≥–∞—Ä–∏—Ñ–∏–º–∏—á–µ—Å–∫–∏—Ö (–ø–æ 1–π –∏ –ø–æ 2–º –æ—Å—è–º) —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

n = 10_000
m = 2
G2 = nx.barabasi_albert_graph(n=n, m=m)

degree = dict(G2.degree)
degree_values = sorted(set(list(degree.values())))
print(degrees_values)

degree_counts = [list(degree.values()).count(x) for x in degree_values]
print(degree_counts)

degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].scatter(degree_values, degree_counts_freq, color='lightblue', edgecolor='black')
axes[0, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X))')
axes[0, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].set_xscale("log")
axes[0, 1].grid(True)

axes[1, 0].scatter(degree_values, degree_counts_freq, color='red', alpha=0.8, edgecolor='black')
axes[1, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(Y))')
axes[1, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].scatter(degree_values, degree_counts_freq, color='green', alpha=0.8, edgecolor='black')
axes[1, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X) –∏ log(Y))')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    text = """
    n = 10_000
m = 2
G2 = nx.barabasi_albert_graph(n=n, m=m)

degree = dict(G2.degree)
degree_values = sorted(set(list(degree.values())))
print(degrees_values)

degree_counts = [list(degree.values()).count(x) for x in degree_values]
print(degree_counts)

degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].scatter(degree_values, degree_counts_freq, color='lightblue', edgecolor='black')
axes[0, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X))')
axes[0, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].set_xscale("log")
axes[0, 1].grid(True)

axes[1, 0].scatter(degree_values, degree_counts_freq, color='red', alpha=0.8, edgecolor='black')
axes[1, 0].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(Y))')
axes[1, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].scatter(degree_values, degree_counts_freq, color='green', alpha=0.8, edgecolor='black')
axes[1, 1].set_title('–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (log(X) –∏ log(Y))')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    

def four_models_3():
    """
3. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º log-binning –¥–ª—è —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞ —ç—Ç–æ–º –∂–µ –≥—Ä–∞—Ñ–∏–∫–µ –∏–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–∞–∫–æ–Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è log-binning –≤ log-log –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.

lst_degrees = list(degree.values())
n_bins = 50
log_bins = np.logspace(np.log10(min(lst_degrees)), np.log10(max(lst_degrees)), n_bins)

fig, axes = plt.subplots(1, 2, figsize=(12, 6))

axes[0].hist(lst_degrees, bins=n_bins, edgecolor='black', density=True)
axes[0].set_title('Linear binning (log-log coords)')
axes[0].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[0].set_yscale("log")
axes[0].set_xscale("log")

axes[1].hist(lst_degrees, bins=log_bins, color='green', edgecolor='black', density=True)
axes[1].set_title('Log binning (log-log coords)')
axes[1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[1].set_yscale("log")
axes[1].set_xscale("log")

plt.tight_layout()
plt.show()

y_lienar, bin_linear = np.histogram(lst_degrees, bins=n_bins, density=True)
bin_center_linear = (bin_linear[:-1] + bin_linear[1:])/ 2

y_log, bin_log = np.histogram(lst_degrees, bins=log_bins, density=True)
bin_center_log = (bin_log[:-1] + bin_log[1:])/ 2

plt.figure(figsize=(8, 6))

plt.scatter(bin_center_linear, y_lienar, label='Linear-binning', alpha=1)
plt.scatter(bin_center_log, y_log, color='green', label='Log-binning', alpha=1)

plt.title('Linear –∏ log-binning (log-log coords)')
plt.xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
plt.ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
plt.xscale('log')
plt.yscale('log')
plt.legend()
plt.grid(True)

plt.show()
    """
    text = """
lst_degrees = list(degree.values())
n_bins = 50
log_bins = np.logspace(np.log10(min(lst_degrees)), np.log10(max(lst_degrees)), n_bins)

fig, axes = plt.subplots(1, 2, figsize=(12, 6))

axes[0].hist(lst_degrees, bins=n_bins, edgecolor='black', density=True)
axes[0].set_title('Linear binning (log-log coords)')
axes[0].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[0].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[0].set_yscale("log")
axes[0].set_xscale("log")

axes[1].hist(lst_degrees, bins=log_bins, color='green', edgecolor='black', density=True)
axes[1].set_title('Log binning (log-log coords)')
axes[1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1].set_ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
axes[1].set_yscale("log")
axes[1].set_xscale("log")

plt.tight_layout()
plt.show()

y_lienar, bin_linear = np.histogram(lst_degrees, bins=n_bins, density=True)
bin_center_linear = (bin_linear[:-1] + bin_linear[1:])/ 2

y_log, bin_log = np.histogram(lst_degrees, bins=log_bins, density=True)
bin_center_log = (bin_log[:-1] + bin_log[1:])/ 2

plt.figure(figsize=(8, 6))

plt.scatter(bin_center_linear, y_lienar, label='Linear-binning', alpha=1)
plt.scatter(bin_center_log, y_log, color='green', label='Log-binning', alpha=1)

plt.title('Linear –∏ log-binning (log-log coords)')
plt.xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
plt.ylabel('log(–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏)')
plt.xscale('log')
plt.yscale('log')
plt.legend()
plt.grid(True)

plt.show()
    """
    pc.copy(text)
    
    
def four_models_4():
    """
4. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ –£–æ—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Å–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç–∏ —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 1000 –∏ —Å —Ä–∞–∑–Ω—ã–º p. –í –∫–∞—á–µ—Å—Ç–≤–µ p —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–æ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–π —à–∫–∞–ª–µ –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ  [10‚àí4,1].
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è, –ø–æ—Å—Ç—Ä–æ–∏–≤ –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ä–µ–¥–Ω–µ–π –¥–ª–∏–Ω—ã –ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–µ—Ç–∏ –±–µ–∑ –ø–µ—Ä–µ—Å–≤—è–∑—ã–≤–∞–Ω–∏—è. –û–±–æ–∑–Ω–∞—á—å—Ç–µ —Ç–æ—á–∫–∏ —Ä–∞–∑–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏. –î–æ–±–∞–≤—å—Ç–µ –ª–µ–≥–µ–Ω–¥—É.

n = 16
k = 4
G3 = nx.watts_strogatz_graph(n, k, p=0)
pos = nx.circular_layout(G3)
nx.draw(G3, pos=pos, with_labels=True)

G3 = nx.watts_strogatz_graph(n, k, p=0.25)
nx.draw(G3, pos=pos, with_labels=True)

n = 1000
k = 4
p_values = np.logspace(-4, 0, num=14)

G_0 = nx.watts_strogatz_graph(n=n, k=k, p=0)
clustering_0 = nx.average_clustering(G_0)
length_0 = nx.average_shortest_path_length(G_0)
clustering_0, length_0

clusters = []
lengths = []

for p in p_values:
    G = nx.watts_strogatz_graph(n, k, p)
    clustering = nx.average_clustering(G)
    length = nx.average_shortest_path_length(G)
    
    clusters.append(clustering / clustering_0)
    lengths.append(length / length_0)

plt.figure(figsize=(10, 6))
plt.plot(p_values, clusters, 'o-', label='C/C‚ÇÄ', linewidth=1.5)
plt.plot(p_values, lengths, 'o-', label='L/L‚ÇÄ', linewidth=1.5)

plt.xlabel('log(p)')
plt.ylabel('–û—Ç–Ω–æ—à–µ–Ω–∏—è')
plt.title('–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å C/C0 –∏ L/L0 –æ—Ç p –≤ –º–æ–¥–µ–ª–∏ –£–æ—Ç—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Ü–∞')
plt.xscale('log')
plt.grid(True)
plt.legend()
plt.show()
    """
    text = """
n = 16
k = 4
G3 = nx.watts_strogatz_graph(n, k, p=0)
pos = nx.circular_layout(G3)
nx.draw(G3, pos=pos, with_labels=True)

G3 = nx.watts_strogatz_graph(n, k, p=0.25)
nx.draw(G3, pos=pos, with_labels=True)

n = 1000
k = 4
p_values = np.logspace(-4, 0, num=14)

G_0 = nx.watts_strogatz_graph(n=n, k=k, p=0)
clustering_0 = nx.average_clustering(G_0)
length_0 = nx.average_shortest_path_length(G_0)
clustering_0, length_0

clusters = []
lengths = []

for p in p_values:
    G = nx.watts_strogatz_graph(n, k, p)
    clustering = nx.average_clustering(G)
    length = nx.average_shortest_path_length(G)
    
    clusters.append(clustering / clustering_0)
    lengths.append(length / length_0)

plt.figure(figsize=(10, 6))
plt.plot(p_values, clusters, 'o-', label='C/C‚ÇÄ', linewidth=1.5)
plt.plot(p_values, lengths, 'o-', label='L/L‚ÇÄ', linewidth=1.5)

plt.xlabel('log(p)')
plt.ylabel('–û—Ç–Ω–æ—à–µ–Ω–∏—è')
plt.title('–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å C/C0 –∏ L/L0 –æ—Ç p –≤ –º–æ–¥–µ–ª–∏ –£–æ—Ç—Ç—Å–∞-–°—Ç—Ä–æ–≥–∞—Ç—Ü–∞')
plt.xscale('log')
plt.grid(True)
plt.legend()
plt.show()
    """
    pc.copy(text)
    
    
def four_models_5():
    """
5. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö fb-pages-food —Å —Å–∞–π—Ç–∞ https://networkrepository.com/ . C –ø–æ–º–æ—â—å—é nx.configuration_model –ø–æ—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ —Ä—è–¥–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.

G5 = nx.Graph()

nodes_path = 'data/fb-pages-food.nodes'
with open(nodes_path, 'r') as f:
    next(f)
    for line in f:
        splited = line.strip().split(',')
        new_id_node = int(splited[-1])
        G5.add_node(new_id_node)
        G5.nodes[new_id_node]['name'] = splited[1]

edges_path = 'data/fb-pages-food.edges'
with open(edges_path, 'r') as f:
    next(f)
    for line in f:
        node1, node2 = map(int, line.strip().split(','))
        G5.add_edge(node1, node2)
        
# G5.remove_edges_from(nx.selfloop_edges(G5)) # –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ç–ª–µ–π

degrees_G5 = list(dict(G5.degree).values())
G5_conf = nx.configuration_model(deg_sequence=degrees_G5)
# G5_conf.remove_edges_from(nx.selfloop_edges(G5_conf))

plt.figure(figsize=(12, 5))

plt.subplot(121)
pos_G5 = nx.spring_layout(G5)
nx.draw(G5, pos_G5, node_size=20, edge_color='gray', with_labels=False)
plt.title('–ò—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ G5')

plt.subplot(122)
nx.draw(G5_conf, pos_G5, node_size=20, node_color='red', edge_color='gray', with_labels=False)
plt.title('–†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ G5_conf')

plt.tight_layout()
plt.show()

degree = dict(G5.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

degree_conf = dict(G5_conf.degree)
degree_values_conf = sorted(set(list(degree_conf.values())))
degree_counts_conf = [list(degree_conf.values()).count(x) for x in degree_values_conf]
degree_counts_freq_conf = [d / sum(degree_counts_conf) for d in degree_counts_conf]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (–∏—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ)')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].scatter(degree_values_conf, degree_counts_freq_conf, color='green', edgecolor='black')
axes[0, 1].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ)')
axes[0, 1].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].grid(True)

axes[1, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[1, 0].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (–∏—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ, log-log)')
axes[1, 0].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_xscale("log")
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].scatter(degree_values_conf, degree_counts_freq_conf, color='green', edgecolor='black')
axes[1, 1].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ, log-log)')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    text = """
    G5 = nx.Graph()

nodes_path = 'data/fb-pages-food.nodes'
with open(nodes_path, 'r') as f:
    next(f)
    for line in f:
        splited = line.strip().split(',')
        new_id_node = int(splited[-1])
        G5.add_node(new_id_node)
        G5.nodes[new_id_node]['name'] = splited[1]

edges_path = 'data/fb-pages-food.edges'
with open(edges_path, 'r') as f:
    next(f)
    for line in f:
        node1, node2 = map(int, line.strip().split(','))
        G5.add_edge(node1, node2)
        
# G5.remove_edges_from(nx.selfloop_edges(G5)) # –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ç–ª–µ–π

degrees_G5 = list(dict(G5.degree).values())
G5_conf = nx.configuration_model(deg_sequence=degrees_G5)
# G5_conf.remove_edges_from(nx.selfloop_edges(G5_conf))

plt.figure(figsize=(12, 5))

plt.subplot(121)
pos_G5 = nx.spring_layout(G5)
nx.draw(G5, pos_G5, node_size=20, edge_color='gray', with_labels=False)
plt.title('–ò—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ G5')

plt.subplot(122)
nx.draw(G5_conf, pos_G5, node_size=20, node_color='red', edge_color='gray', with_labels=False)
plt.title('–†–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ G5_conf')

plt.tight_layout()
plt.show()

degree = dict(G5.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

degree_conf = dict(G5_conf.degree)
degree_values_conf = sorted(set(list(degree_conf.values())))
degree_counts_conf = [list(degree_conf.values()).count(x) for x in degree_values_conf]
degree_counts_freq_conf = [d / sum(degree_counts_conf) for d in degree_counts_conf]

fig, axes = plt.subplots(2, 2, figsize=(12, 10))

axes[0, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[0, 0].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (–∏—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ)')
axes[0, 0].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 0].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 0].grid(True)

axes[0, 1].scatter(degree_values_conf, degree_counts_freq_conf, color='green', edgecolor='black')
axes[0, 1].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ)')
axes[0, 1].set_xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
axes[0, 1].set_ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
axes[0, 1].grid(True)

axes[1, 0].scatter(degree_values, degree_counts_freq, edgecolor='black')
axes[1, 0].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (–∏—Å—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ, log-log)')
axes[1, 0].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 0].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 0].set_xscale("log")
axes[1, 0].set_yscale("log")
axes[1, 0].grid(True)

axes[1, 1].scatter(degree_values_conf, degree_counts_freq_conf, color='green', edgecolor='black')
axes[1, 1].set_title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ (—Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ, log-log)')
axes[1, 1].set_xlabel('log(–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞)')
axes[1, 1].set_ylabel('log(–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)')
axes[1, 1].set_xscale("log")
axes[1, 1].set_yscale("log")
axes[1, 1].grid(True)

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    
    
def four_models_6():
    """
6. C –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ—Å—Ç–æ–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞ –∏–∑ networkx —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å —Å –∫–æ–ª-–≤–æ–º —É–∑–ª–æ–≤ –ø–æ—Ä—è–¥–∫–∞ 500 –ø—Ä–∏ —Ä–∞–¥–∏—É—Å–µ r=0.2 –∏  ùêø2
  –º–µ—Ç—Ä–∏–∫–æ–π –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ, —É–º–µ–Ω—å—à–∏–≤ —Ä–∞–∑–º–µ—Ä —É–∑–ª–æ–≤ –∏ —Å–¥–µ–ª–∞–≤ —Ü–≤–µ—Ç —Ä–µ–±–µ—Ä —á–µ—Ä–Ω—ã–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RGBA). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.
–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤  ùêø1
  –º–µ—Ç—Ä–∏–∫—É –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.
  
n = 500
r = 0.2
G6_L2 = nx.random_geometric_graph(n, r, p=2)
print(G6_L2.nodes(data=True)[0]) # pos –µ—Å—Ç—å

plt.figure(figsize=(8, 8))
pos = nx.get_node_attributes(G6_L2, 'pos')
nx.draw(G6_L2, pos=pos, node_size=10, node_color='blue', 
        edge_color=(0, 0, 0, 0.1),
        with_labels=False)
plt.title('L2 –º–µ—Ç—Ä–∏–∫–∞')
plt.show()

degree = dict(G6_L2.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

plt.figure(figsize=(6,4))

plt.scatter(degree_values, degree_counts_freq, edgecolor='black')
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤, L2')
plt.xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
plt.grid(True)
plt.show()

G6_L1 = nx.random_geometric_graph(n, r, p=1)

plt.figure(figsize=(8, 8))
pos = nx.get_node_attributes(G6_L1, 'pos')
nx.draw(G6_L1, pos=pos, node_size=10, node_color='red', 
        edge_color=(0, 0, 0, 0.1),
        with_labels=False)
plt.title('L1 –º–µ—Ç—Ä–∏–∫–∞')
plt.show()

degree = dict(G6_L1.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

plt.figure(figsize=(6,4))

plt.scatter(degree_values, degree_counts_freq, edgecolor='black', color="red")
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤, L1')
plt.xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
plt.grid(True)
plt.show()
    """
    text = """
n = 500
r = 0.2
G6_L2 = nx.random_geometric_graph(n, r, p=2)
print(G6_L2.nodes(data=True)[0]) # pos –µ—Å—Ç—å

plt.figure(figsize=(8, 8))
pos = nx.get_node_attributes(G6_L2, 'pos')
nx.draw(G6_L2, pos=pos, node_size=10, node_color='blue', 
        edge_color=(0, 0, 0, 0.1),
        with_labels=False)
plt.title('L2 –º–µ—Ç—Ä–∏–∫–∞')
plt.show()

degree = dict(G6_L2.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

plt.figure(figsize=(6,4))

plt.scatter(degree_values, degree_counts_freq, edgecolor='black')
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤, L2')
plt.xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
plt.grid(True)
plt.show()

G6_L1 = nx.random_geometric_graph(n, r, p=1)

plt.figure(figsize=(8, 8))
pos = nx.get_node_attributes(G6_L1, 'pos')
nx.draw(G6_L1, pos=pos, node_size=10, node_color='red', 
        edge_color=(0, 0, 0, 0.1),
        with_labels=False)
plt.title('L1 –º–µ—Ç—Ä–∏–∫–∞')
plt.show()

degree = dict(G6_L1.degree)
degree_values = sorted(set(list(degree.values())))
degree_counts = [list(degree.values()).count(x) for x in degree_values]
degree_counts_freq = [d / sum(degree_counts) for d in degree_counts]

plt.figure(figsize=(6,4))

plt.scatter(degree_values, degree_counts_freq, edgecolor='black', color="red")
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π —É–∑–ª–æ–≤, L1')
plt.xlabel('–°—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å')
plt.grid(True)
plt.show()
    """
    pc.copy(text)
    
    
def five_community_detection_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ç—å Southern women —Å —Å–∞–π—Ç–∞ http://konect.cc/, —É–¥–∞–ª–∏—Ç–µ –∏–∑ –Ω–µ–≥–æ –ø–µ—Ç–ª–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 5 —Ä–∞–∑–±–∏–µ–Ω–∏–π —ç—Ç–æ–π —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (—á–∞—Å—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º –æ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —á–∞—Å—Ç—å - –Ω–µ—Ç). –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ—ã, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.

SW = nx.read_edgelist(path="data/out.opsahl-southernwomen", comments="%")
SW.remove_edges_from(nx.selfloop_edges(SW))
pos = nx.spring_layout(SW)
nx.draw(SW, pos=pos, with_labels=True)

# —Ä–∞–∑–±–∏–Ω–µ–Ω–∏–µ –ø–æ–ø–æ–ª–∞–º –ø–æ id —É–∑–ª–æ–≤
SW_1_1 = range(1, len(SW) // 2 + 1)
SW_1_2 = range(len(SW) // 2 + 1, len(SW) + 1)
colors_1 = ["red" if int(node) in SW_1_1 else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_1)

# —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —É–∑–ª–∞ –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É
SW_2_1 = np.random.randint(0, len(SW), size=len(SW)//2)
colors_2 = ["red" if int(node) in SW_2_1 else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_2)

# –û–¥–Ω–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ - —É–∑–ª—ã —Å–æ —Å—Ç–µ–ø–µ–Ω—å—é –±–æ–ª–µ–µ –º–µ–¥–∏–∞–Ω—ã, –¥—Ä—É–≥–æ–µ –Ω–µ –±–æ–ª–µ–µ
degrees = dict(SW.degree())
degrees_median = np.median(list(degrees.values()))
print("Median", degrees_median)
colors_3 = ["red" if degrees[node] > degrees_median else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_3)

# –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —É–∑–ª—ã, –∏–º–µ—é—â–∏–µ —Å–≤—è–∑—å —Å —É–∑–ª–æ–º "7", –≤–æ –≤—Ç–æ—Ä–æ–º –Ω–µ–∏–º–µ—é—â–∏–µ
conn_nodes = set()
for edge in list(SW.edges()):
    if "7" in edge:
        conn_nodes.add(edge[0])
        conn_nodes.add(edge[1])
colors_4 = ["red" if node in conn_nodes else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_4)

# –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —É–∑–ª—ã, –∏–º–µ—é—â–∏–µ —Å–≤—è–∑—å —Å —É–∑–ª–æ–º "5", –≤–æ –≤—Ç–æ—Ä–æ–º –Ω–µ–∏–º–µ—é—â–∏–µ
conn_nodes = set()
for edge in list(SW.edges()):
    if "5" in edge:
        conn_nodes.add(edge[0])
        conn_nodes.add(edge[1])
colors_5 = ["red" if node in conn_nodes else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_5)
    """
    text = """
SW = nx.read_edgelist(path="data/out.opsahl-southernwomen", comments="%")
SW.remove_edges_from(nx.selfloop_edges(SW))
pos = nx.spring_layout(SW)
nx.draw(SW, pos=pos, with_labels=True)

# —Ä–∞–∑–±–∏–Ω–µ–Ω–∏–µ –ø–æ–ø–æ–ª–∞–º –ø–æ id —É–∑–ª–æ–≤
SW_1_1 = range(1, len(SW) // 2 + 1)
SW_1_2 = range(len(SW) // 2 + 1, len(SW) + 1)
colors_1 = ["red" if int(node) in SW_1_1 else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_1)

# —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —É–∑–ª–∞ –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É
SW_2_1 = np.random.randint(0, len(SW), size=len(SW)//2)
colors_2 = ["red" if int(node) in SW_2_1 else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_2)

# –û–¥–Ω–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ - —É–∑–ª—ã —Å–æ —Å—Ç–µ–ø–µ–Ω—å—é –±–æ–ª–µ–µ –º–µ–¥–∏–∞–Ω—ã, –¥—Ä—É–≥–æ–µ –Ω–µ –±–æ–ª–µ–µ
degrees = dict(SW.degree())
degrees_median = np.median(list(degrees.values()))
print("Median", degrees_median)
colors_3 = ["red" if degrees[node] > degrees_median else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_3)

# –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —É–∑–ª—ã, –∏–º–µ—é—â–∏–µ —Å–≤—è–∑—å —Å —É–∑–ª–æ–º "7", –≤–æ –≤—Ç–æ—Ä–æ–º –Ω–µ–∏–º–µ—é—â–∏–µ
conn_nodes = set()
for edge in list(SW.edges()):
    if "7" in edge:
        conn_nodes.add(edge[0])
        conn_nodes.add(edge[1])
colors_4 = ["red" if node in conn_nodes else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_4)

# –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —É–∑–ª—ã, –∏–º–µ—é—â–∏–µ —Å–≤—è–∑—å —Å —É–∑–ª–æ–º "5", –≤–æ –≤—Ç–æ—Ä–æ–º –Ω–µ–∏–º–µ—é—â–∏–µ
conn_nodes = set()
for edge in list(SW.edges()):
    if "5" in edge:
        conn_nodes.add(edge[0])
        conn_nodes.add(edge[1])
colors_5 = ["red" if node in conn_nodes else "green" for node in SW.nodes()]
nx.draw(SW, pos=pos, with_labels=True, node_color=colors_5)
    """
    pc.copy(text)
    
    
def five_community_detection_2():
    """
2. –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤–µ–ª–∏—á–∏–Ω—ã:

–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
–ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
—Å—Ä–µ–¥–Ω—é—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤.
–º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å
–ø–æ–∫—Ä—ã—Ç–∏–µ (coverage)
—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (performance)
–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∫—Ä—É–≥–ª–∏—Ç–µ –¥–æ —Å–æ—Ç—ã—Ö –∏ —Å–≤–µ–¥–∏—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

–†–∞–∑–±–∏–µ–Ω–∏–µ	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞	...	...
1				
...				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas.

comms_list = []
colors_list = [colors_1, colors_2, colors_3, colors_4, colors_5]
for color in colors_list:
    com_1 = [str(i + 1) for i, val in enumerate(color) if val == "red"]
    com_2 = [str(i + 1) for i, val in enumerate(color) if val == "green"]
    sub_1 = nx.subgraph(SW, com_1)
    sub_2 = nx.subgraph(SW, com_2)
    comms_list.append([sub_1, sub_2])
    
data = []

for i, (comm1, comm2) in enumerate(comms_list, start=1):
    density1 = nx.density(comm1)
    density2 = nx.density(comm2)
    avg_density = (density1 + density2) / 2
    modularity = nx.community.modularity(SW, communities=[set(comm1.nodes()), set(comm2.nodes())])
    coverage, performance = nx.community.partition_quality(SW, partition=[set(comm1.nodes()), set(comm2.nodes())])
    
    data.append({
        "–†–∞–∑–±–∏–µ–Ω–∏–µ": str(i),
        "–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞": density1,
        "–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞": density2,
        "–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤": avg_density,
        "–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å": modularity,
        "–ü–æ–∫—Ä—ã—Ç–∏–µ (coverage)": coverage,
        "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (performance)": performance
    })
table = pd.DataFrame(data)
table["–†–∞–∑–±–∏–µ–Ω–∏–µ"] = ["–ü–æ id —É–∑–ª–æ–≤", "–°–ª—É—á–∞–π–Ω—ã–π", "–ü–æ –º–µ–¥–∏–∞–Ω–µ", "–°–≤—è–∑—å —Å '7'", "–°–≤—è–∑—å —Å '5'"]
table
    """
    text = """
comms_list = []
colors_list = [colors_1, colors_2, colors_3, colors_4, colors_5]
for color in colors_list:
    com_1 = [str(i + 1) for i, val in enumerate(color) if val == "red"]
    com_2 = [str(i + 1) for i, val in enumerate(color) if val == "green"]
    sub_1 = nx.subgraph(SW, com_1)
    sub_2 = nx.subgraph(SW, com_2)
    comms_list.append([sub_1, sub_2])
    
data = []

for i, (comm1, comm2) in enumerate(comms_list, start=1):
    density1 = nx.density(comm1)
    density2 = nx.density(comm2)
    avg_density = (density1 + density2) / 2
    modularity = nx.community.modularity(SW, communities=[set(comm1.nodes()), set(comm2.nodes())])
    coverage, performance = nx.community.partition_quality(SW, partition=[set(comm1.nodes()), set(comm2.nodes())])
    
    data.append({
        "–†–∞–∑–±–∏–µ–Ω–∏–µ": str(i),
        "–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞": density1,
        "–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞": density2,
        "–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤": avg_density,
        "–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å": modularity,
        "–ü–æ–∫—Ä—ã—Ç–∏–µ (coverage)": coverage,
        "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (performance)": performance
    })
table = pd.DataFrame(data)
table["–†–∞–∑–±–∏–µ–Ω–∏–µ"] = ["–ü–æ id —É–∑–ª–æ–≤", "–°–ª—É—á–∞–π–Ω—ã–π", "–ü–æ –º–µ–¥–∏–∞–Ω–µ", "–°–≤—è–∑—å —Å '7'", "–°–≤—è–∑—å —Å '5'"]
table
    """
    pc.copy(text)
    
    
def five_community_detection_3():
    """
3. –°—á–∏—Ç–∞–π—Ç–µ —Å–µ—Ç—å –∏–∑ —Ñ–∞–π–ª–∞ communities.edgelist. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –Ω–∞ 2 —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤—É.

G_C = nx.read_edgelist(path="data/communities.edgelist")
pos = nx.spring_layout(G_C)
nx.draw(G_C, with_labels=True)

GN_com = next(nx.community.girvan_newman(G_C))
print(GN_com)

colors = ["red" if node in GN_com[0] else "green" for node in G_C.nodes()]
nx.draw(G_C, with_labels=True, pos=pos, node_color=colors)
    """
    text = """
G_C = nx.read_edgelist(path="data/communities.edgelist")
pos = nx.spring_layout(G_C)
nx.draw(G_C, with_labels=True)

GN_com = next(nx.community.girvan_newman(G_C))
print(GN_com)

colors = ["red" if node in GN_com[0] else "green" for node in G_C.nodes()]
nx.draw(G_C, with_labels=True, pos=pos, node_color=colors)
    """
    pc.copy(text)
    
    
def five_community_detection_4():
    """
4. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –¥–ª—è —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –Ω–∞–∏–ª—É—á—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ (–≤—ã–≤–µ–¥–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω). –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

GN_com_gen = nx.community.girvan_newman(G_C)

modularity_values = []
partitions_list = []

for communities in GN_com_gen:
    partition = list(communities)
    partitions_list.append(partition)
    
    modularity = nx.community.modularity(G_C, partition)
    modularity_values.append(modularity)

plt.figure(figsize=(10, 6))
plt.plot(modularity_values, marker='o')
plt.title("–î–∏–Ω–∞–º–∏–∫–∞ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –¥–ª—è —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞")
plt.xlabel("–®–∞–≥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞")
plt.ylabel("–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å")
plt.grid(True)
plt.show()

best_index_comm = modularity_values.index(max(modularity_values))
best_partition = partitions_list[best_index_comm]

print(f"–õ—É—á—à–µ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ - –Ω–∞ {len(best_partition)} —Å–æ–æ–±—â–µ—Å—Ç–≤–∞\n\
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏: {modularity_values[best_index_comm]}")

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(best_partition) for n in part }
node_colors = [colors_dict[node] for node in G_C.nodes()]

edge_colors = []
for edge in G_C.edges():
    same_community = False
    for community in best_partition:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
nx.draw(G_C, with_labels=True, pos=pos, node_color=node_colors, edge_color=edge_colors)
    """
    text = """
GN_com_gen = nx.community.girvan_newman(G_C)

modularity_values = []
partitions_list = []

for communities in GN_com_gen:
    partition = list(communities)
    partitions_list.append(partition)
    
    modularity = nx.community.modularity(G_C, partition)
    modularity_values.append(modularity)

plt.figure(figsize=(10, 6))
plt.plot(modularity_values, marker='o')
plt.title("–î–∏–Ω–∞–º–∏–∫–∞ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –¥–ª—è —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ì–∏—Ä–≤–∞–Ω–∞-–ù—å—é–º–µ–Ω–∞")
plt.xlabel("–®–∞–≥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞")
plt.ylabel("–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å")
plt.grid(True)
plt.show()

best_index_comm = modularity_values.index(max(modularity_values))
best_partition = partitions_list[best_index_comm]

print(f"–õ—É—á—à–µ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ - –Ω–∞ {len(best_partition)} —Å–æ–æ–±—â–µ—Å—Ç–≤–∞\n\
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏: {modularity_values[best_index_comm]}")

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(best_partition) for n in part }
node_colors = [colors_dict[node] for node in G_C.nodes()]

edge_colors = []
for edge in G_C.edges():
    same_community = False
    for community in best_partition:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
nx.draw(G_C, with_labels=True, pos=pos, node_color=node_colors, edge_color=edge_colors) 

    """
    pc.copy(text)
    
    
def five_community_detection_5():
    """
    5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –õ—É–≤–µ–Ω—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é.
    
G_5 = nx.read_edgelist(path="data/communities.edgelist")
community_louv = nx.community.louvain_communities(G_5, seed=0)
moodularity = nx.community.modularity(G_5, communities=community_louv)
print(f"–õ—É—á—à–µ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ - –Ω–∞ {len(community_louv)} —Å–æ–æ–±—â–µ—Å—Ç–≤–∞\n–ó–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏: {moodularity}")

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(community_louv) for n in part}
node_colors = [colors_dict[node] for node in G_5.nodes()]

edge_colors = []
for edge in G_5.edges():
    same_community = False
    for community in community_louv:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
        
nx.draw(G_5, with_labels=True, pos=pos, node_color=node_colors, edge_color=edge_colors)

    """
    text = """
G_5 = nx.read_edgelist(path="data/communities.edgelist")
community_louv = nx.community.louvain_communities(G_5, seed=0)
moodularity = nx.community.modularity(G_5, communities=community_louv)
print(f"–õ—É—á—à–µ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ - –Ω–∞ {len(community_louv)} —Å–æ–æ–±—â–µ—Å—Ç–≤–∞\n–ó–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç–∏: {moodularity}")

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(community_louv) for n in part}
node_colors = [colors_dict[node] for node in G_5.nodes()]

edge_colors = []
for edge in G_5.edges():
    same_community = False
    for community in community_louv:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
        
nx.draw(G_5, with_labels=True, pos=pos, node_color=node_colors, edge_color=edge_colors)
    """
    pc.copy(text)
    

def five_community_detection_6():
    """
6. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–µ—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–º—É –æ–Ω–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç (—Ç.–µ. –Ω–æ–º–µ—Ä–∞  0...ùê∂1‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂1
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –ø–µ—Ä–≤–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É; –Ω–æ–º–µ—Ä–∞  ùê∂1...ùê∂2‚àí1
  –¥–∞—é—Ç—Å—è  ùê∂2
  —É–∑–ª–∞–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–º –≤—Ç–æ—Ä–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ —Ç.–¥.). –î–ª—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –≥—Ä–∞—Ñ–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –õ—É–≤–µ–Ω—Å–∫–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–≤–µ –º–∞—Ç—Ä–∏—Ü—ã —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ seaborn.heatmap. –†–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ —Ä–∏—Å—É–Ω–∫–∏ —Ä—è–¥–æ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏, –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∏—Å—É–Ω–∫–æ–≤. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

G_6 = nx.read_edgelist(path="data/communities.edgelist")
community_louv = nx.community.louvain_communities(G_6, seed=0)

node_to_community = {}
for i, com in enumerate(community_louv):
    for node in com:
        node_to_community[node] = i
        
adj_matrix = nx.adjacency_matrix(G_6).toarray()
sorted_nodes = sorted(G_6.nodes(), key=lambda x: node_to_community[x])
reorder_adj_matrix = nx.adjacency_matrix(G_6, nodelist=sorted_nodes).toarray()

fig, axes = plt.subplots(1, 2, figsize=(16, 8))

sns.heatmap(adj_matrix, ax=axes[0], cbar=False)
axes[0].set_title("–ò—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏")
axes[0].set_xlabel("–£–∑–ª—ã")
axes[0].set_ylabel("–£–∑–ª—ã")

sns.heatmap(reorder_adj_matrix, ax=axes[1], cbar=False)
axes[1].set_title("–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏")
axes[1].set_xlabel("–£–∑–ª—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º)")
axes[1].set_ylabel("–£–∑–ª—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º)")

plt.tight_layout()
plt.show()
    """
    text = """
G_6 = nx.read_edgelist(path="data/communities.edgelist")
community_louv = nx.community.louvain_communities(G_6, seed=0)

node_to_community = {}
for i, com in enumerate(community_louv):
    for node in com:
        node_to_community[node] = i
        
adj_matrix = nx.adjacency_matrix(G_6).toarray()
sorted_nodes = sorted(G_6.nodes(), key=lambda x: node_to_community[x])
reorder_adj_matrix = nx.adjacency_matrix(G_6, nodelist=sorted_nodes).toarray()

fig, axes = plt.subplots(1, 2, figsize=(16, 8))

sns.heatmap(adj_matrix, ax=axes[0], cbar=False)
axes[0].set_title("–ò—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏")
axes[0].set_xlabel("–£–∑–ª—ã")
axes[0].set_ylabel("–£–∑–ª—ã")

sns.heatmap(reorder_adj_matrix, ax=axes[1], cbar=False)
axes[1].set_title("–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏")
axes[1].set_xlabel("–£–∑–ª—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º)")
axes[1].set_ylabel("–£–∑–ª—ã (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º)")

plt.tight_layout()
plt.show()
    """
    pc.copy(text)
    
    
def six_lpa_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ –≤—ã–¥–µ–ª–∏—Ç–µ –≤ –Ω–µ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏–∑ networkx. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤) –∏ —Ä–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç—Ç–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏. –°–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, —Å–æ—Å—Ç–æ—è—â–∏–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö, –æ—Ç—Ä–∏—Å—É–π—Ç–µ —á–µ—Ä–Ω—ã–º —Ü–≤–µ—Ç–æ–º.

G1 = nx.karate_club_graph()
lpc_G1 = nx.community.label_propagation_communities(G1)
pos = nx.spring_layout(G1)

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(lpc_G1) for n in part}
node_colors = [colors_dict[node] for node in G1.nodes()]

edge_colors = []
for edge in G1.edges():
    same_community = False
    for community in lpc_G1:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
        
nx.draw(G1, pos=pos, node_color=node_colors,edge_color=edge_colors, with_labels=True)
    """
    text = """
G1 = nx.karate_club_graph()
lpc_G1 = nx.community.label_propagation_communities(G1)
pos = nx.spring_layout(G1)

colors_list = ["red", "green", "blue", "purple"]
colors_dict = {n:colors_list[i] for i, part in enumerate(lpc_G1) for n in part}
node_colors = [colors_dict[node] for node in G1.nodes()]

edge_colors = []
for edge in G1.edges():
    same_community = False
    for community in lpc_G1:
        if edge[0] in community and edge[1] in community:
            same_community = True
            break
    if same_community:
        edge_colors.append(colors_dict[edge[0]])
    else:
        edge_colors.append("black")
        
nx.draw(G1, pos=pos, node_color=node_colors,edge_color=edge_colors, with_labels=True)
    """
    pc.copy(text)
    
    
def six_lpa_2():
    """
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ —Å—Ä–µ–¥–∏ –º–µ—Ç–æ–∫ —Å–æ—Å–µ–¥–µ–π –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π, —Ç–æ –º–µ—Ç–∫–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –∫–æ–≥–¥–∞ –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –º–µ—Ç–∫–∞ –Ω–∏ –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

G2 = nx.karate_club_graph()
pos = nx.spring_layout(G2)

colors_map = {i:"#"+''.join([random.choice('0123456789ABCDEF') for j in range(6)])
         for i in range(len(G2.nodes()))}
         
def add_labels(G):
    for i, node in enumerate(G.nodes()):
        G.nodes[node]["label"] = i
    return G
    
def draw_graph(G, colors_dict):
    labels = [G.nodes[n]["label"] for n in G.nodes]
    unique_labels = list(set(labels))
    node_colors = [colors_dict[label] for label in labels]
    
    edge_colors = []
    for edge in G.edges():
        same_community = False
        for community in unique_labels:
            if G.nodes[edge[0]]["label"]==community and G.nodes[edge[1]]["label"]==community:
                same_community = True
                break
        if same_community:
            edge_colors.append(colors_dict[labels[edge[0]]])
        else:
            edge_colors.append("black")
            
    nx.draw(G, pos=pos, node_color=node_colors,edge_color=edge_colors, with_labels=True)
    plt.show()
    
def get_lpc_syn(G, colors_map, logging=True, printing=True):
    changes_flag = True
    count_iters = 0
    while changes_flag:
        changes_flag = False
        nodes_dict = copy.deepcopy(dict(G.nodes(data=True)))
        count_iters += 1
        for node, attrs in nodes_dict.items():
            freqs_neighbors = Counter(nodes_dict[n]["label"] for n in G.neighbors(node))
            max_freq_labels = [key for key, val in freqs_neighbors.items() if val==max(freqs_neighbors.values())]
            if attrs["label"] not in max_freq_labels:
                if len(max_freq_labels) > 1:
                    new_label = random.choice(max_freq_labels)
                else:
                    new_label = max_freq_labels[0]
                if logging:
                    print(f"–ú–µ—Ç–∫–∞ —É–∑–ª–∞ {node} –º–µ–Ω—è–µ—Ç—Å—è —Å {attrs['label']} –Ω–∞ {new_label}")
                G.nodes[node]["label"] = new_label
                changes_flag = True
        if printing:
            draw_graph(G, colors_map)
    print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:",count_iters)
    return G
    
G2 = add_labels(G2)

# –Ω–∞—á–∞–ª—å–Ω—ã–π
draw_graph(G2, colors_map)

G2_lpc = get_lpc_syn(G2, colors_map)

# —Ñ–∏–Ω–∞–ª—å–Ω—ã–π
draw_graph(G2_lpc, colors_map)
    """
    text = """
G2 = nx.karate_club_graph()
pos = nx.spring_layout(G2)

colors_map = {i:"#"+''.join([random.choice('0123456789ABCDEF') for j in range(6)])
         for i in range(len(G2.nodes()))}
         
def add_labels(G):
    for i, node in enumerate(G.nodes()):
        G.nodes[node]["label"] = i
    return G
    
def draw_graph(G, colors_dict):
    labels = [G.nodes[n]["label"] for n in G.nodes]
    unique_labels = list(set(labels))
    node_colors = [colors_dict[label] for label in labels]
    
    edge_colors = []
    for edge in G.edges():
        same_community = False
        for community in unique_labels:
            if G.nodes[edge[0]]["label"]==community and G.nodes[edge[1]]["label"]==community:
                same_community = True
                break
        if same_community:
            edge_colors.append(colors_dict[labels[edge[0]]])
        else:
            edge_colors.append("black")
            
    nx.draw(G, pos=pos, node_color=node_colors,edge_color=edge_colors, with_labels=True)
    plt.show()
    
def get_lpc_syn(G, colors_map, logging=True, printing=True):
    changes_flag = True
    count_iters = 0
    while changes_flag:
        changes_flag = False
        nodes_dict = copy.deepcopy(dict(G.nodes(data=True)))
        count_iters += 1
        for node, attrs in nodes_dict.items():
            freqs_neighbors = Counter(nodes_dict[n]["label"] for n in G.neighbors(node))
            max_freq_labels = [key for key, val in freqs_neighbors.items() if val==max(freqs_neighbors.values())]
            if attrs["label"] not in max_freq_labels:
                if len(max_freq_labels) > 1:
                    new_label = random.choice(max_freq_labels)
                else:
                    new_label = max_freq_labels[0]
                if logging:
                    print(f"–ú–µ—Ç–∫–∞ —É–∑–ª–∞ {node} –º–µ–Ω—è–µ—Ç—Å—è —Å {attrs['label']} –Ω–∞ {new_label}")
                G.nodes[node]["label"] = new_label
                changes_flag = True
        if printing:
            draw_graph(G, colors_map)
    print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:",count_iters)
    return G
    
G2 = add_labels(G2)

# –Ω–∞—á–∞–ª—å–Ω—ã–π
draw_graph(G2, colors_map)

G2_lpc = get_lpc_syn(G2, colors_map)

# —Ñ–∏–Ω–∞–ª—å–Ω—ã–π
draw_graph(G2_lpc, colors_map)
    """
    pc.copy(text)
    
    
def six_lpa_3():
    """
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫. –í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ —É–∑–ª–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–µ—Ç–∫–∏ —Å–æ—Å–µ–¥–µ–π —Å —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤—É—é –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Å–µ—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.

def get_lpc_async(G, colors_map, logging=True, printing=True):
    changes_flag = True
    count_iters = 0
    while changes_flag:
        changes_flag = False
        count_iters += 1
        nodes_dict = dict(G.nodes(data=True)) 
        for node, attrs in nodes_dict.items():
            freqs_neighbors = Counter(G.nodes[n]["label"] for n in G.neighbors(node))
            max_freq_labels = [key for key, val in freqs_neighbors.items() if val==max(freqs_neighbors.values())]
            if attrs["label"] not in max_freq_labels:
                if len(max_freq_labels) > 1:
                    new_label = random.choice(max_freq_labels)
                else:
                    new_label = max_freq_labels[0]
                if logging:
                    print("\n\n")
                    print(f"–ú–µ—Ç–∫–∞ —É–∑–ª–∞ {node} –º–µ–Ω—è–µ—Ç—Å—è —Å {attrs['label']} –Ω–∞ {new_label}")
                    
                G.nodes[node]["label"] = new_label
                changes_flag = True
                
                if printing:
                    draw_graph(G, colors_map)
    print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:",count_iters)    
    return G
    
G3 = nx.karate_club_graph()
G3 = add_labels(G3)

# –Ω–∞—á–∞–ª—å–Ω—ã–π
draw_graph(G3, colors_map)

G3_lpc = get_lpc_async(G3, colors_map)
    """
    text = """
def get_lpc_async(G, colors_map, logging=True, printing=True):
    changes_flag = True
    count_iters = 0
    while changes_flag:
        changes_flag = False
        count_iters += 1
        nodes_dict = dict(G.nodes(data=True)) 
        for node, attrs in nodes_dict.items():
            freqs_neighbors = Counter(G.nodes[n]["label"] for n in G.neighbors(node))
            max_freq_labels = [key for key, val in freqs_neighbors.items() if val==max(freqs_neighbors.values())]
            if attrs["label"] not in max_freq_labels:
                if len(max_freq_labels) > 1:
                    new_label = random.choice(max_freq_labels)
                else:
                    new_label = max_freq_labels[0]
                if logging:
                    print("\n\n")
                    print(f"–ú–µ—Ç–∫–∞ —É–∑–ª–∞ {node} –º–µ–Ω—è–µ—Ç—Å—è —Å {attrs['label']} –Ω–∞ {new_label}")
                    
                G.nodes[node]["label"] = new_label
                changes_flag = True
                
                if printing:
                    draw_graph(G, colors_map)
    print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π:",count_iters)    
    return G
    
G3 = nx.karate_club_graph()
G3 = add_labels(G3)

# –Ω–∞—á–∞–ª—å–Ω—ã–π
draw_graph(G3, colors_map)

G3_lpc = get_lpc_async(G3, colors_map)
    """
    pc.copy(text)
    
    
def six_lpa_4():
    """
4. –ò—Å–ø–æ–ª—å–∑—É—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é LPA, —Ä–∞–∑–±–µ–π—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –Ω–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ N=10 —Ä–∞–∑. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ freqs —Ä–∞–∑–º–µ—Ä–∞ MxM (M - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ), –≥–¥–µ freqs[i, j] –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —á–∞—Å—Ç–æ —É–∑–ª—ã i –∏ j –æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ.
–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ i –∏ j —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–≤—è–∑—å —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ freqs[i, j] >= 8. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–µ, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞) –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–¥–∞–Ω–∏—è–º.

G4 = nx.karate_club_graph()
G4 = add_labels(G4)
freqs = np.zeros((len(G4), len(G4)))
freqs.shape

for _ in range(10):
    GG = copy.deepcopy(G4)
    G4_lps = get_lpc_async(GG, colors_map, logging=False, printing=False)
    labels_dict = {n:G4_lps.nodes[n]["label"] for n in G4_lps.nodes}
    nodes_list = list(G4_lps.nodes())
    for i in nodes_list:
         for j in nodes_list:
            if labels_dict[i]==labels_dict[j]:
                freqs[i, j] += 1 
                
G4_freqs = nx.Graph()
G4_freqs.add_nodes_from(G4)
nodes_list = list(G4_freqs.nodes())

for i in nodes_list:
    for j in nodes_list:
        if freqs[i, j] >= 8:
            if i != j:
                G4_freqs.add_edge(i, j)
                
# –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", nx.number_connected_components(G4_freqs))
nx.draw(G4_freqs, pos, with_labels=True)

for i, group in enumerate(nx.connected_components(G4_freqs)):  
    for node in group:
        G4.nodes[node]["label"] = i
        
draw_graph(G4, colors_map)
    """
    text = """
G4 = nx.karate_club_graph()
G4 = add_labels(G4)
freqs = np.zeros((len(G4), len(G4)))
freqs.shape

for _ in range(10):
    GG = copy.deepcopy(G4)
    G4_lps = get_lpc_async(GG, colors_map, logging=False, printing=False)
    labels_dict = {n:G4_lps.nodes[n]["label"] for n in G4_lps.nodes}
    nodes_list = list(G4_lps.nodes())
    for i in nodes_list:
         for j in nodes_list:
            if labels_dict[i]==labels_dict[j]:
                freqs[i, j] += 1 
                
G4_freqs = nx.Graph()
G4_freqs.add_nodes_from(G4)
nodes_list = list(G4_freqs.nodes())

for i in nodes_list:
    for j in nodes_list:
        if freqs[i, j] >= 8:
            if i != j:
                G4_freqs.add_edge(i, j)
                
# –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–Ω–æ—Å—Ç–∏
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", nx.number_connected_components(G4_freqs))
nx.draw(G4_freqs, pos, with_labels=True)

for i, group in enumerate(nx.connected_components(G4_freqs)):  
    for node in group:
        G4.nodes[node]["label"] = i
        
draw_graph(G4, colors_map)
    """
    pc.copy(text)
    
    
def six_lpa_5():
    """
5. –û—Ñ–æ—Ä–º–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
–ê–ª–≥–æ—Ä–∏—Ç–º	–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤	–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å	–ü–æ–∫—Ä—ã—Ç–∏–µ	–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA				
–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π LPA				
–î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ pandas. –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –º–µ—Ç—Ä–∏–∫ –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

G5 = nx.karate_club_graph()

data = []
graph_list = [G2_lpc, G3_lpc, G4]

for i, graph in enumerate(graph_list):
    labels_dict = {n:graph.nodes[n]["label"] for n in graph.nodes}
    
    communities = defaultdict(list)
    for key, value in labels_dict.items():
        communities[value].append(key)
    communities_list = list(communities.values())
                            
    densities = []
    for comm in communities_list:
        if len(comm) > 1:
            subg = nx.subgraph(graph, comm)
            dens = nx.density(subg)
            densities.append(dens)
    avg_density = np.array(densities).mean()
    
    modularity = nx.community.modularity(graph, communities=communities_list)
    coverage, performance = nx.community.partition_quality(graph, partition=communities_list)
    
    data.append({
        "–ê–ª–≥–æ—Ä–∏—Ç–º": str(i),
        "–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤": avg_density,
        "–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å": modularity,
        "–ü–æ–∫—Ä—ã—Ç–∏–µ": coverage,
        "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å": performance
    })
    
table = pd.DataFrame(data)
table["–ê–ª–≥–æ—Ä–∏—Ç–º"] = ["–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA", "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA", "–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π LPA"]
table
    """
    text = """
G5 = nx.karate_club_graph()

data = []
graph_list = [G2_lpc, G3_lpc, G4]

for i, graph in enumerate(graph_list):
    labels_dict = {n:graph.nodes[n]["label"] for n in graph.nodes}
    
    communities = defaultdict(list)
    for key, value in labels_dict.items():
        communities[value].append(key)
    communities_list = list(communities.values())
                            
    densities = []
    for comm in communities_list:
        if len(comm) > 1:
            subg = nx.subgraph(graph, comm)
            dens = nx.density(subg)
            densities.append(dens)
    avg_density = np.array(densities).mean()
    
    modularity = nx.community.modularity(graph, communities=communities_list)
    coverage, performance = nx.community.partition_quality(graph, partition=communities_list)
    
    data.append({
        "–ê–ª–≥–æ—Ä–∏—Ç–º": str(i),
        "–°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤": avg_density,
        "–ú–æ–¥—É–ª—è—Ä–Ω–æ—Å—Ç—å": modularity,
        "–ü–æ–∫—Ä—ã—Ç–∏–µ": coverage,
        "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å": performance
    })
    
table = pd.DataFrame(data)
table["–ê–ª–≥–æ—Ä–∏—Ç–º"] = ["–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA", "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π LPA", "–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π LPA"]
table
    """
    pc.copy(text)
    
    
def seven_rand_walk_1():
    """
1\. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ `A` —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∞. –ü–æ–ª—É—á–∏—Ç–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ `P` –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–∞–≤–∏–ª—É:

$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$

–ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è (1) –∏ (2).

$0 \le p_{ij} \le 1$ (1)

$\sum_j p_{ij}=1$    (2)

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π —Å–º–µ–∂–Ω–æ—Å—Ç–∏.

G = nx.karate_club_graph()
A = nx.adjacency_matrix(G).toarray()

degrees = np.sum(A, axis=1)
D = np.diag(degrees)

P = np.linalg.inv(D) @ A
P[(~((P >= 0) & (P <= 1)))]
P.sum(axis=1)
    """
    text = """
G = nx.karate_club_graph()
A = nx.adjacency_matrix(G).toarray()

degrees = np.sum(A, axis=1)
D = np.diag(degrees)

P = np.linalg.inv(D) @ A
P[(~((P >= 0) & (P <= 1)))]
P.sum(axis=1)
    """
    pc.copy(text)
    
    
def seven_rand_walk_2():
    """
2\. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T$. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É

$\mathbf{p}^{t+1}=(\mathbf{P}^{\top})\mathbf{p}^t$ 

–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $

–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.

p = np.zeros(P.shape[0])
p[-1] = 1
p = p.T

eps = 0.01

p_t = p
iters = 0
while True:
    iters += 1
    p_t_1 = (P.T) @ p_t
    norm = np.linalg.norm(p_t_1 - p_t)
    print(iters, norm)
    if norm < eps:
        break
    p_t = p_t_1
    """
    text = """
p = np.zeros(P.shape[0])
p[-1] = 1
p = p.T

eps = 0.01

p_t = p
iters = 0
while True:
    iters += 1
    p_t_1 = (P.T) @ p_t
    norm = np.linalg.norm(p_t_1 - p_t)
    print(iters, norm)
    if norm < eps:
        break
    p_t = p_t_1
    """
    pc.copy(text)
    
    
def seven_rand_walk_3():
    """
3\. –ù–∞–π–¥–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é $(\mathbf{P}^{\top})^\infty$ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ —Å—Ç–µ–ø–µ–Ω—å.

–î–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–µ–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ç.–µ. $||(\mathbf{P}^{\top})^{\infty}  -(\mathbf{P}^{\top})(\mathbf{P}^{\top})^{\infty}|| <= \epsilon$

C–æ–∑–¥–∞–π—Ç–µ –≤–µ–∫—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è $\mathbf{p}^0 = [0, ..., 1]^T $. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ $\mathbf{p}^\infty$, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ–π $(\mathbf{P}^{\top})^\infty$. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

–ò—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é `np.allclose`, –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤–µ–∫—Ç–æ—Ä—ã —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏, —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ —Ç—ã—Å—è—á–Ω—ã—Ö).

P_st = np.linalg.matrix_power(P.T, 10**10)
np.linalg.norm(P_st - P.T @ P_st) <= eps

p = np.zeros(P.shape[0])
p[-1] = 1
p = p.T
p

p_st_1 = P_st[:, 0]
p_st_1

p_st_2 = P_st @ p
p_st_2

np.allclose(p_st_1, p_st_2, 0.001)
    """
    text = """
P_st = np.linalg.matrix_power(P.T, 10**10)
np.linalg.norm(P_st - P.T @ P_st) <= eps

p = np.zeros(P.shape[0])
p[-1] = 1
p = p.T
p

p_st_1 = P_st[:, 0]
p_st_1

p_st_2 = P_st @ p
p_st_2

np.allclose(p_st_1, p_st_2, 0.001)
    """
    pc.copy(text)
    

def seven_rand_walk_4():
    """
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –≤ —Å–µ—Ç–∏. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ—Ç–º–∞—Å—à–∞–±–∏—Ä–æ–≤–∞–≤ —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ —Å–µ—Ç–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏:

—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å—Ç–µ–ø–µ–Ω–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å—Ç–≤—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ PageRank.
–ù–∞ –∫–∞–∂–¥–æ–º —Ä–∏—Å—É–Ω–∫–µ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —É–∑–ª–æ–≤ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –º–µ—Ä–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

G = nx.karate_club_graph()
pos = nx.spring_layout(G)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å—Ç–µ–ø–µ–Ω–∏;
centr_deg = nx.degree_centrality(G)
node_size = [2000 * v for k,v in centr_deg.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å—Ç–≤—É;
centr_betw = nx.betweenness_centrality(G)
node_size = [2000 * v for k,v in centr_betw.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏;
centr_cl = nx.closeness_centrality(G)
node_size = [2000 * v for k,v in centr_cl.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É;
centr_ei = nx.eigenvector_centrality(G)
node_size = [2000 * v for k,v in centr_ei.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ PageRank
centr_page = nx.pagerank(G)
node_size = [3000 * v for k,v in centr_page.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)
    """
    text = """
G = nx.karate_club_graph()
pos = nx.spring_layout(G)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å—Ç–µ–ø–µ–Ω–∏;
centr_deg = nx.degree_centrality(G)
node_size = [2000 * v for k,v in centr_deg.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –ø–æ—Å—Ä–µ–¥–Ω–∏—á–µ—Å—Ç–≤—É;
centr_betw = nx.betweenness_centrality(G)
node_size = [2000 * v for k,v in centr_betw.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏;
centr_cl = nx.closeness_centrality(G)
node_size = [2000 * v for k,v in centr_cl.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É;
centr_ei = nx.eigenvector_centrality(G)
node_size = [2000 * v for k,v in centr_ei.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)

# —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ PageRank
centr_page = nx.pagerank(G)
node_size = [3000 * v for k,v in centr_page.items()]
nx.draw(G, pos=pos, with_labels=True, node_size=node_size)
    """
    pc.copy(text)
    
    
def seven_rand_walk_5():
    """
5\. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º PageRank —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∑–∞—Ç—É—Ö–∞–Ω–∏—è $\alpha=0.9$.

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ-–∫–ª—É–±–∞ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ $\mathbf{P}$.

$$\mathbf{P}=\mathbf{D}^{-1}\mathbf{A}$$

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –º–∞—Ç—Ä–∏—Ü—É $\mathbf{P}$:

$$\mathbf{P}' = \alpha \mathbf{P} + (1-\alpha)\frac{1}{n}\mathbf{E}$$
$$\mathbf{M}=(\mathbf{P}')^{\top}$$

–≥–¥–µ $\mathbf{E}$ - –º–∞—Ç—Ä–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–∞ `NxN`, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ –µ–¥–∏–Ω–∏—Ü.

–ü–æ–ª—É—á–∏—Ç–µ –≤–µ–∫—Ç–æ—Ä $\mathbf{p}^\infty = \mathbf{pr}^{iter}$, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É

$$\mathbf{p}^{t+1}=\mathbf{M}\mathbf{p}^t$$

–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ $||\mathbf{p}^{t+1} - \mathbf{p}^{t}|| < \epsilon $

–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.
–í—ã–∑–æ–≤–∏—Ç–µ `nx.pagerank` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –¥–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç.

G = nx.karate_club_graph()

D = nx.DiGraph()
pos = nx.spring_layout(D)

for u, v in G.edges():
    D.add_edge(u, v)
    D.add_edge(v, u)
    
nx.draw(D, with_labels=True)

A = nx.adjacency_matrix(D).toarray()
degrees = list(A.sum(axis=1))
Diag = np.diag(degrees)

P = np.linalg.inv(Diag) @ A

alpha = 0.9
n = len(degrees)
E = np.ones((n,n))
P_ = P * alpha + (1 - alpha) * (1 / n) * E
M = P_.T

eps = 1e-10

p = np.zeros(M.shape[0])
p[-1] = 1
p = p.T

p_old = M @ p
iters = 0
while True:
    iters+=1
    p_new = M @ p_old
    norm = np.linalg.norm(p_new - p_old, 1)
    print(iters, norm)
    if norm <= eps:
        break
    p_old = p_new
    
p_new

p_page = list(nx.pagerank(D, alpha=0.9, tol=eps).values())
p_page

np.allclose(p_new, p_page, eps)
    """
    text = """
G = nx.karate_club_graph()

D = nx.DiGraph()
pos = nx.spring_layout(D)

for u, v in G.edges():
    D.add_edge(u, v)
    D.add_edge(v, u)
    
nx.draw(D, with_labels=True)

A = nx.adjacency_matrix(D).toarray()
degrees = list(A.sum(axis=1))
Diag = np.diag(degrees)

P = np.linalg.inv(Diag) @ A

alpha = 0.9
n = len(degrees)
E = np.ones((n,n))
P_ = P * alpha + (1 - alpha) * (1 / n) * E
M = P_.T

eps = 1e-10

p = np.zeros(M.shape[0])
p[-1] = 1
p = p.T

p_old = M @ p
iters = 0
while True:
    iters+=1
    p_new = M @ p_old
    norm = np.linalg.norm(p_new - p_old, 1)
    print(iters, norm)
    if norm <= eps:
        break
    p_old = p_new
    
p_new

p_page = list(nx.pagerank(D, alpha=0.9, tol=eps).values())
p_page

np.allclose(p_new, p_page, eps)
    """
    pc.copy(text)

    
def seven_rand_walk_6():
    """
6\. –í—ã—á–∏—Å–ª–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã PageRank –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–¥–∞—á–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$ $\mathbf{pr}^{eig}$, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É —á–∏—Å–ª—É 1.

–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ $\mathbf{pr}^{eig}$ –∏ $\mathbf{pr}^{iter}$ –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è —Å.–≤. –º–∞—Ç—Ä–∏—Ü—ã $\mathbf{M}$.

eigenvalues, eigenvectors = np.linalg.eig(M)
idx = np.argmax(np.real(eigenvalues))
pr_eig = np.real(eigenvectors[:, idx])
# pr_eig = pr_eig / pr_eig.sum()

np.real(eigenvalues[idx])

diff_p_eig = np.linalg.norm(M @ pr_eig - pr_eig)
diff_p_eig

np.allclose(M.dot(pr_eig), pr_eig, atol=1e-6)

diff_p_iter = np.linalg.norm(M @ p_new - p_new)
diff_p_iter

np.allclose(M.dot(p_new), p_new, atol=1e-6)
    """
    text = """
eigenvalues, eigenvectors = np.linalg.eig(M)
idx = np.argmax(np.real(eigenvalues))
pr_eig = np.real(eigenvectors[:, idx])
# pr_eig = pr_eig / pr_eig.sum()

np.real(eigenvalues[idx])

diff_p_eig = np.linalg.norm(M @ pr_eig - pr_eig)
diff_p_eig

np.allclose(M.dot(pr_eig), pr_eig, atol=1e-6)

diff_p_iter = np.linalg.norm(M @ p_new - p_new)
diff_p_iter

np.allclose(M.dot(p_new), p_new, atol=1e-6)
    """
    pc.copy(text)
    

def eight_rwlpa_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Karate Club. –ü–æ–ª—É—á–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ club, —Ö—Ä–∞–Ω—è—â–µ–≥–æ—Å—è –Ω–∞ —É–∑–ª–∞—Ö. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Mr. Hi –∏ 4 —É–∑–ª–∞, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª—É–±—É Officer. –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–ª—ã –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏ 0, 1, ... 7 –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª–∏ —É–∑–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ.

G = nx.karate_club_graph()
pos = nx.spring_layout(G)
mrhi = [node for node, attr in G.nodes(data=True) if attr["club"]=="Mr. Hi"]
officer = [node for node, attr in G.nodes(data=True) if attr["club"]=="Officer"]

random.seed(2797)
mrhi_4 = random.sample(mrhi, 4)
officer_4 = random.sample(officer, 4)

choosed_nodes = mrhi_4 + officer_4
choosed_nodes

nodes = list(G.nodes())

for node in choosed_nodes:
    if node in nodes:
        nodes.remove(node)

nodes_list = choosed_nodes + nodes
print(nodes_list)

A = nx.adjacency_matrix(G, nodes_list, weight=0)
A.toarray()

nx.draw(nx.subgraph(G, choosed_nodes), with_labels=True)
    """
    text = """
G = nx.karate_club_graph()
pos = nx.spring_layout(G)
mrhi = [node for node, attr in G.nodes(data=True) if attr["club"]=="Mr. Hi"]
officer = [node for node, attr in G.nodes(data=True) if attr["club"]=="Officer"]

random.seed(2797)
mrhi_4 = random.sample(mrhi, 4)
officer_4 = random.sample(officer, 4)

choosed_nodes = mrhi_4 + officer_4
choosed_nodes

nodes = list(G.nodes())

for node in choosed_nodes:
    if node in nodes:
        nodes.remove(node)

nodes_list = choosed_nodes + nodes
print(nodes_list)

A = nx.adjacency_matrix(G, nodes_list, weight=0)
A.toarray()

nx.draw(nx.subgraph(G, choosed_nodes), with_labels=True)
    """
    pc.copy(text)
    
    
def eight_rwlpa_2():
    """
2. –ü–æ–ª—É—á–∏—Ç–µ –±–ª–æ—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêè
  –∏ –º–∞—Ç—Ä–∏—Ü—É –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ—Ç–æ–∫  ùêò0‚àà{0,1}ùëÅ√ó2
ùêè=(ùêèùëôùëôùêèùë¢ùëôùêèùëôùë¢ùêèùë¢ùë¢)=(ùêàùêèùë¢ùëô0ùêèùë¢ùë¢)
ùêò0=(ùêòùê•ùêòùêÆ)=(ùêòùê•0)
–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Å–ª–µ–¥ –º–∞—Ç—Ä–∏—Ü—ã  ùêè
 . –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–Ω—É–ª–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã  ùêò0
# –ü—Ä–æ—Ü–µ—Å—Å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±–ª—É–∂–¥–∞–Ω–∏—è —Å –ª–æ–≤—É—à–∫–∞–º–∏, –ø–æ–ø–∞–≤ –≤ –Ω–∏—Ö –ø—Ä–∏ –±–ª—É–∂–¥–∞–Ω–∏–∏ –º—ã –æ—Å—Ç–∞–µ–º—Å—è –≤ –Ω–∏—Ö –≤–æ –≤—Ä–µ–º—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π
# —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–æ–≤-–ª–æ–≤—É—à–µ–∫ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º
# —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–ª–∞–∂–¥–∞–Ω–∏–π –∏–∑ —É–∑–ª–æ–≤, –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ u, –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–∞—Ç—å—Å—è –Ω–∞
# –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö

l = 8

# –∏–∑ –ª–æ–≤—É—à–µ–∫ –±–æ–ª—å—à–µ –Ω–∏–∫—É–¥–∞ –Ω–µ–ª—å–∑—è –ø–æ–ø–∞—Å—Ç—å, –∫—Ä–æ–º–µ —Å–∞–º–∏—Ö –ª–æ–≤—É—à–µ–∫
A[:l] = 0
A[:l, :l] = np.eye(l)

A.toarray()

—Ü–µ–ª–∏–∫–æ–º
degrees = np.sum(A, axis=1)
D = np.diag(degrees)
P = np.linalg.inv(D) @ A
P

# —Å–ª–µ–¥ P
np.trace(P)

types_of_labels = list(set([attr["club"] for node, attr in G.nodes(data=True)]))
types_of_labels

Y_0 = np.zeros((A.shape[0], len(types_of_labels)))
Y_l = [[1,0] if G.nodes()[node]["club"] == "Mr. Hi" else [0, 1] for i, node in enumerate(choosed_nodes)]
Y_0[:l] = Y_l
Y_0
    """
    text = """
l = 8

# –∏–∑ –ª–æ–≤—É—à–µ–∫ –±–æ–ª—å—à–µ –Ω–∏–∫—É–¥–∞ –Ω–µ–ª—å–∑—è –ø–æ–ø–∞—Å—Ç—å, –∫—Ä–æ–º–µ —Å–∞–º–∏—Ö –ª–æ–≤—É—à–µ–∫
A[:l] = 0
A[:l, :l] = np.eye(l)

A.toarray()

—Ü–µ–ª–∏–∫–æ–º
degrees = np.sum(A, axis=1)
D = np.diag(degrees)
P = np.linalg.inv(D) @ A
P

# —Å–ª–µ–¥ P
np.trace(P)

types_of_labels = list(set([attr["club"] for node, attr in G.nodes(data=True)]))
types_of_labels

Y_0 = np.zeros((A.shape[0], len(types_of_labels)))
Y_l = [[1,0] if G.nodes()[node]["club"] == "Mr. Hi" else [0, 1] for i, node in enumerate(choosed_nodes)]
Y_0[:l] = Y_l
Y_0
    """
    pc.copy(text)
    
    
def eight_rwlpa_3():
    """
3. –ò–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –¥–ª—è –±–ª–æ—á–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ:
ùêè‚àû=(ùêà(ùêà‚àíùêèùë¢ùë¢)‚àí1ùêèùë¢ùëô00)
–ü–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É  ùêè‚àû
  –ø—É—Ç–µ–º –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à—É—é —Å—Ç–µ–ø–µ–Ω—å. –°–≤—è–∂–∏—Ç–µ –±–ª–æ–∫–∏ –º–∞—Ç—Ä–∏—Ü—ã —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ P_ll, P_lu, P_ul, P_uu –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É–ª–µ –≤—ã—à–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ np.allclose.
  
P_inf = np.linalg.matrix_power(P, 10**16)

P_ll = P[:l, :l]
P_ul = P[l:, :l]
P_lu = P[:l, l:]
P_uu = P[l:, l:]

P_inf_ll = P_inf[:l, :l]
P_inf_ul = P_inf[l:, :l]
P_inf_lu = P_inf[:l, l:]
P_inf_uu = P_inf[l:, l:]

# P_ll
np.allclose(np.eye(P_inf_ll.shape[0]), P_inf_ll)

# P_lu
np.allclose(np.zeros(P_inf_lu.shape), P_inf_lu)

# P_ul
np.allclose(np.linalg.inv(np.eye(P_uu.shape[0]) - P_uu) @ P_ul, P_inf_ul)

# P_uu
np.allclose(np.zeros(P_inf_uu.shape), P_inf_uu)
    """
    text = """
P_inf = np.linalg.matrix_power(P, 10**16)

P_ll = P[:l, :l]
P_ul = P[l:, :l]
P_lu = P[:l, l:]
P_uu = P[l:, l:]

P_inf_ll = P_inf[:l, :l]
P_inf_ul = P_inf[l:, :l]
P_inf_lu = P_inf[:l, l:]
P_inf_uu = P_inf[l:, l:]

# P_ll
np.allclose(np.eye(P_inf_ll.shape[0]), P_inf_ll)

# P_lu
np.allclose(np.zeros(P_inf_lu.shape), P_inf_lu)

# P_ul
np.allclose(np.linalg.inv(np.eye(P_uu.shape[0]) - P_uu) @ P_ul, P_inf_ul)

# P_uu
np.allclose(np.zeros(P_inf_uu.shape), P_inf_uu)
    """
    pc.copy(text)
    
    
def eight_rwlpa_4():
    """
4. –ò—Å–ø–æ–ª—å–∑—É—è –ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç RW-LPA , —Ä–∞—Å—Å—Ç–∞–≤—å—Ç–µ –º–µ—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–µ—Ç—å, –ø–æ–∫–∞–∑–∞–≤ —Ü–≤–µ—Ç–æ–º –∫–æ–Ω—Ç—É—Ä–∞ –≤–æ–∫—Ä—É–≥ —É–∑–ª–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —É–∑–ª–∞ –∫ –æ–¥–Ω–æ–º—É –∏–∑ —Å–æ–æ–±—â–µ—Å—Ç–≤, –∞ —Ü–≤–µ—Ç–æ–º —Ü–≤–µ—Ç–æ–º –∑–∞–ª–∏–≤–∫–∏ —É–∑–ª–∞ - —Å–æ–æ–±—â–µ—Å—Ç–≤–æ, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —É–∑–µ–ª –±—ã–ª –æ—Ç–Ω–µ—Å–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º.

Y = copy.deepcopy(Y_0)
eps = 1e-16
iters = 0

while True:
    iters += 1
    Y_new = P @ Y
    Y_new[:l] = Y[:l]
    if abs(Y - Y_new).max() < eps:
        Y_ = Y_new
        break
    Y = Y_new
print(iters)

Y_

colors_contour = ["red" if attr["club"] == 'Mr. Hi' else "green" for node, attr in G.nodes(data=True)]

for i, node in enumerate(nodes_list):
    if Y_[i][0] > Y_[i][1]:
        G.nodes[node]["pred_club"] = 'Mr. Hi'
    else:
        G.nodes[node]["pred_club"] = 'Officer'
        
colors_nodes = ["red" if attr["pred_club"] == 'Mr. Hi' else "green" for node, attr in G.nodes(data=True)]

nx.draw(G, with_labels=True, edgecolors=colors_contour, node_color=colors_nodes, pos=pos, linewidths=2)
    """
    text = """
Y = copy.deepcopy(Y_0)
eps = 1e-16
iters = 0

while True:
    iters += 1
    Y_new = P @ Y
    Y_new[:l] = Y[:l]
    if abs(Y - Y_new).max() < eps:
        Y_ = Y_new
        break
    Y = Y_new
print(iters)

Y_

colors_contour = ["red" if attr["club"] == 'Mr. Hi' else "green" for node, attr in G.nodes(data=True)]

for i, node in enumerate(nodes_list):
    if Y_[i][0] > Y_[i][1]:
        G.nodes[node]["pred_club"] = 'Mr. Hi'
    else:
        G.nodes[node]["pred_club"] = 'Officer'
        
colors_nodes = ["red" if attr["pred_club"] == 'Mr. Hi' else "green" for node, attr in G.nodes(data=True)]

nx.draw(G, with_labels=True, edgecolors=colors_contour, node_color=colors_nodes, pos=pos, linewidths=2)
    """
    pc.copy(text)
    
    
def nine_cuts_1():
    """
1. –ó–∞–¥–∞–Ω –≥—Ä–∞—Ñ G. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –¥–≤–∞ —Ä–∞–∑—Ä–µ–∑–∞:

ùê∂(1)=(ùëÅ(1)1,ùëÅ(1)2)
 ,  ùëÅ(1)1={0,1,2,3,4}
 ,  ùëÅ(1)2={5,6,7,8,9}
 
ùê∂(2)=(ùëÅ(2)1,ùëÅ(2)2)
 ,  ùëÅ(2)1={0,1,2,3,4,5,6,7,8}
 ,  ùëÅ(2)2={9}
 
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—É  ùëÑ(ùëò)
  –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –≤—Å–µ —Ä–µ–±—Ä–∞ –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø–∞–∫–µ—Ç–∞ networkx. –í—ã–≤–µ–¥–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã —Ä–∞–∑—Ä–µ–∑–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω.

ùëÑ(ùëò)=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)=‚àëùëñ‚ààùëÅ(ùëò)1,ùëó‚ààùëÅ(ùëò)2ùëôùëñùëó

G = nx.Graph()
G.add_edges_from(combinations(range(5), 2))
G.add_edges_from(combinations(range(5, 9), 2))
G.add_edges_from([(8, 3), (6, 1), (7, 9)])
pos = nx.spring_layout(G, seed=30)
nx.draw(G, pos=pos, with_labels=True)

C1 = G.copy()
edges_for_remove_1 = [(3,8), (6,1)]
C1.remove_edges_from(edges_for_remove_1)
nx.draw(C1, pos=pos, with_labels=True)

C2 = G.copy()
edges_for_remove_2 = [(7,9)]
C2.remove_edges_from(edges_for_remove_2)
nx.draw(C2, pos=pos, with_labels=True)

# –ø–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–±
Q1_1 = len(edges_for_remove_1)
Q2_1 = len(edges_for_remove_2)
print(Q1_1, Q2_1)

# –≤—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±
S1 = {0,1,2,3,4}
T1 = {5,6,7,8,9}
Q1_2 = nx.cut_size(G, S1, T1)

S2 = {0,1,2,3,4,5,6,7,8}
T2 = {9}
Q2_2 = nx.cut_size(G, S2, T2)

print(Q1_2, Q2_2)
    """
    text = """
G = nx.Graph()
G.add_edges_from(combinations(range(5), 2))
G.add_edges_from(combinations(range(5, 9), 2))
G.add_edges_from([(8, 3), (6, 1), (7, 9)])
pos = nx.spring_layout(G, seed=30)
nx.draw(G, pos=pos, with_labels=True)

C1 = G.copy()
edges_for_remove_1 = [(3,8), (6,1)]
C1.remove_edges_from(edges_for_remove_1)
nx.draw(C1, pos=pos, with_labels=True)

C2 = G.copy()
edges_for_remove_2 = [(7,9)]
C2.remove_edges_from(edges_for_remove_2)
nx.draw(C2, pos=pos, with_labels=True)

# –ø–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–±
Q1_1 = len(edges_for_remove_1)
Q2_1 = len(edges_for_remove_2)
print(Q1_1, Q2_1)

# –≤—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±
S1 = {0,1,2,3,4}
T1 = {5,6,7,8,9}
Q1_2 = nx.cut_size(G, S1, T1)

S2 = {0,1,2,3,4,5,6,7,8}
T2 = {9}
Q2_2 = nx.cut_size(G, S2, T2)

print(Q1_2, Q2_2)
    """
    pc.copy(text)
    
    
def nine_cuts_2():
    """
2. –î–ª—è —Ä–∞–∑—Ä–µ–∑–æ–≤ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ

ùëâùëúùëô(ùëÅ(ùëò)ùë°)=‚àëùëñ‚ààùëÅ(ùëò)ùë°,ùëó‚ààùëÅùëôùëñùëó=‚àëùëñ‚ààùëÅ(ùëò)ùë°ùëòùëñ,ùë°=1,2
 

ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)1)+ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)ùëâùëúùëô(ùëÅ(ùëò)2)
 
–∏
ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°=ùëêùë¢ùë°(ùëÅ(ùëò)1,ùëÅ(ùëò)2)min(ùëâùëúùëô(ùëÅ(ùëò)1),ùëâùëúùëô(ùëÅ(ùëò)2))
 

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑—Ä–µ–∑–∞ –≤—ã–≤–µ–¥–∏—Ç–µ —á–µ—Ç—ã—Ä–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëâùëúùëô(ùëÅ(ùëò)1)
 ,  ùëâùëúùëô(ùëÅ(ùëò)2)
 ,  ùëÑ(ùëò)ùëõùëúùëüùëöùëéùëôùëñùëßùëíùëë
  –∏  ùëÑ(ùëò)ùëûùë¢ùëúùë°ùëñùëíùëõùë°
  –Ω–∞ —ç–∫—Ä–∞–Ω.

# –ø–µ—Ä–≤—ã–π —Ä–∞–∑—Ä–µ–∑
vol_1_1 = nx.volume(G, S1)
vol_2_1 = nx.volume(G, T1)
Q_norm_1 = nx.normalized_cut_size(G, S1, T1)
Q_quot_1 = Q1_1 / (min(vol_1_1, vol_2_1))

vol_1_1, vol_2_1, Q_norm_1, Q_quot_1

# –≤—Ç–æ—Ä–æ–π —Ä–∞–∑—Ä–µ–∑
vol_1_2 = nx.volume(G, S2)
vol_2_2 = nx.volume(G, T2)
Q_norm_2 = nx.normalized_cut_size(G, S2, T2)
Q_quot_2 = Q2_1 / (min(vol_1_2, vol_2_2))

vol_1_2, vol_2_2, Q_norm_2, Q_quot_2
    """
    text = """
# –ø–µ—Ä–≤—ã–π —Ä–∞–∑—Ä–µ–∑
vol_1_1 = nx.volume(G, S1)
vol_2_1 = nx.volume(G, T1)
Q_norm_1 = nx.normalized_cut_size(G, S1, T1)
Q_quot_1 = Q1_1 / (min(vol_1_1, vol_2_1))

vol_1_1, vol_2_1, Q_norm_1, Q_quot_1

# –≤—Ç–æ—Ä–æ–π —Ä–∞–∑—Ä–µ–∑
vol_1_2 = nx.volume(G, S2)
vol_2_2 = nx.volume(G, T2)
Q_norm_2 = nx.normalized_cut_size(G, S2, T2)
Q_quot_2 = Q2_1 / (min(vol_1_2, vol_2_2))

vol_1_2, vol_2_2, Q_norm_2, Q_quot_2
    """
    pc.copy(text)
    
    
def nine_cuts_3():
    """
3. –î–ª—è –≥—Ä–∞—Ñ–∞ G –∏–∑ –∑–∞–¥–∞–Ω–∏—è 1 –≤—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

–ø–æ —Ñ–æ—Ä–º—É–ª–µ  ùêã=ùêÉ‚àíùêÄ
 ;
–∏—Å–ø–æ–ª—å–∑—É—è –≥–æ—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ networkx.
–í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã –Ω–∞ —ç–∫—Ä–∞–Ω –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

A = nx.adjacency_matrix(G)
D = np.diag(A.sum(axis=1))
L = D - A
L

L_nx = nx.laplacian_matrix(G).toarray()
L_nx

np.array_equal(L, L_nx)
    """
    text = """
A = nx.adjacency_matrix(G)
D = np.diag(A.sum(axis=1))
L = D - A
L

L_nx = nx.laplacian_matrix(G).toarray()
L_nx

np.array_equal(L, L_nx)
    """
    pc.copy(text)
    

def nine_cuts_4():
    """
4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ –≤–µ–ª–∏—á–∏–Ω—ã  ùëÑ(ùëò)
 , –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–∞—Ç—Ä–∏—Ü–µ–π –õ–∞–ø–ª–∞—Å–∞.
 
s1 = np.array([1 if node in S1 else -1 for node in G.nodes()])
Q1_L = int((s1.T @ L @ s1) / 4)
Q1_L

s2 = np.array([1 if node in S2 else -1 for node in G.nodes()])
Q2_L = int((s2.T @ L @ s2) / 4)
Q2_L

    """
    text = """
s1 = np.array([1 if node in S1 else -1 for node in G.nodes()])
Q1_L = int((s1.T @ L @ s1) / 4)
Q1_L

s2 = np.array([1 if node in S2 else -1 for node in G.nodes()])
Q2_L = int((s2.T @ L @ s2) / 4)
Q2_L
    """
    pc.copy(text)
    
    
def nine_cuts_5():
    """
5. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ G.

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é –≥—Ä–∞—Ñ–∞ G —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–∑—Ä–µ–∑–æ–º ùê∂(1)
. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è –Ω–µ—Å–≤—è–∑–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞.

 –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–µ–º–∏–Ω–∞—Ä–µ
–õ–µ–º–º–∞: –¥–ª—è –Ω–µ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ —Å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏ –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç—Ä–∏—Ü—ã –ª–∞–ø–ª–∞—Å–∞ —Ä–∞–≤–Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–≤—è–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∏ , ‚Ä¶ , . –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å.–∑. 0, –Ω–∞–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–º–∏–º —Å.–∑. 0 —è–≤–ª—è–µ—Ç—Å—è –æ–±–æ–ª–æ—á–∫–æ–π –Ω–∞–¥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ —ç—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

eigenvalues, eigenvectors = np.linalg.eig(L)
len_con_comp = len([comp for comp in nx.connected_components(G)])
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", len_con_comp)

eigenvalues_rounded = np.round(eigenvalues, 6)
eigenvalues_rounded

k_0 = Counter(eigenvalues_rounded)[0]
print("–ö—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:", k_0)

A_C1 = nx.adjacency_matrix(C1)
D_C1 = np.diag(A_C1.sum(axis=1))
L_C1 = D_C1 - A_C1

eigenvalues_C1, eigenvectors_C1 = np.linalg.eig(L_C1)
len_con_comp_C1 = len([comp for comp in nx.connected_components(C1)])
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", len_con_comp_C1)

eigenvalues_rounded_C1 = np.round(eigenvalues_C1, 6)
eigenvalues_rounded_C1

k_0 = Counter(eigenvalues_rounded_C1)[0]
print("–ö—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:", k_0)
    """
    text = """
eigenvalues, eigenvectors = np.linalg.eig(L)
len_con_comp = len([comp for comp in nx.connected_components(G)])
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", len_con_comp)

eigenvalues_rounded = np.round(eigenvalues, 6)
eigenvalues_rounded

k_0 = Counter(eigenvalues_rounded)[0]
print("–ö—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:", k_0)

A_C1 = nx.adjacency_matrix(C1)
D_C1 = np.diag(A_C1.sum(axis=1))
L_C1 = D_C1 - A_C1

eigenvalues_C1, eigenvectors_C1 = np.linalg.eig(L_C1)
len_con_comp_C1 = len([comp for comp in nx.connected_components(C1)])
print("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤—è–∑–Ω–æ—Å—Ç–∏:", len_con_comp_C1)

eigenvalues_rounded_C1 = np.round(eigenvalues_C1, 6)
eigenvalues_rounded_C1

k_0 = Counter(eigenvalues_rounded_C1)[0]
print("–ö—Ä–∞—Ç–Ω–æ—Å—Ç—å –Ω—É–ª–µ–≤–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:", k_0)
    """
    pc.copy(text)
    
    
def ten_cluster_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∫–∞—Ä–∞—Ç–µ –∫–ª—É–±–∞. –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêã=ùêÉ‚àíùêÄ
  –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏.

–í—ã–¥–µ–ª–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêÆ
 , –æ—Ç–≤–µ—á–∞—é—â–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –Ω–µ–Ω—É–ª–µ–≤–æ–º—É —Å.–∑.  ùúÜùëñ‚â†0
  –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ  ùêÆ
  –≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä  ùêü
  –ø–æ –ø—Ä–∞–≤–∏–ª—É  ùêüùëñ
  = sign( ùêÆùëñ)
 .

–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ  ùêÆ
 : –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä —É–∑–ª–∞, –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–µ–∫—Ç–æ—Ä–∞  ùêÆ
 

–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –æ–±–æ–∑–Ω–∞—á–∏–≤ —Ü–≤–µ—Ç–æ–º —É–∑–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ø–∞–¥–∞–µ—Ç —É–∑–µ–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–µ–∑–æ–º.

G = nx.karate_club_graph()
L = nx.laplacian_matrix(G, weight=0).toarray()
L

eigenvalues, eigenvectors = np.linalg.eig(L)
eigenvalues, eigenvectors

nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
min_eig_val = list(eigenvalues).index([sorted(nonzero_eigenvalues)[0]])
u = eigenvectors[:, min_eig_val]
u, min_eig_val

f = np.sign(u)
f

plt.scatter(range(len(u)), u);
colors = ["blue" if f_i > 0 else "red" for f_i in f]
nx.draw(G, with_labels=True, node_color=colors)
    """
    text = """
G = nx.karate_club_graph()
L = nx.laplacian_matrix(G, weight=0).toarray()
L

eigenvalues, eigenvectors = np.linalg.eig(L)
eigenvalues, eigenvectors

nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
min_eig_val = list(eigenvalues).index([sorted(nonzero_eigenvalues)[0]])
u = eigenvectors[:, min_eig_val]
u, min_eig_val

f = np.sign(u)
f

plt.scatter(range(len(u)), u);
colors = ["blue" if f_i > 0 else "red" for f_i in f]
nx.draw(G, with_labels=True, node_color=colors)
    """
    pc.copy(text)
    
    
def ten_cluster_2():
    """
2. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â—É—é –∑–∞–¥–∞—á—É, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –õ–∞–ø–ª–∞—Å–∞  ùêãùë†ùë¶ùëö=ùêÉ‚àí12ùêãùêÉ‚àí12
 . –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∑–≤–µ—à–µ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêñ
 .
L_sym = nx.normalized_laplacian_matrix(G, weight="weight").toarray()
L_sym

eigenvalues, eigenvectors = np.linalg.eig(L_sym)
nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
min_eig_val = list(eigenvalues).index([sorted(nonzero_eigenvalues)[0]])
u = eigenvectors[:, min_eig_val]
min_eig_val

f = np.sign(u)
f

plt.scatter(range(len(u)), u);

colors = ["blue" if f_i > 0 else "red" for f_i in f]
nx.draw(G, with_labels=True, node_color=colors)

    """
    text = """
L_sym = nx.normalized_laplacian_matrix(G, weight="weight").toarray()
L_sym

eigenvalues, eigenvectors = np.linalg.eig(L_sym)
nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
min_eig_val = list(eigenvalues).index([sorted(nonzero_eigenvalues)[0]])
u = eigenvectors[:, min_eig_val]
min_eig_val

f = np.sign(u)
f

plt.scatter(range(len(u)), u);

colors = ["blue" if f_i > 0 else "red" for f_i in f]
nx.draw(G, with_labels=True, node_color=colors)
    """
    pc.copy(text)
    
    
def ten_cluster_3():
    """
3. –î–∞–Ω –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (X, y). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ—Ç—Ä–∏—Å–æ–≤–∞–≤ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –∏ —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∫–∞–º –æ–±—ä–µ–∫—Ç–æ–≤ y. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

from sklearn.datasets import make_blobs
import numpy as np
import matplotlib.pyplot as plt

from sklearn.datasets import make_blobs
X, y = make_blobs(n_samples=300, random_state=170)
X = np.dot(X, [[0.6, -0.6], [-0.4, 0.8]])

plt.scatter(X[:, 0], X[:, 1], c=y);

kmeans = KMeans(n_clusters=3, random_state=1, n_init="auto").fit(X)
labels = kmeans.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    text = """
    from sklearn.datasets import make_blobs
import numpy as np
import matplotlib.pyplot as plt

from sklearn.datasets import make_blobs
X, y = make_blobs(n_samples=300, random_state=170)
X = np.dot(X, [[0.6, -0.6], [-0.4, 0.8]])

plt.scatter(X[:, 0], X[:, 1], c=y);

kmeans = KMeans(n_clusters=3, random_state=1, n_init="auto").fit(X)
labels = kmeans.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    pc.copy(text)
    
    
def ten_cluster_4():
    """
4. –ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Å–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ radius_neighbors_graph –∏–∑ sklearn (—É–∫–∞–∂–∏—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç radius=1). –ü–æ–ª—É—á–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É  ùëà‚àà‚Ñù300√ó3
 , —Å–æ—Å—Ç–æ—è—é—â—É—é –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ –º–∞—Ç—Ä–∏—Ü—ã –õ–∞–ø–ª–∞—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–º –Ω–∞–∏–º–µ–Ω—å—à–∏–º –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ KMeans –∏–∑ sklearn –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ç—Ä–∏—Ü—ã  ùëà
 . –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
 
RNG = nx.from_numpy_array(radius_neighbors_graph(X, radius=1))
L_rng = nx.laplacian_matrix(RNG).toarray()
L_rng

eigenvalues, eigenvectors = np.linalg.eig(L_rng)
nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
indexes = [list(eigenvalues).index(i) for i in sorted(nonzero_eigenvalues)[:3]]
indexes

U = eigenvectors[:, indexes].real
U.shape

kmeans = KMeans(n_clusters=3, random_state=1).fit(U)
labels = kmeans.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    text = """
RNG = nx.from_numpy_array(radius_neighbors_graph(X, radius=1))
L_rng = nx.laplacian_matrix(RNG).toarray()
L_rng

eigenvalues, eigenvectors = np.linalg.eig(L_rng)
nonzero_eigenvalues = eigenvalues[eigenvalues > 1e-8]
indexes = [list(eigenvalues).index(i) for i in sorted(nonzero_eigenvalues)[:3]]
indexes

U = eigenvectors[:, indexes].real
U.shape

kmeans = KMeans(n_clusters=3, random_state=1).fit(U)
labels = kmeans.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    pc.copy(text)
    
    
def ten_cluster_5():
    """
5. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 3 –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ SpectralClustering –∏–∑ sklearn. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∂–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ affinity='nearest_neighbors'.

clustering = SpectralClustering(n_clusters=3,
                                affinity='nearest_neighbors',
                                random_state=1).fit(X)
clustering

labels = clustering.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    text = """
clustering = SpectralClustering(n_clusters=3,
                                affinity='nearest_neighbors',
                                random_state=1).fit(X)
clustering

labels = clustering.labels_
plt.scatter(X[:, 0], X[:, 1], c=labels);
    """
    pc.copy(text)
    
    
def eleven_gcnn_mpf_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ –∏–∑ —Ñ–∞–π–ª–∞ karate.graphml. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, —Ä–∞—Å–∫—Ä–∞—Å–∏–≤ –≤ —Ü–≤–µ—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ (–∞—Ç—Ä–∏–±—É—Ç label —É —É–∑–ª–æ–≤).

–ü–æ–ª—É—á–∏—Ç–µ –Ω–µ–≤–∑–≤–µ—à–µ–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏  ùêÄ
  –≤ –≤–∏–¥–µ —Ç–µ–Ω–∑–æ—Ä–∞ torch –∏ —Ç–µ–Ω–∑–æ—Ä –º–µ—Ç–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. –í—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ç–µ–Ω–∑–æ—Ä—ã –Ω–∞ —ç–∫—Ä–∞–Ω.
  
G = nx.read_graphml("data/karate.graphml")
pos = nx.spring_layout(G)
labels = [attr["label"] for node, attr in G.nodes(data=True)]
nx.draw(G, pos=pos, with_labels=True, node_color=labels)

A = th.tensor(nx.adjacency_matrix(G, weight=0).toarray(), dtype=th.float32)
A

th.tensor([[attr["label"]] for node, attr in G.nodes(data=True)], dtype=th.float32)
    """
    text = """
G = nx.read_graphml("data/karate.graphml")
pos = nx.spring_layout(G)
labels = [attr["label"] for node, attr in G.nodes(data=True)]
nx.draw(G, pos=pos, with_labels=True, node_color=labels)

A = th.tensor(nx.adjacency_matrix(G, weight=0).toarray(), dtype=th.float32)
A

th.tensor([[attr["label"]] for node, attr in G.nodes(data=True)], dtype=th.float32)
    """
    pc.copy(text)
    
    
def eleven_gcnn_mpf_2():
    """
2. –ù–∞–π–¥–∏—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêÄÃÇ 
 .

ùêÄÃÇ =ùêÉ‚àí1ùêÄ
 

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä  ùêó
  —Ä–∞–∑–º–µ—Ä–∞ Nx5 —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ —É–∑–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è torch.rand. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–∞—Ç—Ä–∏—á–Ω–æ–≥–æ —É–º–Ω–æ–∂–µ–Ω–∏—è.

ùêóÃÇ =ùêÄÃÇ ùêó
 

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∂–µ —à–∞–≥ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —è–≤–Ω–æ –ø—Ä–æ–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–≤—à–∏—Å—å –ø–æ —É–∑–ª–∞–º –≥—Ä–∞—Ñ–∞ –∏ —É—Å—Ä–µ–¥–Ω–∏–≤ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–æ—Å–µ–¥–µ–π. –°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Ç–µ–Ω–∑–æ—Ä–∞ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Ä–∞–≤–Ω—ã.

degrees = th.sum(A, axis=1)
D = th.diag(degrees)
D

degrees = th.sum(A, axis=1)
D = th.diag(degrees)
A_hat = th.linalg.inv(D) @ A
A_hat

N = len(G)
X = th.rand((N, 5))
X.shape
X_hat = A_hat @ X
X_hat
X_hat_2 = th.zeros_like(X_hat)
for i in range(N):
    neib_ind = th.where(A[i] == 1)[0].tolist()
    X_hat_2[i] = th.mean(X[neib_ind], dim=0)
    
th.allclose(X_hat, X_hat_2)
    """
    text = """
degrees = th.sum(A, axis=1)
D = th.diag(degrees)
D

degrees = th.sum(A, axis=1)
D = th.diag(degrees)
A_hat = th.linalg.inv(D) @ A
A_hat

N = len(G)
X = th.rand((N, 5))
X.shape
X_hat = A_hat @ X
X_hat
X_hat_2 = th.zeros_like(X_hat)
for i in range(N):
    neib_ind = th.where(A[i] == 1)[0].tolist()
    X_hat_2[i] = th.mean(X[neib_ind], dim=0)
    
th.allclose(X_hat, X_hat_2)
    """
    pc.copy(text)
    
    
def eleven_gcnn_mpf_3():
    """
3. –û–ø–∏—à–∏—Ç–µ —Å–ª–æ–π GCNLayer –≥—Ä–∞—Ñ–æ–≤–æ–π —Å–≤–µ—Ä—Ç–æ—á–Ω–æ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–æ–π —Å n_outputs=3 –∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å–ª–æ–π –º–∞—Ç—Ä–∏—Ü—É —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞ –∏ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó=ùêÑ
 . –í—ã–≤–µ–¥–∏—Ç–µ —Ñ–æ—Ä–º—É –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.
 
import torch.nn as nn
import torch as th
from typing import Callable

class GCNLayer(nn.Module):
    def __init__(self, n_inputs: int, n_outputs: int, activation: Callable | None = None) -> None:
        super().__init__()

        # self.W - –≤–µ—Å–∞ —Å–ª–æ—è
        W = th.empty(n_inputs, n_outputs, dtype=th.float32)
        nn.init.xavier_uniform_(W)
        self.W = nn.Parameter(W, requires_grad=True)
        
        # self.activation - —Ñ—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
        self.activation = activation

    def normalize_matrix(self, A: th.Tensor) -> th.Tensor:
        #A - –∏—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞
        degrees = th.sum(A, axis=1)
        D = th.diag(degrees)
        A_hat = th.linalg.inv(D) @ A
        return A_hat

    def forward(self, A: th.Tensor, X: th.Tensor) -> th.Tensor:
        #A - –∏—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞
        #X - –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤
        
        out = self.normalize_matrix(A) @ X @ self.W
        if self.activation:
            out = self.activation(out)
        return out
        
model = GCNLayer(n_inputs=len(G), n_outputs=3)
out = model(A, th.eye(len(G)))
out
out.shape
    """
    text = """
import torch.nn as nn
import torch as th
from typing import Callable

class GCNLayer(nn.Module):
    def __init__(self, n_inputs: int, n_outputs: int, activation: Callable | None = None) -> None:
        super().__init__()

        # self.W - –≤–µ—Å–∞ —Å–ª–æ—è
        W = th.empty(n_inputs, n_outputs, dtype=th.float32)
        nn.init.xavier_uniform_(W)
        self.W = nn.Parameter(W, requires_grad=True)
        
        # self.activation - —Ñ—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
        self.activation = activation

    def normalize_matrix(self, A: th.Tensor) -> th.Tensor:
        #A - –∏—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞
        degrees = th.sum(A, axis=1)
        D = th.diag(degrees)
        A_hat = th.linalg.inv(D) @ A
        return A_hat

    def forward(self, A: th.Tensor, X: th.Tensor) -> th.Tensor:
        #A - –∏—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞
        #X - –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤
        
        out = self.normalize_matrix(A) @ X @ self.W
        if self.activation:
            out = self.activation(out)
        return out
        
model = GCNLayer(n_inputs=len(G), n_outputs=3)
out = model(A, th.eye(len(G)))
out
out.shape
    """
    pc.copy(text)
    
    
def eleven_gcnn_mpf_4():
    """
4. –ò—Å–ø–æ–ª—å–∑—É—è –≥—Ä–∞—Ñ–æ–≤—É—é —Å–≤–µ—Ä—Ç–æ—á–Ω—É—é –Ω–µ–π—Ä–æ–Ω–Ω—É—é —Å–µ—Ç—å, —Ä–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ –¥–≤—É—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–¥—É—â–∏—Ö —Å–ª–æ–µ–≤ GCNLayer. –ü–µ—Ä–≤—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç 2 –Ω–µ–π—Ä–æ–Ω–∞ –∏ –≥–∏–ø–µ—Ä–±–æ–ª–∏—á–µ—Å–∫–∏–π —Ç–∞–Ω–≥–µ–Ω—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–π—Ä–æ–Ω–æ–≤ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–æ–≤ –≤ –∑–∞–¥–∞—á–µ. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–¥–µ–ª—å (–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω–∏—á–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É  ùêó=ùêÑ
 ).

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–≤—ã–π —Å–ª–æ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≥—Ä–∞—Ñ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —É–∑–ª—ã –≤ —Ü–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤.

class GCNModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, n_hidden=2):
        super().__init__()
        self.act = nn.Tanh()
        self.layer_1 = GCNLayer(n_inputs=n_inputs, n_outputs=n_hidden, activation=self.act)
        self.layer_2 = GCNLayer(n_inputs=n_hidden, n_outputs=n_outputs)
        
    def forward(self, A, X):
        out = self.layer_1(A, X)
        out = self.layer_2(A, out)
        return out
        
gcn_model = GCNModel(n_inputs=len(G), n_outputs=len(np.unique(labels)))
loss_func = nn.CrossEntropyLoss()
optimizer = th.optim.Adam(gcn_model.parameters(), lr=0.005)
labels = th.tensor([attr["label"] for node, attr in G.nodes(data=True)], dtype=th.long)

EPOCHS = 1300

for i in tqdm(range(EPOCHS)):
    output = gcn_model(A, th.eye(len(G)))
    loss = loss_func(output, labels)
    pred = th.argmax(output, dim=1)
    acc = (pred == labels).float().mean().item()
    loss.backward()
    optimizer.step()
    optimizer.zero_grad()
    if i % 200 == 0:
        print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")
        
print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")

positions = gcn_model.layer_1(A, th.eye(len(G))).tolist()
positions

new_labels = th.argmax(output, dim=1)
new_labels

pos = {node:positions[ind] for ind, node in enumerate(G.nodes())}
nx.draw(G, with_labels=True, pos=pos, node_color=new_labels)
    """
    text = """
class GCNModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, n_hidden=2):
        super().__init__()
        self.act = nn.Tanh()
        self.layer_1 = GCNLayer(n_inputs=n_inputs, n_outputs=n_hidden, activation=self.act)
        self.layer_2 = GCNLayer(n_inputs=n_hidden, n_outputs=n_outputs)
        
    def forward(self, A, X):
        out = self.layer_1(A, X)
        out = self.layer_2(A, out)
        return out
        
gcn_model = GCNModel(n_inputs=len(G), n_outputs=len(np.unique(labels)))
loss_func = nn.CrossEntropyLoss()
optimizer = th.optim.Adam(gcn_model.parameters(), lr=0.005)
labels = th.tensor([attr["label"] for node, attr in G.nodes(data=True)], dtype=th.long)

EPOCHS = 1300

for i in tqdm(range(EPOCHS)):
    output = gcn_model(A, th.eye(len(G)))
    loss = loss_func(output, labels)
    pred = th.argmax(output, dim=1)
    acc = (pred == labels).float().mean().item()
    loss.backward()
    optimizer.step()
    optimizer.zero_grad()
    if i % 200 == 0:
        print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")
        
print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")

positions = gcn_model.layer_1(A, th.eye(len(G))).tolist()
positions

new_labels = th.argmax(output, dim=1)
new_labels

pos = {node:positions[ind] for ind, node in enumerate(G.nodes())}
nx.draw(G, with_labels=True, pos=pos, node_color=new_labels)
    """
    pc.copy(text)
    
    
def eleven_gcnn_mpf_5():
    """
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤  ùêó
  —Å–ª–µ–¥—É—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É–∑–ª–æ–≤ (–∫–∞–∂–¥—ã–π —É–∑–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ç—ã—Ä—å–º—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏):

–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥–∏—Ç —É–∑–µ–ª;
—Å—Ç–µ–ø–µ–Ω—å —É–∑–ª–∞;
—ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏—Å–∏—Ç–µ—Ç —É–∑–ª–∞;
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–µ–∫—Ç–æ—Ä—É –¥–ª—è —É–∑–ª–∞.
–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑—É–π—Ç–µ —Ç–µ–Ω–∑–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.

zer = th.zeros_like(A)
zer[:, 0] = th.tensor(list(nx.triangles(G).values()), dtype=th.float32)
zer[:, 1] = th.tensor(list(dict(G.degree).values()), dtype=th.float32)
zer[:, 2] = th.tensor(list(nx.eccentricity(G).values()), dtype=th.float32)
zer[:, 3] = th.tensor(list(nx.eigenvector_centrality(G).values()), dtype=th.float32)

scaler = StandardScaler()
stand_X = th.tensor(scaler.fit_transform(zer), dtype=th.float32)
stand_X[:5]

gcn_model = GCNModel(n_inputs=stand_X.shape[1], n_outputs=len(np.unique(labels)))
loss_func = nn.CrossEntropyLoss()
optimizer = th.optim.Adam(gcn_model.parameters(), lr=0.005)

EPOCHS = 1500

for i in tqdm(range(EPOCHS)):
    output = gcn_model(A, stand_X)
    loss = loss_func(output, labels)
    pred = th.argmax(output, dim=1)
    acc = (pred == labels).float().mean().item()
    loss.backward()
    optimizer.step()
    optimizer.zero_grad()
    if i % 200 == 0:
        print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")
        
print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")

positions = gcn_model.layer_1(A, stand_X).tolist()
positions

new_labels = th.argmax(output, dim=1)
new_labels

pos = {node:positions[ind] for ind, node in enumerate(G.nodes())}
nx.draw(G, with_labels=True, pos=pos, node_color=new_labels)
    """
    text = """
zer = th.zeros_like(A)
zer[:, 0] = th.tensor(list(nx.triangles(G).values()), dtype=th.float32)
zer[:, 1] = th.tensor(list(dict(G.degree).values()), dtype=th.float32)
zer[:, 2] = th.tensor(list(nx.eccentricity(G).values()), dtype=th.float32)
zer[:, 3] = th.tensor(list(nx.eigenvector_centrality(G).values()), dtype=th.float32)

scaler = StandardScaler()
stand_X = th.tensor(scaler.fit_transform(zer), dtype=th.float32)
stand_X[:5]

gcn_model = GCNModel(n_inputs=stand_X.shape[1], n_outputs=len(np.unique(labels)))
loss_func = nn.CrossEntropyLoss()
optimizer = th.optim.Adam(gcn_model.parameters(), lr=0.005)

EPOCHS = 1500

for i in tqdm(range(EPOCHS)):
    output = gcn_model(A, stand_X)
    loss = loss_func(output, labels)
    pred = th.argmax(output, dim=1)
    acc = (pred == labels).float().mean().item()
    loss.backward()
    optimizer.step()
    optimizer.zero_grad()
    if i % 200 == 0:
        print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")
        
print(f"Epoch: {i}, Loss: {round(loss.item(), 5)}, Accuracy: {acc}")

positions = gcn_model.layer_1(A, stand_X).tolist()
positions

new_labels = th.argmax(output, dim=1)
new_labels

pos = {node:positions[ind] for ind, node in enumerate(G.nodes())}
nx.draw(G, with_labels=True, pos=pos, node_color=new_labels)
    """
    pc.copy(text)
    
    
def twelve_gnn_nodes_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≥—Ä–∞—Ñ Planetoid/Cora –∏–∑ torch_geometric.datasets.

–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω:

–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞;
—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
–†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ª–æ–∏ torch.nn.Linear (—Å–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –∏–∑ –¥–≤—É—Ö —Å–ª–æ–µ–≤). –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ (–Ω–µ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –Ω–∞ –±–∞—Ç—á–∏). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ accuracy –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ.

dataset = Planetoid(name="Cora", root="./tmp")
data = dataset[0]
data
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", dataset.x.shape[0])
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞:", dataset.edge_index.shape[1])
print("—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤:", dataset.x.shape[1])
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:", data.train_mask.sum().item())
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:", data.val_mask.sum().item())
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:", data.test_mask.sum().item())

class LinearModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = nn.Linear(n_inputs, 128)
        self.layer_2 = nn.Linear(128, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x):
        out = self.layer_1(x)
        out = self.tanh(out)
        out = self.layer_2(out)
        return out
        
model_linear = LinearModel(1433, 7)
optimizer = torch.optim.Adam(model_linear.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 40

for epoch in tqdm(range(EPOCHS), desc="Training Linear Model"):
    model_linear.train()
    optimizer.zero_grad()
    
    outputs = model_linear(data.x)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    if (epoch % 20 == 0) or (epoch == EPOCHS-1):
        model_linear.eval()
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), 
                                     data.y[data.train_mask])
            
            val_outputs = model_linear(data.x)[data.val_mask]
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            val_acc = accuracy_score(val_outputs.argmax(dim=1), 
                                   data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}", end="\n\n")
            
test_outputs = model_linear(data.x)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), 
                       data.y[data.test_mask])


print(f"Test Accuracy {test_acc}")
    """
    text = """
dataset = Planetoid(name="Cora", root="./tmp")
data = dataset[0]
data
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞:", dataset.x.shape[0])
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞:", dataset.edge_index.shape[1])
print("—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤:", dataset.x.shape[1])
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:", data.train_mask.sum().item())
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:", data.val_mask.sum().item())
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:", data.test_mask.sum().item())

class LinearModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = nn.Linear(n_inputs, 128)
        self.layer_2 = nn.Linear(128, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x):
        out = self.layer_1(x)
        out = self.tanh(out)
        out = self.layer_2(out)
        return out
        
model_linear = LinearModel(1433, 7)
optimizer = torch.optim.Adam(model_linear.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 40

for epoch in tqdm(range(EPOCHS), desc="Training Linear Model"):
    model_linear.train()
    optimizer.zero_grad()
    
    outputs = model_linear(data.x)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    if (epoch % 20 == 0) or (epoch == EPOCHS-1):
        model_linear.eval()
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), 
                                     data.y[data.train_mask])
            
            val_outputs = model_linear(data.x)[data.val_mask]
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            val_acc = accuracy_score(val_outputs.argmax(dim=1), 
                                   data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}", end="\n\n")
            
test_outputs = model_linear(data.x)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), 
                       data.y[data.test_mask])


print(f"Test Accuracy {test_acc}")
    """
    pc.copy(text)
    
    
def twelve_gnn_nodes_2():
    """
2. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 1, –∏—Å–ø–æ–ª—å–∑—É—è –¥–≤–∞ —Å–ª–æ—è torch_geometric.nn.GCNConv –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ—Å–≤—è–∑–Ω—ã—Ö —Å–ª–æ–µ–≤ torch.nn.Linear.

class GCNConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = GCNConv(n_inputs, 128)
        self.layer_2 = GCNConv(128, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
model_gcn = GCNConvModel(1433, 7)
optimizer = torch.optim.Adam(model_gcn.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 40

for epoch in tqdm(range(EPOCHS), desc="Training GCN Model"):
    model_gcn.train()
    optimizer.zero_grad()
    
    outputs = model_gcn(data.x, data.edge_index)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    if (epoch % 20 == 0) or (epoch == EPOCHS-1):
        model_gcn.eval()
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), 
                                     data.y[data.train_mask])
            
            val_outputs = model_gcn(data.x, data.edge_index)[data.val_mask]
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            val_acc = accuracy_score(val_outputs.argmax(dim=1), 
                                   data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}", end="\n\n")
            
test_outputs = model_gcn(data.x, data.edge_index)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])

print(f"Test Accuracy {test_acc}")
    """
    text = """
class GCNConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = GCNConv(n_inputs, 128)
        self.layer_2 = GCNConv(128, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
model_gcn = GCNConvModel(1433, 7)
optimizer = torch.optim.Adam(model_gcn.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 40

for epoch in tqdm(range(EPOCHS), desc="Training GCN Model"):
    model_gcn.train()
    optimizer.zero_grad()
    
    outputs = model_gcn(data.x, data.edge_index)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    if (epoch % 20 == 0) or (epoch == EPOCHS-1):
        model_gcn.eval()
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), 
                                     data.y[data.train_mask])
            
            val_outputs = model_gcn(data.x, data.edge_index)[data.val_mask]
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            val_acc = accuracy_score(val_outputs.argmax(dim=1), 
                                   data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}", end="\n\n")
            
test_outputs = model_gcn(data.x, data.edge_index)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])

print(f"Test Accuracy {test_acc}")
    """
    pc.copy(text)
    
    
def twelve_gnn_nodes_3():
    """
3. –í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –Ω–µ–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ –≥—Ä–∞—Ñ–∞. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –¥–æ 2 –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ t-SNE (sklearn.manifold.TSNE). –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ—á–∫–∏ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –†–∞—Å–∫—Ä–∞—Å—å—Ç–µ —Ç–æ—á–∫–∏ –≤ —Ü–≤–µ—Ç–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–µ—Ç–∫–∞–º —É–∑–ª–æ–≤.

–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–∞–Ω–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã.

model_gcn_new = GCNConvModel(1433, 7)
outputs = model_gcn_new(data.x, data.edge_index)
outputs.shape

tsne_outputs = TSNE(n_components=2, random_state=42).fit_transform(outputs.detach().numpy())
tsne_outputs

plt.figure(figsize=(12, 6))
plt.scatter(tsne_outputs[:, 0], tsne_outputs[:, 1], c=data.y.numpy(), alpha=0.8)
plt.title('t-SNE Visualization (Untrained Model)')
plt.colorbar()
plt.show()

outputs = model_gcn(data.x, data.edge_index)
tsne_outputs = TSNE(n_components=2, random_state=42).fit_transform(outputs.detach().numpy())

plt.figure(figsize=(12, 6))
plt.scatter(tsne_outputs[:, 0], tsne_outputs[:, 1], c=data.y.numpy(), alpha=0.8)
plt.title('t-SNE Visualization (Train Model)')
plt.colorbar()
plt.show()
    """
    text = """
model_gcn_new = GCNConvModel(1433, 7)
outputs = model_gcn_new(data.x, data.edge_index)
outputs.shape

tsne_outputs = TSNE(n_components=2, random_state=42).fit_transform(outputs.detach().numpy())
tsne_outputs

plt.figure(figsize=(12, 6))
plt.scatter(tsne_outputs[:, 0], tsne_outputs[:, 1], c=data.y.numpy(), alpha=0.8)
plt.title('t-SNE Visualization (Untrained Model)')
plt.colorbar()
plt.show()

outputs = model_gcn(data.x, data.edge_index)
tsne_outputs = TSNE(n_components=2, random_state=42).fit_transform(outputs.detach().numpy())

plt.figure(figsize=(12, 6))
plt.scatter(tsne_outputs[:, 0], tsne_outputs[:, 1], c=data.y.numpy(), alpha=0.8)
plt.title('t-SNE Visualization (Train Model)')
plt.colorbar()
plt.show()
    """
    pc.copy(text)
    
    
def twelve_gnn_nodes_4():
    """
4. –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∑–ª—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É 2, –∏—Å–ø–æ–ª—å–∑—É—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

model_gcn = GCNConvModel(1433, 7)
optimizer = torch.optim.Adam(model_gcn.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 100
best_val_acc = 0
patience = 5
no_improve_epochs = 0
stop_training = False

for epoch in tqdm(range(EPOCHS), desc="Training GCN Model with early stopping"):
    if stop_training:
        print(f"Early stopping epoch {epoch + 1}")
        break
    
    model_gcn.train()
    optimizer.zero_grad()
    
    outputs = model_gcn(data.x, data.edge_index)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    model_gcn.eval()
    with torch.no_grad():
        val_outputs = model_gcn(data.x, data.edge_index)[data.val_mask]
        val_acc = accuracy_score(val_outputs.argmax(dim=1), data.y[data.val_mask])
        
        if val_acc > best_val_acc:
            best_val_acc = val_acc
            no_improve_epochs = 0
            torch.save(model_gcn.state_dict(), 'data/gcn_best_model.pth')
        else:
            no_improve_epochs += 1
            
        if no_improve_epochs >= patience:
            stop_training = True
    
    if (epoch % 5 == 0) or (epoch == EPOCHS-1) or stop_training:
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}")
            print(f"Best Val Accuracy: {best_val_acc:.4f}")
            print(f"No improve {no_improve_epochs} epochs", end="\n\n")

            
if stop_training:
    model_gcn.load_state_dict(torch.load('data/gcn_best_model.pth'))
    
test_outputs = model_gcn(data.x, data.edge_index)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])

print(f"Test Accuracy {test_acc}")
    """
    text = """
model_gcn = GCNConvModel(1433, 7)
optimizer = torch.optim.Adam(model_gcn.parameters(), lr=0.001)
loss_func = nn.CrossEntropyLoss()

EPOCHS = 100
best_val_acc = 0
patience = 5
no_improve_epochs = 0
stop_training = False

for epoch in tqdm(range(EPOCHS), desc="Training GCN Model with early stopping"):
    if stop_training:
        print(f"Early stopping epoch {epoch + 1}")
        break
    
    model_gcn.train()
    optimizer.zero_grad()
    
    outputs = model_gcn(data.x, data.edge_index)
    loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
    
    loss.backward()
    optimizer.step()
    
    model_gcn.eval()
    with torch.no_grad():
        val_outputs = model_gcn(data.x, data.edge_index)[data.val_mask]
        val_acc = accuracy_score(val_outputs.argmax(dim=1), data.y[data.val_mask])
        
        if val_acc > best_val_acc:
            best_val_acc = val_acc
            no_improve_epochs = 0
            torch.save(model_gcn.state_dict(), 'data/gcn_best_model.pth')
        else:
            no_improve_epochs += 1
            
        if no_improve_epochs >= patience:
            stop_training = True
    
    if (epoch % 5 == 0) or (epoch == EPOCHS-1) or stop_training:
        with torch.no_grad():
            train_outputs = outputs[data.train_mask]
            train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
            val_loss = loss_func(val_outputs, data.y[data.val_mask])
            
            print("Epoch", epoch + 1)
            print(f"Train Loss {loss.item():.4f}, Train Accuracy {train_acc:.4f}")
            print(f"Val Loss {val_loss.item():.4f}, Val Accuracy {val_acc:.4f}")
            print(f"Best Val Accuracy: {best_val_acc:.4f}")
            print(f"No improve {no_improve_epochs} epochs", end="\n\n")

            
if stop_training:
    model_gcn.load_state_dict(torch.load('data/gcn_best_model.pth'))
    
test_outputs = model_gcn(data.x, data.edge_index)[data.test_mask]
test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])

print(f"Test Accuracy {test_acc}")
    """
    pc.copy(text)
    
    
def twelve_gnn_nodes_5():
    """
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 4, —Å—Ä–∞–≤–Ω–∏–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–µ–≤:

GCNConv
SAGEConv (—É–∫–∞–∂–∏—Ç–µ aggr="mean")
GATConv (–≤—ã–±–µ—Ä–∏—Ç–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ—è heads > 1)
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:

–ú–æ–¥–µ–ª—å	Loss –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏	Acc –Ω–∞ —Ç–µ—Å—Ç–µ	–ö–æ–ª-–≤–æ —ç–ø–æ—Ö –¥–æ —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫

class SAGEConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = SAGEConv(n_inputs, 128, aggr="mean")
        self.layer_2 = SAGEConv(128, n_outputs, aggr="mean")
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
class GATConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, first_heads=2):
        super().__init__()
        self.layer_1 = GATConv(n_inputs, 128, heads=first_heads)
        self.layer_2 = GATConv(128*first_heads, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
def train_with_early_stopping(data, model, lr=0.001, max_epochs=100, patience=5):
    optimizer = torch.optim.Adam(model.parameters(), lr=lr)
    loss_func = nn.CrossEntropyLoss()
    
    best_val_acc = 0
    no_improve_epochs = 0
    stop_training = False
    best_model_state = None
    metrics = {}
    
    model_name = model.__class__.__name__
    
    for epoch in tqdm(range(max_epochs), desc=f"Training Model {model_name}"):
        if stop_training:
            print(f"Early stopping epoch {epoch + 1}")
            break
        
        model.train()
        optimizer.zero_grad()
        
        outputs = model(data.x, data.edge_index)
        train_loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
        train_loss.backward()
        optimizer.step()
        
        model.eval()
        with torch.no_grad():
            val_outputs = model(data.x, data.edge_index)[data.val_mask]
            val_acc = accuracy_score(val_outputs.argmax(dim=1), data.y[data.val_mask])
            
            if val_acc > best_val_acc:
                best_val_acc = val_acc
                no_improve_epochs = 0
                best_model_state = model.state_dict()
            else:
                no_improve_epochs += 1
                
            if no_improve_epochs >= patience:
                stop_training = True
        
        if (epoch % 5 == 0) or (epoch == max_epochs-1) or stop_training:
            with torch.no_grad():
                train_outputs = outputs[data.train_mask]
                train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
                
                test_outputs = model(data.x, data.edge_index)[data.test_mask]
                test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])
                
                print(f"Epoch {epoch + 1}")
                print(f"Train Loss: {train_loss.item():.4f} | Train Acc: {train_acc:.4f}")
                print(f"Val Acc: {val_acc:.4f} | Test Acc: {test_acc:.4f}")
                print(f"Best Val Accuracy: {best_val_acc:.4f}")
                print(f"No improve {no_improve_epochs} epochs", end="\n\n")
    
    if best_model_state is not None:
        model.load_state_dict(best_model_state)
    
    model.eval()
    with torch.no_grad():
        train_outputs = model(data.x, data.edge_index)[data.train_mask]
        final_train_loss = loss_func(train_outputs, data.y[data.train_mask]).item()
        final_train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
        
        test_outputs = model(data.x, data.edge_index)[data.test_mask]
        final_test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])
    
    return {
        'model_name': model_name,
        'train_loss': final_train_loss,
        'train_acc': final_train_acc,
        'test_acc': final_test_acc,
        'epochs': epoch + 1
    }
model_gcn = GCNConvModel(1433, 7)
model_sage = SAGEConvModel(1433, 7)
model_gat = GATConvModel(1433, 7)

gcn = train_with_early_stopping(model=model_gcn, data=data)
sage = train_with_early_stopping(model=model_sage, data=data)
gat = train_with_early_stopping(model=model_gat, data=data)


all_results = [gcn, sage, gat]

results_df = pd.DataFrame({
    '–ú–æ–¥–µ–ª—å': [res['model_name'] for res in all_results],
    'Loss –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏': [f"{res['train_loss']:.4f}" for res in all_results],
    'Acc –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏': [f"{res['train_acc']:.4f}" for res in all_results],
    'Acc –Ω–∞ —Ç–µ—Å—Ç–µ': [f"{res['test_acc']:.4f}" for res in all_results],
    '–ö–æ–ª-–≤–æ —ç–ø–æ—Ö –¥–æ —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏': [res['epochs'] for res in all_results],
})
results_df
    """
    text = """
class SAGEConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs):
        super().__init__()
        self.layer_1 = SAGEConv(n_inputs, 128, aggr="mean")
        self.layer_2 = SAGEConv(128, n_outputs, aggr="mean")
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
class GATConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, first_heads=2):
        super().__init__()
        self.layer_1 = GATConv(n_inputs, 128, heads=first_heads)
        self.layer_2 = GATConv(128*first_heads, n_outputs)
        self.tanh = nn.Tanh()
        
    def forward(self, x, edge_index):
        out = self.layer_1(x, edge_index)
        out = self.tanh(out)
        out = self.layer_2(out, edge_index)
        return out
        
def train_with_early_stopping(data, model, lr=0.001, max_epochs=100, patience=5):
    optimizer = torch.optim.Adam(model.parameters(), lr=lr)
    loss_func = nn.CrossEntropyLoss()
    
    best_val_acc = 0
    no_improve_epochs = 0
    stop_training = False
    best_model_state = None
    metrics = {}
    
    model_name = model.__class__.__name__
    
    for epoch in tqdm(range(max_epochs), desc=f"Training Model {model_name}"):
        if stop_training:
            print(f"Early stopping epoch {epoch + 1}")
            break
        
        model.train()
        optimizer.zero_grad()
        
        outputs = model(data.x, data.edge_index)
        train_loss = loss_func(outputs[data.train_mask], data.y[data.train_mask])
        train_loss.backward()
        optimizer.step()
        
        model.eval()
        with torch.no_grad():
            val_outputs = model(data.x, data.edge_index)[data.val_mask]
            val_acc = accuracy_score(val_outputs.argmax(dim=1), data.y[data.val_mask])
            
            if val_acc > best_val_acc:
                best_val_acc = val_acc
                no_improve_epochs = 0
                best_model_state = model.state_dict()
            else:
                no_improve_epochs += 1
                
            if no_improve_epochs >= patience:
                stop_training = True
        
        if (epoch % 5 == 0) or (epoch == max_epochs-1) or stop_training:
            with torch.no_grad():
                train_outputs = outputs[data.train_mask]
                train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
                
                test_outputs = model(data.x, data.edge_index)[data.test_mask]
                test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])
                
                print(f"Epoch {epoch + 1}")
                print(f"Train Loss: {train_loss.item():.4f} | Train Acc: {train_acc:.4f}")
                print(f"Val Acc: {val_acc:.4f} | Test Acc: {test_acc:.4f}")
                print(f"Best Val Accuracy: {best_val_acc:.4f}")
                print(f"No improve {no_improve_epochs} epochs", end="\n\n")
    
    if best_model_state is not None:
        model.load_state_dict(best_model_state)
    
    model.eval()
    with torch.no_grad():
        train_outputs = model(data.x, data.edge_index)[data.train_mask]
        final_train_loss = loss_func(train_outputs, data.y[data.train_mask]).item()
        final_train_acc = accuracy_score(train_outputs.argmax(dim=1), data.y[data.train_mask])
        
        test_outputs = model(data.x, data.edge_index)[data.test_mask]
        final_test_acc = accuracy_score(test_outputs.argmax(dim=1), data.y[data.test_mask])
    
    return {
        'model_name': model_name,
        'train_loss': final_train_loss,
        'train_acc': final_train_acc,
        'test_acc': final_test_acc,
        'epochs': epoch + 1
    }
model_gcn = GCNConvModel(1433, 7)
model_sage = SAGEConvModel(1433, 7)
model_gat = GATConvModel(1433, 7)

gcn = train_with_early_stopping(model=model_gcn, data=data)
sage = train_with_early_stopping(model=model_sage, data=data)
gat = train_with_early_stopping(model=model_gat, data=data)


all_results = [gcn, sage, gat]

results_df = pd.DataFrame({
    '–ú–æ–¥–µ–ª—å': [res['model_name'] for res in all_results],
    'Loss –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏': [f"{res['train_loss']:.4f}" for res in all_results],
    'Acc –Ω–∞ –æ–±—É—á–µ–Ω–∏–∏': [f"{res['train_acc']:.4f}" for res in all_results],
    'Acc –Ω–∞ —Ç–µ—Å—Ç–µ': [f"{res['test_acc']:.4f}" for res in all_results],
    '–ö–æ–ª-–≤–æ —ç–ø–æ—Ö –¥–æ —Ä–∞–Ω–Ω–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏': [res['epochs'] for res in all_results],
})
results_df
    """
    pc.copy(text)
    
    
def thirteen_gnn_graphs_1():
    """
1. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ GraphsDataset. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å, —Å–æ–∑–¥–∞–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–æ–≤ –∞—Ä—Ö–∏–≤–∞ graphs.zip (–º–æ–∂–Ω–æ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ). –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —É–∑–ª–æ–≤ –¥–ª—è –≥—Ä–∞—Ñ–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º 0.

path_to_zip_file = "data/graphs.zip"
directory_to_extract_to = "data"

with zipfile.ZipFile(path_to_zip_file, 'r') as zip_ref:
    zip_ref.extractall(directory_to_extract_to)
    
class GraphsDataset(Dataset):
    def __init__(self, path):
        super().__init__()
        self.graphs = []
        self.ys = []
        
        for idx, raw_path in enumerate(os.listdir(path)):
            for p in Path(path, raw_path).glob("*.gml"):
                graph = nx.read_gml(p)
                
                for node in graph.nodes:
                    graph.nodes[node].pop("block", None)
                
                self.graphs.append(
                    from_networkx(graph, group_node_attrs=("degree_centrality", "clustering_coefficient"))
                )
                self.ys.append(idx)
        
        self.ys = torch.tensor(self.ys)

    def __getitem__(self, idx):
        return self.graphs[idx], self.ys[idx]

    def __len__(self):
        return len(self.graphs)
        
dataset = GraphsDataset("data/graphs")
dataset[0]

print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ:", len(dataset))
display(dataset[0])
display(dataset[0][0].x)
    """
    text = """
path_to_zip_file = "data/graphs.zip"
directory_to_extract_to = "data"

with zipfile.ZipFile(path_to_zip_file, 'r') as zip_ref:
    zip_ref.extractall(directory_to_extract_to)
    
class GraphsDataset(Dataset):
    def __init__(self, path):
        super().__init__()
        self.graphs = []
        self.ys = []
        
        for idx, raw_path in enumerate(os.listdir(path)):
            for p in Path(path, raw_path).glob("*.gml"):
                graph = nx.read_gml(p)
                
                for node in graph.nodes:
                    graph.nodes[node].pop("block", None)
                
                self.graphs.append(
                    from_networkx(graph, group_node_attrs=("degree_centrality", "clustering_coefficient"))
                )
                self.ys.append(idx)
        
        self.ys = torch.tensor(self.ys)

    def __getitem__(self, idx):
        return self.graphs[idx], self.ys[idx]

    def __len__(self):
        return len(self.graphs)
        
dataset = GraphsDataset("data/graphs")
dataset[0]

print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ:", len(dataset))
display(dataset[0])
display(dataset[0][0].x)
    """
    pc.copy(text)
    
    
def thirteen_gnn_graphs_2():
    """
2. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç torch_geometric.loader.DataLodaer. –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–∏–Ω –±–∞—Ç—á —Ä–∞–∑–º–µ—Ä–∞ 128 –ø—Ä–∏ –ø–æ–º–æ—â–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –º–µ—Ç–æ–¥—ã):

–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –±–∞—Ç—á–µ;
–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–µ –±–∞—Ç—á–∞;
–í—ã–ø–æ–ª–Ω–∏—Ç–µ readout –¥–ª—è –≥—Ä–∞—Ñ–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ç—Ä–∏–±—É—Ç–∞ x. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.

loader = DataLoader(dataset, batch_size=128, shuffle=True)
batch, labels = next(iter(loader))
batch, labels

print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", batch.num_nodes)
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", batch.num_edges)
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –±–∞—Ç—á–µ:", len(batch))
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", [batch[i].num_nodes for i in range(len(batch))])

sc = scatter(batch.x, index=batch.batch, dim=0)
display(sc)

display(sc.shape)
    """
    text = """
loader = DataLoader(dataset, batch_size=128, shuffle=True)
batch, labels = next(iter(loader))
batch, labels

print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", batch.num_nodes)
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", batch.num_edges)
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –±–∞—Ç—á–µ:", len(batch))
print("–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ-–±–∞—Ç—á–µ:", [batch[i].num_nodes for i in range(len(batch))])

sc = scatter(batch.x, index=batch.batch, dim=0)
display(sc)

display(sc.shape)
    """
    pc.copy(text)
    
    
def thirteen_gnn_graphs_3():
    """
3. –†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–æ–∏ SAGEConv –∏ –æ–ø–µ—Ä–∞—Ü–∏—é —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã readout. –î–ª—è –æ–±—É—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫ —Å —Ä–∞–∑–º–µ—Ä–æ–º –±–∞—Ç—á–∞ 128. –í–æ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –≤—ã–≤–æ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –ø–æ —ç–ø–æ—Ö–∞–º (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics). –í—ã—á–∏—Å–ª–∏—Ç–µ –º–∞—Ç—Ä–∏—Ü—É –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ torchmetrics).

class SAGEConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, readout):
        super().__init__()
        self.readout = readout
        self.layer_1 = tgnn.SAGEConv(n_inputs, 128, aggr="mean")
        self.layer_2 = tgnn.SAGEConv(128, n_outputs, aggr="mean")
        self.relu = nn.ReLU()
        
    def forward(self, batch, reduce="mean"):
        out = self.layer_1(batch.x, batch.edge_index)
        out = self.relu(out)
        out = self.layer_2(out, batch.edge_index)
        out = scatter(out, batch.batch, dim=0, reduce=self.readout)
        return out
        
def train(data_loader, lr=0.5, max_epochs=100, reduce="mean"):
    device = "cuda"
    model = SAGEConvModel(2, 3, reduce).to(device)
    optimizer = torch.optim.SGD(model.parameters(), lr=lr)
    loss_func = nn.CrossEntropyLoss().to(device)

    train_loss = MeanMetric().to(device)
    test_acc = Accuracy(task="multiclass", num_classes=3).to(device)
    confusion_matrix = ConfusionMatrix(task="multiclass", num_classes=3).to(device)

    train_dataset, test_dataset = random_split(data_loader.dataset, lengths=[0.8, 0.2])
    train_loader = DataLoader(train_dataset, batch_size=128, shuffle=True)
    test_loader = DataLoader(test_dataset, batch_size=128)

    for epoch in tqdm(range(max_epochs), desc=f"Train Model, readout reduce {reduce}"):
        model.train()
        train_loss.reset()

        for batch, labels in train_loader:
            batch = batch.to(device)
            labels = labels.to(device)

            optimizer.zero_grad()
            outputs = model(batch)
            loss = loss_func(outputs, labels)
            loss.backward()
            optimizer.step()

            train_loss.update(loss)

        model.eval()
        test_acc.reset()
        with torch.no_grad():
            for batch, labels in test_loader:
                batch = batch.to(device)
                labels = labels.to(device)
                outputs = model(batch)
                preds = outputs.argmax(dim=1)
                test_acc.update(preds, labels)

        print({
            "Epoch": f"{epoch + 1}/{max_epochs}",
            "Train Loss": f"{train_loss.compute():.4f}",
            "Test Acc": f"{test_acc.compute():.4f}"
        })

    model.eval()
    with torch.no_grad():
        for batch, labels in test_loader:
            batch = batch.to(device)
            labels = labels.to(device)
            outputs = model(batch)
            preds = outputs.argmax(dim=1)
            confusion_matrix.update(preds, labels)

    return {
        'Loss': train_loss.compute().item(),
        'Acc': test_acc.compute().item(),
        'Confusion Matrix': confusion_matrix.compute()
    }
    
results = train(loader)
results
    """
    text = """
class SAGEConvModel(nn.Module):
    def __init__(self, n_inputs, n_outputs, readout):
        super().__init__()
        self.readout = readout
        self.layer_1 = tgnn.SAGEConv(n_inputs, 128, aggr="mean")
        self.layer_2 = tgnn.SAGEConv(128, n_outputs, aggr="mean")
        self.relu = nn.ReLU()
        
    def forward(self, batch, reduce="mean"):
        out = self.layer_1(batch.x, batch.edge_index)
        out = self.relu(out)
        out = self.layer_2(out, batch.edge_index)
        out = scatter(out, batch.batch, dim=0, reduce=self.readout)
        return out
        
def train(data_loader, lr=0.5, max_epochs=100, reduce="mean"):
    device = "cuda"
    model = SAGEConvModel(2, 3, reduce).to(device)
    optimizer = torch.optim.SGD(model.parameters(), lr=lr)
    loss_func = nn.CrossEntropyLoss().to(device)

    train_loss = MeanMetric().to(device)
    test_acc = Accuracy(task="multiclass", num_classes=3).to(device)
    confusion_matrix = ConfusionMatrix(task="multiclass", num_classes=3).to(device)

    train_dataset, test_dataset = random_split(data_loader.dataset, lengths=[0.8, 0.2])
    train_loader = DataLoader(train_dataset, batch_size=128, shuffle=True)
    test_loader = DataLoader(test_dataset, batch_size=128)

    for epoch in tqdm(range(max_epochs), desc=f"Train Model, readout reduce {reduce}"):
        model.train()
        train_loss.reset()

        for batch, labels in train_loader:
            batch = batch.to(device)
            labels = labels.to(device)

            optimizer.zero_grad()
            outputs = model(batch)
            loss = loss_func(outputs, labels)
            loss.backward()
            optimizer.step()

            train_loss.update(loss)

        model.eval()
        test_acc.reset()
        with torch.no_grad():
            for batch, labels in test_loader:
                batch = batch.to(device)
                labels = labels.to(device)
                outputs = model(batch)
                preds = outputs.argmax(dim=1)
                test_acc.update(preds, labels)

        print({
            "Epoch": f"{epoch + 1}/{max_epochs}",
            "Train Loss": f"{train_loss.compute():.4f}",
            "Test Acc": f"{test_acc.compute():.4f}"
        })

    model.eval()
    with torch.no_grad():
        for batch, labels in test_loader:
            batch = batch.to(device)
            labels = labels.to(device)
            outputs = model(batch)
            preds = outputs.argmax(dim=1)
            confusion_matrix.update(preds, labels)

    return {
        'Loss': train_loss.compute().item(),
        'Acc': test_acc.compute().item(),
        'Confusion Matrix': confusion_matrix.compute()
    }
    
results = train(loader)
results
    """
    pc.copy(text)
    
    
def thirteen_gnn_graphs_4():
    """
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ 3, —Å—Ä–∞–≤–Ω–∏–≤ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ readout. –í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:

–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã:

Readout op	Loss	Acc
sum		
mean		
max		
min		

readout_sum = train(loader, lr=0.05, max_epochs=500, reduce="sum")
readout_mean = train(loader, lr=0.5, max_epochs=200, reduce="mean")
readout_max = train(loader, lr=0.05, max_epochs=500, reduce="max")
readout_min = train(loader,lr=0.05, max_epochs=500, reduce="min")

all_results = [readout_sum, readout_mean, readout_max, readout_min]

results_df = pd.DataFrame({
    'Readout op': [r_op for r_op in ["sum", "mean", "max", "min"]],
    'Loss': [f"{res['Loss']:.4f}" for res in all_results],
    'Acc': [f"{res['Acc']:.4f}" for res in all_results],
})
results_df
    """
    text = """
readout_sum = train(loader, lr=0.05, max_epochs=500, reduce="sum")
readout_mean = train(loader, lr=0.5, max_epochs=200, reduce="mean")
readout_max = train(loader, lr=0.05, max_epochs=500, reduce="max")
readout_min = train(loader,lr=0.05, max_epochs=500, reduce="min")

all_results = [readout_sum, readout_mean, readout_max, readout_min]

results_df = pd.DataFrame({
    'Readout op': [r_op for r_op in ["sum", "mean", "max", "min"]],
    'Loss': [f"{res['Loss']:.4f}" for res in all_results],
    'Acc': [f"{res['Acc']:.4f}" for res in all_results],
})
results_df
    """
    pc.copy(text)
    
    
def fourteen_kg_trans_1():
    """
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç CoDExSmall. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω (–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç—É—é—â–∏–º –ø–æ–ª—è–º) –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –æ–±—É—á–∞—é—â–µ–º (<dataset>.training), –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º (<dataset>.validation) –∏ —Ç–µ—Å—Ç–æ–≤–æ–º (<dataset>.testing) –º–Ω–æ–∂–µ—Å—Ç–≤–µ.

–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –æ–¥–Ω—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°)
  –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –≤–∏–¥–µ (<dataset>.triples) –∏ —ç—Ç—É –∂–µ —Ç—Ä–æ–π–∫—É, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–ª–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π/–æ—Ç–Ω–æ—à–µ–Ω–∏–π (<dataset>.mapped_triples).
  
dataset = CoDExSmall()
print(dataset.training.num_triples)
print(dataset.validation.num_triples)
print(dataset.testing.num_triples)

dataset.training.triples[0]

dataset.training.mapped_triples[0]
    """
    text = """
  
dataset = CoDExSmall()
print(dataset.training.num_triples)
print(dataset.validation.num_triples)
print(dataset.testing.num_triples)

dataset.training.triples[0]

dataset.training.mapped_triples[0]
    """
    pc.copy(text)
    
    
def fourteen_kg_trans_2():
    """
2. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å TransE –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall –ø—Ä–∏ –ø–æ–º–æ—â–∏ pipeline. –ó–∞–¥–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö –æ–±—É—á–µ–Ω–∏—è (num_epochs –≤ training_kwargs), —Ä–∞–≤–Ω–æ–µ 100, –∏ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (embedding_dim –≤  model_kwargs), —Ä–∞–≤–Ω—É—é 64.

–ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–æ–º–µ—Ä–∞ —ç–ø–æ—Ö–∏ (<pipeline_result>.plot_losses).

–í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ –≤–∏–¥–µ pd.DataFrame (<pipeline_result>.metric_results.to_df())

pipe_transe = pipeline(
    dataset="CoDExSmall",
    model="TransE",
    training_kwargs={
        "num_epochs": 100,
    },
    model_kwargs={
        "embedding_dim": 64,
    }
)
pipe_transe.plot_losses()
metrics_df = pipe_transe.metric_results.to_df()
metrics_df
    """
    text = """
pipe_transe = pipeline(
    dataset="CoDExSmall",
    model="TransE",
    training_kwargs={
        "num_epochs": 100,
    },
    model_kwargs={
        "embedding_dim": 64,
    }
)
pipe_transe.plot_losses()
metrics_df = pipe_transe.metric_results.to_df()
metrics_df
    """
    pc.copy(text)
    
    
def fourteen_kg_trans_3():
    """
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –æ–¥–Ω—É —Ç—Ä–æ–π–∫—É  (‚Ñé,ùëü,ùë°‚àó)
  –∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞. –ò—Å–ø–æ–ª—å–∑—É—è –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –æ—Ü–µ–Ω–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–æ–µ–∫  (‚Ñé,ùëü,ùë°),ùë°‚ààùêæ
 .

–ù–∞–π–¥–∏—Ç–µ –ø–æ–∑–∏—Ü–∏—é (—Ä–∞–Ω–≥) –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–æ–π–∫–∏  ùë°‚àó
  –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –≤–µ–ª–∏—á–∏–Ω—ã score.

random_idx = random.randint(0, dataset.testing.num_triples - 1)

true_triple = dataset.testing.triples[random_idx]
true_map = dataset.testing.mapped_triples[random_idx]
h, r, t = true_triple.tolist()
h_id, r_id, t_id = true_map.tolist()
print(h, r, t)
print(h_id, r_id, t_id)

prediction_df = predict_target(
    model=pipe_transe.model,
    head=h,
    relation=r,
    tail=None,
    triples_factory=dataset.testing
).df
prediction_df
sorted_df = prediction_df.sort_values("score", ascending=False).reset_index(drop=True)
sorted_df

true_rank = (sorted_df[sorted_df['tail_id'] == t_id].index).to_numpy()[0] + 1
print(f'–†–∞–Ω–≥ –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ t*: {true_rank}')
    """
    text = """
random_idx = random.randint(0, dataset.testing.num_triples - 1)

true_triple = dataset.testing.triples[random_idx]
true_map = dataset.testing.mapped_triples[random_idx]
h, r, t = true_triple.tolist()
h_id, r_id, t_id = true_map.tolist()
print(h, r, t)
print(h_id, r_id, t_id)

prediction_df = predict_target(
    model=pipe_transe.model,
    head=h,
    relation=r,
    tail=None,
    triples_factory=dataset.testing
).df
prediction_df
sorted_df = prediction_df.sort_values("score", ascending=False).reset_index(drop=True)
sorted_df

true_rank = (sorted_df[sorted_df['tail_id'] == t_id].index).to_numpy()[0] + 1
print(f'–†–∞–Ω–≥ –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ t*: {true_rank}')
    """
    pc.copy(text)
    
    
def fourteen_kg_trans_4():
    """
4. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏ TransE, TransH –∏ TransD –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ CoDExSmall.

–°—Ä–∞–≤–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –º–µ—Ç—Ä–∏–∫–∞–º (side=both –∏ type=realistic):

Adjusted Arithmetic Mean Rank (AAMR): adjusted_arithmetic_mean_rank
Mean Reciprocal Rank (MRR): inverse_harmonic_mean_rank
Hits @ 10: hits_at_10
–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ —Å—Ç–æ–ª–±—á–∞—Ç–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã

models = ["TransE", "TransH", "TransD"]
needed_metrics = [
    "adjusted_arithmetic_mean_rank",
    "inverse_harmonic_mean_rank",
    "hits_at_10",
    ]
    
metrics = defaultdict(list)

for model in models:
  pipe_transe = pipeline(
      dataset="CoDExSmall",
      model=model,
      training_kwargs={
          "num_epochs": 100,
      },
      model_kwargs={
          "embedding_dim": 64,
      }
  )
  metrics_df = pipe_transe.metric_results.to_df()
  metrics_df = metrics_df[
      (metrics_df["Side"]=="both") &
       (metrics_df["Rank_type"]=="realistic")
       ]

  metrics["models"].append(model)
  for need_metric in needed_metrics:
    metrics[need_metric].append(
        metrics_df[metrics_df["Metric"]==need_metric]["Value"].values[0]
        )
        
results_df = pd.DataFrame(metrics)

results_df.set_index("models")[needed_metrics].plot(
    kind="bar",
    figsize=(10, 6),
    title="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
)
plt.ylabel("–ó–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏")
plt.xlabel("–ú–æ–¥–µ–ª—å")
plt.xticks(rotation=0)
plt.grid(True, linestyle='--', alpha=0.5)
plt.legend(title="–ú–µ—Ç—Ä–∏–∫–∞")
plt.tight_layout()
plt.show()
    """
    text = """
models = ["TransE", "TransH", "TransD"]
needed_metrics = [
    "adjusted_arithmetic_mean_rank",
    "inverse_harmonic_mean_rank",
    "hits_at_10",
    ]
    
metrics = defaultdict(list)

for model in models:
  pipe_transe = pipeline(
      dataset="CoDExSmall",
      model=model,
      training_kwargs={
          "num_epochs": 100,
      },
      model_kwargs={
          "embedding_dim": 64,
      }
  )
  metrics_df = pipe_transe.metric_results.to_df()
  metrics_df = metrics_df[
      (metrics_df["Side"]=="both") &
       (metrics_df["Rank_type"]=="realistic")
       ]

  metrics["models"].append(model)
  for need_metric in needed_metrics:
    metrics[need_metric].append(
        metrics_df[metrics_df["Metric"]==need_metric]["Value"].values[0]
        )
        
results_df = pd.DataFrame(metrics)

results_df.set_index("models")[needed_metrics].plot(
    kind="bar",
    figsize=(10, 6),
    title="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
)
plt.ylabel("–ó–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏")
plt.xlabel("–ú–æ–¥–µ–ª—å")
plt.xticks(rotation=0)
plt.grid(True, linestyle='--', alpha=0.5)
plt.legend(title="–ú–µ—Ç—Ä–∏–∫–∞")
plt.tight_layout()
plt.show()
    """
    pc.copy(text)