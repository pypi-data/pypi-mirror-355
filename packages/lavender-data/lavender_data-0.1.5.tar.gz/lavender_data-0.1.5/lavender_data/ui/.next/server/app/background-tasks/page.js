(()=>{var e={};e.id=488,e.ids=[488],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17773:(e,t,a)=>{"use strict";a.d(t,{KU:()=>i,my:()=>d});var r=a(10146),s=a(87080),n=a(77893);let l=()=>process.env.API_URL||"http://localhost:8000",o=async()=>{let e=await (0,s.UL)();return e.get("lavender-data-api-key")?.value},i=async()=>{let e=l(),t=await o();return(0,r.Ay)({baseUrl:e,headers:t?{Authorization:`Basic ${t}`}:{},fetch:async e=>{let t=await fetch(e,{cache:"no-store"});return(401===t.status||403===t.status)&&(0,n.redirect)("/set-api-key"),t}})},d=async e=>{let t=l();return(0,r.Ay)({baseUrl:t,headers:{Authorization:`Basic ${e}`},fetch:async e=>fetch(e,{cache:"no-store"})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23962:(e,t,a)=>{Promise.resolve().then(a.bind(a,52377))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39013:(e,t,a)=>{"use strict";a.d(t,{Indicator:()=>y,Root:()=>j});var r=a(65138),s=a(80484),n=a(34240),l=a(40871),o="Progress",[i,d]=(0,s.A)(o),[c,u]=i(o),x=r.forwardRef((e,t)=>{var a,r;let{__scopeProgress:s,value:o=null,max:i,getValueLabel:d=m,...u}=e;(i||0===i)&&!g(i)&&console.error((a=`${i}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=g(i)?i:100;null===o||b(o,x)||console.error((r=`${o}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let f=b(o,x)?o:null,p=v(f)?d(f,x):void 0;return(0,l.jsx)(c,{scope:s,value:f,max:x,children:(0,l.jsx)(n.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":h(f,x),"data-value":f??void 0,"data-max":x,...u,ref:t})})});x.displayName=o;var f="ProgressIndicator",p=r.forwardRef((e,t)=>{let{__scopeProgress:a,...r}=e,s=u(f,a);return(0,l.jsx)(n.sG.div,{"data-state":h(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});function m(e,t){return`${Math.round(e/t*100)}%`}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function b(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}p.displayName=f;var j=x,y=p},39832:(e,t,a)=>{"use strict";a.d(t,{AB:()=>i,J5:()=>d,Qp:()=>o,tH:()=>x,tJ:()=>u,w1:()=>c});var r=a(40871);a(65138);var s=a(65854),n=a(55866),l=a(75908);function o({...e}){return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function i({className:e,...t}){return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,l.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function d({className:e,...t}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,l.cn)("inline-flex items-center gap-1.5",e),...t})}function c({asChild:e,className:t,...a}){let n=e?s.Slot:"a";return(0,r.jsx)(n,{"data-slot":"breadcrumb-link",className:(0,l.cn)("hover:text-foreground transition-colors",t),...a})}function u({className:e,...t}){return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("text-foreground font-normal",e),...t})}function x({children:e,className:t,...a}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:size-3.5",t),...a,children:e??(0,r.jsx)(n.A,{})})}},51478:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=a(20863),s=a(38832),n=a(39682),l=a.n(n),o=a(11461),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d={children:["",{children:["background-tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,66936)),"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,14127)),"/Users/hanch/fal/lavender-data/ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,58206,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,63447,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,94716,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/background-tasks/page",pathname:"/background-tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},52377:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(40871),s=a(65138),n=a(39832),l=a(74469),o=a(39013),i=a(75908);function d({className:e,value:t,...a}){return(0,r.jsx)(o.Root,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...a,children:(0,r.jsx)(o.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}var c=a(85755),u=a(28214),x=a(26123);let f=(0,a(21228).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var p=a(36931);let m=(0,p.createServerReference)("404a84f417e995fa19c1ab0d9fc59c5011b6b0e514",p.callServer,void 0,p.findSourceMapURL,"abortTask");var h=a(82070);function v(){let[e,t]=(0,s.useState)(!0),[a,o]=(0,s.useState)([]),i=async()=>{t(!0),o(await (0,u.d1)()),t(!1)},p=async e=>{(await m(e)).success&&i()};return(0,r.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,r.jsx)(n.Qp,{className:"w-full pt-4",children:(0,r.jsxs)(n.AB,{children:[(0,r.jsx)(n.J5,{children:(0,r.jsx)(n.w1,{href:"/",children:"Home"})}),(0,r.jsx)(n.tH,{}),(0,r.jsx)(n.J5,{children:(0,r.jsx)(n.tJ,{children:"Background Tasks"})})]})}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"text-lg",children:"Background Tasks"}),(0,r.jsx)("div",{className:"flex flex-row gap-2",children:(0,r.jsxs)(x.$,{variant:"outline",onClick:i,children:[(0,r.jsx)(f,{className:"w-4 h-4"}),"Refresh"]})}),e?(0,r.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Loading..."}):a.length>0?(0,r.jsx)(l.Zp,{className:"w-full",children:(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{children:"ID"}),(0,r.jsx)(c.nd,{className:"min-w-[200px]",children:"Name"}),(0,r.jsx)(c.nd,{children:"Created"}),(0,r.jsx)(c.nd,{children:"Status"}),(0,r.jsx)(c.nd,{children:"Actions"})]})}),(0,r.jsx)(c.BF,{children:a.map(e=>{var t;return(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{className:"font-mono text-xs",children:e.uid}),(0,r.jsx)(c.nA,{children:e.name}),(0,r.jsx)(c.nA,{children:new Date((t=e.start_time)+(t.endsWith("Z")?"":"Z")).toLocaleString()}),(0,r.jsx)(c.nA,{children:e.status?(0,r.jsxs)("div",{className:"grid grid-cols-[120px_1fr] gap-2 items-center w-[300px]",children:[(0,r.jsx)(d,{className:"w-full",value:e.status.total>0?100*e.status.current/e.status.total:0}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.status.total>0?`${e.status.current} / ${e.status.total} `:"",e.status.status]})]}):"Unknown"}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)(h.Lt,{children:[(0,r.jsx)(h.tv,{asChild:!0,children:(0,r.jsx)(x.$,{variant:"destructive",children:"Abort"})}),(0,r.jsxs)(h.EO,{children:[(0,r.jsxs)(h.wd,{children:[(0,r.jsx)(h.r7,{children:"Are you sure?"}),(0,r.jsx)(h.$v,{children:"This action cannot be undone."})]}),(0,r.jsxs)(h.ck,{children:[(0,r.jsx)(h.Zr,{children:"Cancel"}),(0,r.jsx)(h.Rx,{onClick:()=>p(e.uid),children:"Continue"})]})]})]})})]},e.uid)})})]})})}):(0,r.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Nothing here yet."})]})]})}},55866:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(21228).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},60754:(e,t,a)=>{Promise.resolve().then(a.bind(a,66936))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66936:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(26259).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/ui/src/app/background-tasks/page.tsx","default")},74469:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>c});var r=a(40871);a(65138);var s=a(75908);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("flex flex-col gap-1.5 px-6",e),...t})}function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}function c({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6",e),...t})}},82070:(e,t,a)=>{"use strict";a.d(t,{Lt:()=>U,Rx:()=>M,Zr:()=>H,EO:()=>B,$v:()=>z,ck:()=>O,wd:()=>E,r7:()=>T,tv:()=>L});var r=a(40871),s=a(65138),n=a(47231),l=a(14343),o=a(32506),i=a(27642),d=a(65854),c="AlertDialog",[u,x]=(0,n.A)(c,[o.Hs]),f=(0,o.Hs)(),p=e=>{let{__scopeAlertDialog:t,...a}=e,s=f(t);return(0,r.jsx)(o.bL,{...s,...a,modal:!0})};p.displayName=c;var m=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=f(a);return(0,r.jsx)(o.l9,{...n,...s,ref:t})});m.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...a}=e,s=f(t);return(0,r.jsx)(o.ZL,{...s,...a})};h.displayName="AlertDialogPortal";var v=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=f(a);return(0,r.jsx)(o.hJ,{...n,...s,ref:t})});v.displayName="AlertDialogOverlay";var g="AlertDialogContent",[b,j]=u(g),y=(0,d.createSlottable)("AlertDialogContent"),w=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:n,...d}=e,c=f(a),u=s.useRef(null),x=(0,l.s)(t,u),p=s.useRef(null);return(0,r.jsx)(o.G$,{contentName:g,titleName:N,docsSlug:"alert-dialog",children:(0,r.jsx)(b,{scope:a,cancelRef:p,children:(0,r.jsxs)(o.UC,{role:"alertdialog",...c,...d,ref:x,onOpenAutoFocus:(0,i.m)(d.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(y,{children:n}),(0,r.jsx)($,{contentRef:u})]})})})});w.displayName=g;var N="AlertDialogTitle",k=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=f(a);return(0,r.jsx)(o.hE,{...n,...s,ref:t})});k.displayName=N;var A="AlertDialogDescription",R=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=f(a);return(0,r.jsx)(o.VY,{...n,...s,ref:t})});R.displayName=A;var P=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,n=f(a);return(0,r.jsx)(o.bm,{...n,...s,ref:t})});P.displayName="AlertDialogAction";var _="AlertDialogCancel",D=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:n}=j(_,a),i=f(a),d=(0,l.s)(t,n);return(0,r.jsx)(o.bm,{...i,...s,ref:d})});D.displayName=_;var $=({contentRef:e})=>{let t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},C=a(75908),I=a(26123);function U({...e}){return(0,r.jsx)(p,{"data-slot":"alert-dialog",...e})}function L({...e}){return(0,r.jsx)(m,{"data-slot":"alert-dialog-trigger",...e})}function S({...e}){return(0,r.jsx)(h,{"data-slot":"alert-dialog-portal",...e})}function q({className:e,...t}){return(0,r.jsx)(v,{"data-slot":"alert-dialog-overlay",className:(0,C.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function B({className:e,...t}){return(0,r.jsxs)(S,{children:[(0,r.jsx)(q,{}),(0,r.jsx)(w,{"data-slot":"alert-dialog-content",className:(0,C.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function E({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,C.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function O({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,C.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function T({className:e,...t}){return(0,r.jsx)(k,{"data-slot":"alert-dialog-title",className:(0,C.cn)("text-lg font-semibold",e),...t})}function z({className:e,...t}){return(0,r.jsx)(R,{"data-slot":"alert-dialog-description",className:(0,C.cn)("text-muted-foreground text-sm",e),...t})}function M({className:e,...t}){return(0,r.jsx)(P,{className:(0,C.cn)((0,I.r)(),e),...t})}function H({className:e,...t}){return(0,r.jsx)(D,{className:(0,C.cn)((0,I.r)({variant:"outline"}),e),...t})}},85755:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>o,Hj:()=>i,XI:()=>n,nA:()=>c,nd:()=>d});var r=a(40871);a(65138);var s=a(75908);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})})}function l({className:e,...t}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...t})}function o({className:e,...t}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t})}function i({className:e,...t}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function d({className:e,...t}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},86370:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"404a84f417e995fa19c1ab0d9fc59c5011b6b0e514":()=>n});var r=a(6391);a(80127);var s=a(17773);async function n(e){try{let t=await (await (0,s.KU)()).POST("/background-tasks/{task_uid}/abort",{params:{path:{task_uid:e}}});if(t.error){let e="Unknown error";return"string"==typeof t.error.detail&&(e=t.error.detail),{success:!1,error:e}}return{success:!0,data:t.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,a(63995).D)([n]),(0,r.A)(n,"404a84f417e995fa19c1ab0d9fc59c5011b6b0e514",null)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[294,94,585,463],()=>a(51478));module.exports=r})();