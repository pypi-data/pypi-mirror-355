
<peek-admin-panel-header-for-tuple-loader-delegate
    [delegate]="delegate"
    [deleteEnabled]="false"
    [createMode]="createMode != null"
></peek-admin-panel-header-for-tuple-loader-delegate>
<peek-admin-content-tuple-data-loader [delegate]="delegate">
    <ng-container *ngIf="delegate.formGroup$ | async as formGroup">
        <nz-card class="settings-card">
            <div class="form-container" [formGroup]="formGroup">
                <!-- ID Field (Disabled) -->
                <nz-form-item>
                    <nz-form-label nzFor="id">ID</nz-form-label>
                    <nz-form-control>
                        {{ formGroup.controls["id"].value }}
                    </nz-form-control>
                </nz-form-item>

                <!-- Import Hash -->
                <nz-form-item>
                    <nz-form-label nzFor="importHash">
                        Import Hash (Key)
                    </nz-form-label>
                    <nz-form-control>
                        <ng-container *ngIf="formGroup.controls['id'].value === null; else readOnlyImportHash">
                            <input
                                nz-input
                                id="importHash"
                                formControlName="importHash"
                                placeholder="Enter import hash"
                            />
                        </ng-container>
                        <ng-template #readOnlyImportHash>
                            {{ formGroup.controls["importHash"].value }}
                        </ng-template>
                    </nz-form-control>
                </nz-form-item>

                <nz-divider>Edit Settings</nz-divider>

                <!-- Basic Information -->
                <nz-form-item>
                    <nz-form-label nzRequired nzFor="name">Name </nz-form-label>
                    <nz-form-control nzErrorTip="Please input a name">
                        <input
                            nz-input
                            id="name"
                            formControlName="name"
                            placeholder="Layer name"
                            required
                        />
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-label nzFor="showForEdit"
                        >Show For Edit
                    </nz-form-label>
                    <nz-form-control>
                        <nz-switch
                            id="showForEdit"
                            formControlName="showForEdit"
                        ></nz-switch>
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-label nzFor="blockApiUpdate"
                        >Block API Update
                    </nz-form-label>
                    <nz-form-control>
                        <nz-switch
                            id="blockApiUpdate"
                            formControlName="blockApiUpdate"
                        ></nz-switch>
                    </nz-form-control>
                </nz-form-item>

                <nz-divider>Layer Settings</nz-divider>

                <nz-form-item>
                    <nz-form-label nzFor="order">Order</nz-form-label>
                    <nz-form-control>
                        <nz-input-number
                            id="order"
                            formControlName="order"
                        ></nz-input-number>
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-label nzFor="selectable">
                        Selectable
                    </nz-form-label>
                    <nz-form-control>
                        <nz-switch
                            id="selectable"
                            formControlName="selectable"
                        ></nz-switch>
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-label nzFor="visible"> Visible </nz-form-label>
                    <nz-form-control>
                        <nz-switch
                            id="visible"
                            formControlName="visible"
                        ></nz-switch>
                    </nz-form-control>
                </nz-form-item>

                <nz-form-item>
                    <nz-form-label nzFor="opacity"> Opacity </nz-form-label>
                    <nz-form-control>
                        <nz-input-number
                            id="opacity"
                            formControlName="opacity"
                            [nzMin]="0"
                            [nzMax]="1"
                            [nzStep]="0.1"
                        ></nz-input-number>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </nz-card>
    </ng-container>
</peek-admin-content-tuple-data-loader>