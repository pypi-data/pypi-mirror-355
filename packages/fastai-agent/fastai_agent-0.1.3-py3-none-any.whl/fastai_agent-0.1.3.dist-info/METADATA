Metadata-Version: 2.4
Name: fastai-agent
Version: 0.1.3
Summary: Fastai Agent - 一个基于 FastAPI 和 LangGraph 的智能代理框架
Project-URL: Homepage, https://github.com/yourusername/fastai-agent
Project-URL: Documentation, https://fastai-agent.readthedocs.io/
Project-URL: Repository, https://github.com/yourusername/fastai-agent.git
Project-URL: Issues, https://github.com/yourusername/fastai-agent/issues
Author-email: jackjack <your.email@example.com>
License: MIT
License-File: LICENSE
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.12
Requires-Dist: fastapi>=0.115.12
Requires-Dist: langchain-openai>=0.3.19
Requires-Dist: langchain>=0.3.25
Requires-Dist: langgraph>=0.4.7
Requires-Dist: pydantic>=2.11.5
Requires-Dist: python-dotenv>=1.1.0
Requires-Dist: tortoise-orm>=0.25.1
Requires-Dist: uvicorn>=0.34.3
Description-Content-Type: text/markdown

# Fastai Agent

基于 Tortoise ORM、FastAPI、Pydantic、LangChain 的智能数据库/接口自动化 Agent 框架。

## 特性

- 🎯 自然语言处理数据库操作
- 🔄 自动生成 CRUD 接口
- 📝 智能上下文管理
- 🔍 自动字段类型推断
- 🛡️ 完整的错误处理
- 📚 丰富的文档支持

## 安装

```bash
pip install fastai-agent
```

## 快速开始

### 1. 定义模型

```python
from fastai_agent import Model, Int, Char, Text, Json, Datetime, FK

class Project(Model):
    """项目模型，用于管理项目信息"""
    id = Int(pk=True)
    name = Char(max_length=100)
    description = Text()
    created_at = Datetime(auto_now_add=True)
    updated_at = Datetime(auto_now=True)

class Context(Model):
    """上下文模型，用于存储对话上下文"""
    id = Int(pk=True)
    project = FK(Project)
    content = Json()
    created_at = Datetime(auto_now_add=True)
```

### 2. 初始化 Agent

```python
from fastai_agent import Fastai
from tortoise import Tortoise

async def init_db():
    await Tortoise.init(
        db_url='sqlite://db.sqlite3',
        modules={'models': ['your_module']}
    )
    await Tortoise.generate_schemas()

# 初始化数据库
await init_db()

# 创建 Fastai 实例
agent = Fastai([Project, Context])
```

### 3. 使用自然语言查询

```python
# 创建项目
result = await agent.run("创建一个名为'测试项目'的项目")
print(result)

# 查询项目
result = await agent.run("查询所有项目")
print(result)

# 更新项目
result = await agent.run("更新ID为1的项目名称为'新项目名称'")
print(result)

# 删除项目
result = await agent.run("删除ID为1的项目")
print(result)
```

### 4. 使用 FastAPI 集成

```python
from fastapi import FastAPI
from fastai_agent import Fastai

app = FastAPI()
agent = Fastai([Project, Context])

@app.post("/query")
async def query(query: str):
    result = await agent.run(query)
    return {"result": result}
```

## 字段类型

- `Int`: 整数字段
- `Char`: 字符串字段（带最大长度限制）
- `Text`: 文本字段
- `Json`: JSON 字段
- `Datetime`: 日期时间字段
- `FK`: 外键关系
- `M2M`: 多对多关系

## 开发

### 环境设置

1. 克隆仓库：
```bash
git clone https://github.com/yourusername/fastai-agent.git
cd fastai-agent
```

2. 创建虚拟环境：
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. 安装依赖：
```bash
pip install -e ".[dev]"
```

### 运行测试

```bash
pytest
```

## 贡献

欢迎提交 Pull Request 和 Issue！

## 许可证

MIT License 