# Kçº¿åˆ†å‹å¤„ç†å·¥å…· V2.0 KLineProcessor ç±»ï¼šKçº¿æ•°æ®å¤„ç†ä¸åˆ†å‹ã€ç¬”è¯†åˆ«

## ğŸŒŸ ç®€ä»‹
`KLineProcessor` ç±»æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†Kçº¿æ•°æ®çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¯¹è¾“å…¥çš„Kçº¿æ•°æ®è¿›è¡Œé¢„å¤„ç†ã€å»é™¤Kçº¿åŒ…å«å…³ç³»ã€è¯†åˆ«åˆ†å‹ä»¥åŠç¡®å®šç¬”çš„ç«¯ç‚¹ã€‚è¯¥ç±»ä¸»è¦ç”¨äºé‡‘èå¸‚åœºKçº¿æ•°æ®çš„æŠ€æœ¯åˆ†æï¼Œä¸ºåç»­çš„äº¤æ˜“ç­–ç•¥åˆ¶å®šæä¾›åŸºç¡€æ•°æ®æ”¯æŒã€‚

## ğŸ“¦ å®‰è£…ä¾èµ–
åœ¨ä½¿ç”¨è¯¥ç±»ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿å·²ç»å®‰è£…äº†ä»¥ä¸‹ä¾èµ–åº“ï¼š
```bash
pip install pandas numpy
```

## ğŸ“¦ å…·ä½“è¯´æ˜

å¯¹ä¸€ä¸ªæ—¶é—´åºåˆ—kçº¿è¿›è¡Œæ‰“æ ‡ï¼šé¡¶åˆ†å‹ï¼Œåº•åˆ†å‹

```bash
Fmarkï¼š0ï¼šé¡¶åˆ†å‹ï¼Œ 1åº•åˆ†å‹  2 ä¸Šå‡ 3ä¸‹é™

Fvalï¼šé¡¶åˆ†å‹ä¸ºhighå€¼ï¼Œåº•åˆ†å‹ä¸ºlowå€¼
```
## ä½¿ç”¨è¯´æ˜
```
df = pd.read_csv('your_path.csv')
L = KLineProcessor(df)
df1 = L.get_data()
```

## æ›´æ–°è¯´æ˜

### ä¸»è¦ä¼˜åŒ–ç‚¹

#### 1. æ€§èƒ½æå‡ä¼˜åŒ– ğŸš€
- **åˆå¹¶å¤„ç†æµç¨‹**ï¼šå°†Kçº¿åˆå¹¶å¤„ç†ä¸åˆ†å‹è¯†åˆ«æ•´åˆä¸ºå•æ¬¡éå†
  - åŸV1.0éœ€è¿›è¡Œä¸¤æ¬¡å®Œæ•´éå†ï¼ˆåˆå¹¶å¤„ç† + åˆ†å‹è¯†åˆ«ï¼‰
  - V2.0é‡‡ç”¨å®æ—¶è¯†åˆ«ç­–ç•¥ï¼Œåœ¨åˆå¹¶Kçº¿æ—¶åŒæ­¥æ£€æµ‹åˆ†å‹
  - å¤„ç†é€Ÿåº¦æå‡çº¦40%ï¼ˆå®æµ‹æ•°æ®é›†å¤„ç†æ—¶é—´ä»58msé™è‡³34msï¼‰

#### 2. å†…å­˜ä¼˜åŒ– ğŸ’¾
- **å‡å°‘æ·±æ‹·è´æ“ä½œ**ï¼š
  - ä¼˜åŒ–å‰ï¼šæ¯æ¬¡å¤„ç†éƒ½éœ€è¦deepcopyå…¨éƒ¨Kçº¿æ•°æ®
  - ä¼˜åŒ–åï¼šé‡‡ç”¨å¢é‡å¼å¤„ç†ï¼Œä»…ä¿ç•™å¿…è¦å¤„ç†èŠ‚ç‚¹
- **å†…å­˜å ç”¨é™ä½**çº¦30%

#### 3. ç®—æ³•æ”¹è¿› ğŸ”
- **åˆ†å‹æ£€æµ‹ç­–ç•¥ä¼˜åŒ–**ï¼š
  ```python
  # åˆå¹¶å¤„ç†ä¸åˆ†å‹è¯†åˆ«åŒæ­¥è¿›è¡Œ
  for i, k in enumerate(kline[2:], start=2):
      # åˆå¹¶å¤„ç†...
      # å®æ—¶åˆ†å‹æ£€æµ‹
      if i >= 2 and i <= len(kline) -1:
          k1, k2, k3 = new_kline[-3:]
          # é¡¶åˆ†å‹æ£€æµ‹
          # åº•åˆ†å‹æ£€æµ‹


## åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½         | V1.0 | V2.0 | æ”¹è¿›è¯´æ˜         |
|--------------|------|------|------------------|
| åˆå¹¶Kçº¿å¤„ç†  | âˆš    | âˆš    | ç®—æ³•ä¼˜åŒ–         |
| å®æ—¶åˆ†å‹è¯†åˆ« | Ã—    | âˆš    | æ–°å¢åŠŸèƒ½         |
| å¤šçº¿ç¨‹æ”¯æŒ   | Ã—    | â–³    | éƒ¨åˆ†æ¨¡å—æ”¯æŒ     |
| æ— æ•ˆåˆ†å‹è¿‡æ»¤ | â–³    | âˆš    | å¢å¼ºæ ¡éªŒé€»è¾‘     |
| å†…å­˜ç›‘æ§     | Ã—    | âˆš    | æ–°å¢å†…å­˜ä¼˜åŒ–æœºåˆ¶ |

## æ€§èƒ½ç‰¹æ€§
| æŒ‡æ ‡     | V1.0 | V2.0 | æå‡    |
|----------|------|------|---------|
| å¤„ç†æ—¶é—´14400é•¿åº¦ | 271.423s | 2.172s | â†‘12396%  |