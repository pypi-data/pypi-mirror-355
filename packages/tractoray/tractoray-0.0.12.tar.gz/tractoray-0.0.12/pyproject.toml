[tool.poetry]
name = "tractoray"
version = "0.0.12"
authors = ["TractoAI team"]

include = ["*", "README.md", "tractoray.*"]
exclude = ["__pycache__", "*.pyc", ".mypy_cache"]

description = "Run ray on tracto.ai"
readme = "README.md"
homepage = "https://tracto.ai"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.dependencies]
python = ">=3.10,<4.0"
ytsaurus-client = ">=0.13.24"

[tool.poetry.group.ray.dependencies]
ray = { version = ">=2.43.0", extras = ["default"] }

[tool.poetry.group.tests.dependencies]
testcontainers-yt-local = { extras = ["pytest"], version = ">=0.10.0" }
pytest = "<9"
pytest_aiohttp = "<2"
ray = {extras = ["default"], version = "^2.43.0"}

mypy = "1.13.0"
isort = "5.13.2"
black = "24.4.2"
ruff = "0.8.0"

[tool.mypy]
disallow_untyped_defs = true
check_untyped_defs = true
strict = true

[[tool.mypy.overrides]]
module = "testcontainers_yt_local.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "yt.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "grpc.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "requests.*"
ignore_missing_imports = true

[tool.isort]
line_length = 120
multi_line_output = 3
force_grid_wrap = 2
lines_after_imports = 2
include_trailing_comma = true
force_sort_within_sections = true
sections = [
  "FUTURE",
  "STDLIB",
  "THIRDPARTY",
  "FIRSTPARTY",
  "LOCALFOLDER",
]

[tool.poetry.scripts]
tractoray = "tractoray.cli.cli:main"
