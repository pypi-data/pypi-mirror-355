(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1500],{50697:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations/[id]",function(){return t(13636)}])},67991:function(e,n,t){"use strict";t.d(n,{Od:function(){return o},QZ:function(){return a}});var i=t(27378);let a=e=>{let{items:n,selected:t,onChange:i}=e,a=n.every(e=>t.includes(e.id))&&!!n.length;return{allSelected:a,someSelected:n.some(e=>t.includes(e.id))&&!!n.length,handleToggleAll:()=>{a?i([]):i(n.map(e=>e.id))},handleToggleSelection:e=>{t.includes(e)?i(t.filter(n=>n!==e)):i([...t,e])}}},o=e=>{let{initialSelected:n,initialExcluded:t,initialAllSelected:a,itemCount:o}=e,[l,r]=(0,i.useState)(n),[s,d]=(0,i.useState)(t),[c,u]=(0,i.useState)(a||l.length===o),_=!!l.length||!!s.length;return{selected:l,excluded:s,allSelected:c,someSelected:_,handleToggleAll:()=>{c?(d([]),s.length||u(!1)):(r([]),u(!0))},handleToggleItemSelected:e=>{if(c)d(s.includes(e)?s.filter(n=>n!==e):[...s,e]);else{let n=l.includes(e)?l.filter(n=>n!==e):[...l,e];r(n),n.length===o&&u(!0)}}}}},90111:function(e,n,t){"use strict";var i=t(24246),a=t(62051);n.Z=e=>{let{children:n,...t}=e;return(0,i.jsx)(a.xuv,{p:4,mb:4,border:"1px solid",borderColor:"gray.200",bgColor:"gray.50",borderRadius:"md",...t,children:n})}},8411:function(e,n,t){"use strict";t.d(n,{NA:function(){return o},Z8:function(){return a}});var i=t(46420);let a={[i._F.ER]:"Eritrea",[i._F.DJ]:"Djibouti",[i._F.MR]:"Mauritania",[i._F.NA]:"Namibia",[i._F.GH]:"Ghana",[i._F.SS]:"South Sudan",[i._F.SC]:"Seychelles",[i._F.IO]:"British Indian Ocean Territory",[i._F.GQ]:"Equatorial Guinea",[i._F.AO]:"Angola",[i._F.CG]:"Republic of the Congo",[i._F.BW]:"Botswana",[i._F.BI]:"Burundi",[i._F.DZ]:"Algeria",[i._F.TD]:"Chad",[i._F.NG]:"Nigeria",[i._F.TZ]:"Tanzania",[i._F.EH]:"Western Sahara",[i._F.SN]:"Senegal",[i._F.LR]:"Liberia",[i._F.ZA]:"South Africa",[i._F.CV]:"Cape Verde",[i._F.GM]:"Gambia",[i._F.SD]:"Sudan",[i._F.KM]:"Comoros",[i._F.SZ]:"Eswatini",[i._F.UG]:"Uganda",[i._F.MG]:"Madagascar",[i._F.RW]:"Rwanda",[i._F.CD]:"DR Congo",[i._F.CM]:"Cameroon",[i._F.SH]:"Saint Helena, Ascension and Tristan da Cunha",[i._F.TG]:"Togo",[i._F.MU]:"Mauritius",[i._F.NE]:"Niger",[i._F.BJ]:"Benin",[i._F.EG]:"Egypt",[i._F.LS]:"Lesotho",[i._F.ET]:"Ethiopia",[i._F.MA]:"Morocco",[i._F.YT]:"Mayotte",[i._F.BF]:"Burkina Faso",[i._F.RE]:"R\xe9union",[i._F.ST]:"S\xe3o Tom\xe9 and Pr\xedncipe",[i._F.CF]:"Central African Republic",[i._F.MZ]:"Mozambique",[i._F.MW]:"Malawi",[i._F.ML]:"Mali",[i._F.ZM]:"Zambia",[i._F.LY]:"Libya",[i._F.GW]:"Guinea-Bissau",[i._F.SO]:"Somalia",[i._F.KE]:"Kenya",[i._F.GN]:"Guinea",[i._F.ZW]:"Zimbabwe",[i._F.TN]:"Tunisia",[i._F.SL]:"Sierra Leone",[i._F.GA]:"Gabon",[i._F.CI]:"Ivory Coast",[i._F.JO]:"Jordan",[i._F.PK]:"Pakistan",[i._F.KP]:"North Korea",[i._F.MO]:"Macau",[i._F.AM]:"Armenia",[i._F.SY]:"Syria",[i._F.TJ]:"Tajikistan",[i._F.SA]:"Saudi Arabia",[i._F.KR]:"South Korea",[i._F.NP]:"Nepal",[i._F.PH]:"Philippines",[i._F.IQ]:"Iraq",[i._F.LB]:"Lebanon",[i._F.MN]:"Mongolia",[i._F.PS]:"Palestine",[i._F.YE]:"Yemen",[i._F.JP]:"Japan",[i._F.KZ]:"Kazakhstan",[i._F.LK]:"Sri Lanka",[i._F.MM]:"Myanmar",[i._F.KG]:"Kyrgyzstan",[i._F.CN]:"China",[i._F.AF]:"Afghanistan",[i._F.OM]:"Oman",[i._F.IN]:"India",[i._F.LA]:"Laos",[i._F.UZ]:"Uzbekistan",[i._F.MV]:"Maldives",[i._F.ID]:"Indonesia",[i._F.VN]:"Vietnam",[i._F.MY]:"Malaysia",[i._F.TW]:"Taiwan",[i._F.KH]:"Cambodia",[i._F.AE]:"United Arab Emirates",[i._F.HK]:"Hong Kong",[i._F.GE]:"Georgia (Country)",[i._F.BD]:"Bangladesh",[i._F.KW]:"Kuwait",[i._F.TM]:"Turkmenistan",[i._F.QA]:"Qatar",[i._F.BH]:"Bahrain",[i._F.BN]:"Brunei",[i._F.TH]:"Thailand",[i._F.BT]:"Bhutan",[i._F.SG]:"Singapore",[i._F.IL]:"Israel",[i._F.AZ]:"Azerbaijan",[i._F.TL]:"Timor-Leste",[i._F.IR]:"Iran",[i._F.TR]:"Turkey",[i._F.MK]:"North Macedonia",[i._F.IE]:"Ireland",[i._F.DK]:"Denmark",[i._F.SK]:"Slovakia",[i._F.MD]:"Moldova",[i._F.AX]:"\xc5land Islands",[i._F.PL]:"Poland",[i._F.BA]:"Bosnia and Herzegovina",[i._F.SM]:"San Marino",[i._F.CZ]:"Czechia",[i._F.EE]:"Estonia",[i._F.XK]:"Kosovo",[i._F.FO]:"Faroe Islands",[i._F.SJ]:"Svalbard and Jan Mayen",[i._F.GG]:"Guernsey",[i._F.FR]:"France",[i._F.NL]:"Netherlands",[i._F.FI]:"Finland",[i._F.PT]:"Portugal",[i._F.DE]:"Germany",[i._F.MT]:"Malta",[i._F.JE]:"Jersey",[i._F.IS]:"Iceland",[i._F.ES]:"Spain",[i._F.GI]:"Gibraltar",[i._F.NO]:"Norway",[i._F.CY]:"Cyprus",[i._F.RS]:"Serbia",[i._F.LT]:"Lithuania",[i._F.MC]:"Monaco",[i._F.LU]:"Luxembourg",[i._F.UA]:"Ukraine",[i._F.IM]:"Isle of Man",[i._F.RO]:"Romania",[i._F.BE]:"Belgium",[i._F.SE]:"Sweden",[i._F.ME]:"Montenegro",[i._F.LV]:"Latvia",[i._F.VA]:"Vatican City",[i._F.AT]:"Austria",[i._F.AL]:"Albania",[i._F.LI]:"Liechtenstein",[i._F.GR]:"Greece",[i._F.IT]:"Italy",[i._F.AD]:"Andorra",[i._F.GB]:"United Kingdom",[i._F.RU]:"Russia",[i._F.SI]:"Slovenia",[i._F.BY]:"Belarus",[i._F.CH]:"Switzerland",[i._F.HU]:"Hungary",[i._F.BG]:"Bulgaria",[i._F.HR]:"Croatia",[i._F.TC]:"Turks and Caicos Islands",[i._F.CW]:"Cura\xe7ao",[i._F.GP]:"Guadeloupe",[i._F.UM]:"United States Minor Outlying Islands",[i._F.GT]:"Guatemala",[i._F.PM]:"Saint Pierre and Miquelon",[i._F.BQ]:"Caribbean Netherlands",[i._F.GL]:"Greenland",[i._F.SX]:"Sint Maarten",[i._F.PA]:"Panama",[i._F.AW]:"Aruba",[i._F.MQ]:"Martinique",[i._F.AG]:"Antigua and Barbuda",[i._F.BM]:"Bermuda",[i._F.CU]:"Cuba",[i._F.GD]:"Grenada",[i._F.NI]:"Nicaragua",[i._F.LC]:"Saint Lucia",[i._F.KN]:"Saint Kitts and Nevis",[i._F.DO]:"Dominican Republic",[i._F.VC]:"Saint Vincent and the Grenadines",[i._F.BZ]:"Belize",[i._F.HT]:"Haiti",[i._F.JM]:"Jamaica",[i._F.BS]:"Bahamas",[i._F.MX]:"Mexico",[i._F.MF]:"Saint Martin",[i._F.SV]:"El Salvador",[i._F.BL]:"Saint Barth\xe9lemy",[i._F.AI]:"Anguilla",[i._F.MS]:"Montserrat",[i._F.VG]:"British Virgin Islands",[i._F.BB]:"Barbados",[i._F.HN]:"Honduras",[i._F.KY]:"Cayman Islands",[i._F.DM]:"Dominica",[i._F.TT]:"Trinidad and Tobago",[i._F.CR]:"Costa Rica",[i._F.SR]:"Suriname",[i._F.CX]:"Christmas Island",[i._F.WS]:"Samoa",[i._F.PF]:"French Polynesia",[i._F.AS]:"American Samoa",[i._F.NC]:"New Caledonia",[i._F.TK]:"Tokelau",[i._F.PW]:"Palau",[i._F.KI]:"Kiribati",[i._F.VU]:"Vanuatu",[i._F.PN]:"Pitcairn Islands",[i._F.CK]:"Cook Islands",[i._F.FJ]:"Fiji",[i._F.PG]:"Papua New Guinea",[i._F.MP]:"Northern Mariana Islands",[i._F.NU]:"Niue",[i._F.TV]:"Tuvalu",[i._F.NF]:"Norfolk Island",[i._F.TO]:"Tonga",[i._F.FM]:"Micronesia",[i._F.SB]:"Solomon Islands",[i._F.NR]:"Nauru",[i._F.WF]:"Wallis and Futuna",[i._F.GU]:"Guam",[i._F.AU]:"Australia",[i._F.NZ]:"New Zealand",[i._F.MH]:"Marshall Islands",[i._F.CC]:"Cocos (Keeling) Islands",[i._F.VE]:"Venezuela",[i._F.PY]:"Paraguay",[i._F.BR]:"Brazil",[i._F.CO]:"Colombia",[i._F.PE]:"Peru",[i._F.CL]:"Chile",[i._F.UY]:"Uruguay",[i._F.AR]:"Argentina",[i._F.GY]:"Guyana",[i._F.BO]:"Bolivia",[i._F.GF]:"French Guiana",[i._F.EC]:"Ecuador",[i._F.FK]:"Falkland Islands",[i._F.US_AL]:"Alabama",[i._F.US_AK]:"Alaska",[i._F.US_AZ]:"Arizona",[i._F.US_AR]:"Arkansas",[i._F.US_CA]:"California",[i._F.US_CO]:"Colorado",[i._F.US_CT]:"Connecticut",[i._F.US_DE]:"Delaware",[i._F.US_DC]:"District of Columbia (DC)",[i._F.US_FL]:"Florida",[i._F.US_GA]:"Georgia",[i._F.US_HI]:"Hawaii",[i._F.US_ID]:"Idaho",[i._F.US_IL]:"Illinois",[i._F.US_IN]:"Indiana",[i._F.US_IA]:"Iowa",[i._F.US_KS]:"Kansas",[i._F.US_KY]:"Kentucky",[i._F.US_LA]:"Louisiana",[i._F.US_ME]:"Maine",[i._F.US_MD]:"Maryland",[i._F.US_MA]:"Massachusetts",[i._F.US_MI]:"Michigan",[i._F.US_MN]:"Minnesota",[i._F.US_MS]:"Mississippi",[i._F.US_MO]:"Missouri",[i._F.US_MT]:"Montana",[i._F.US_NE]:"Nebraska",[i._F.US_NV]:"Nevada",[i._F.US_NH]:"New Hampshire",[i._F.US_NJ]:"New Jersey",[i._F.US_NM]:"New Mexico",[i._F.US_NY]:"New York",[i._F.US_NC]:"North Carolina",[i._F.US_ND]:"North Dakota",[i._F.US_OH]:"Ohio",[i._F.US_OK]:"Oklahoma",[i._F.US_OR]:"Oregon",[i._F.US_PA]:"Pennsylvania",[i._F.US_PR]:"Puerto Rico",[i._F.US_RI]:"Rhode Island",[i._F.US_SC]:"South Carolina",[i._F.US_SD]:"South Dakota",[i._F.US_TN]:"Tennessee",[i._F.US_TX]:"Texas",[i._F.US_UT]:"Utah",[i._F.US_VA]:"Virginia",[i._F.US_VI]:"United States Virgin Islands",[i._F.US_VT]:"Vermont",[i._F.US_WA]:"Washington",[i._F.US_WV]:"West Virginia",[i._F.US_WI]:"Wisconsin",[i._F.US_WY]:"Wyoming",[i._F.CA_AB]:"Alberta",[i._F.CA_BC]:"British Columbia",[i._F.CA_MB]:"Manitoba",[i._F.CA_NB]:"New Brunswick",[i._F.CA_NL]:"Newfoundland and Labrador",[i._F.CA_NS]:"Nova Scotia",[i._F.CA_ON]:"Ontario",[i._F.CA_PE]:"Prince Edward Island",[i._F.CA_QC]:"Quebec",[i._F.CA_SK]:"Saskatchewan",[i._F.CA_NT]:"Northwest Territories",[i._F.CA_NU]:"Nunavut",[i._F.CA_YT]:"Yukon",[i._F.CA]:"Canada",[i._F.US]:"United States",[i._F.MEXICO_CENTRAL_AMERICA]:"Mexico and Central America",[i._F.CARIBBEAN]:"Caribbean",[i._F.EEA]:"European Economic Area (EEA)",[i._F.NON_EEA]:"Non European Economic Area",[i._F.GLOBAL]:"Global"},o=new Map(Object.entries(a));Object.entries(a).map(e=>({value:e[0],label:e[1]}))},79494:function(e,n,t){"use strict";var i=t(24246),a=t(62051);n.Z=e=>{let{title:n,icon:t,type:o,...l}=e;return(0,i.jsx)(a.wpx,{size:"small",type:o,"data-testid":"action-".concat(n),icon:t,iconPosition:"start",...l,children:n})}},60325:function(e,n,t){"use strict";t.d(n,{DD:function(){return r},Go:function(){return s},TK:function(){return a},Uv:function(){return c},k1:function(){return o},y3:function(){return u}});var i=t(46420);let a=e=>{var n;return null!==(n=null==e?void 0:e.filter(e=>e.selected).map(e=>e.id))&&void 0!==n?n:[]},o=e=>{var n;return null!==(n=null==e?void 0:e.filter(e=>e.selected))&&void 0!==n?n:[]},l=[{language:i.eU.EN,is_default:!0,title:"Title",description:"Description",accept_button_label:"Accept",reject_button_label:"Reject",save_button_label:"Save",acknowledge_button_label:"OK",privacy_preferences_link_label:"Privacy Preferences"}],r={name:"",disabled:!1,dismissable:!0,allow_language_selection:!1,show_layer1_notices:!1,layer1_button_options:i.Of.OPT_IN_OPT_OUT,regions:[],translations:l,auto_detect_language:!0,auto_subdomain_cookie_deletion:!0},s=(e,n)=>{let t=n.find(n=>n.id===e.language);return t?t.name:e.language},d=e=>{var n,t,i,a,o,l,r,s,d;let{language:c,is_default:u,accept_button_label:_,reject_button_label:m}=e;return{language:c,is_default:u,accept_button_label:_,reject_button_label:m,title:e.title,description:e.description,acknowledge_button_label:null!==(n=e.acknowledge_button_label)&&void 0!==n?n:void 0,banner_title:null!==(t=e.banner_title)&&void 0!==t?t:void 0,banner_description:null!==(i=e.banner_description)&&void 0!==i?i:void 0,purpose_header:null!==(a=e.purpose_header)&&void 0!==a?a:void 0,privacy_policy_link_label:null!==(o=e.privacy_policy_link_label)&&void 0!==o?o:void 0,privacy_policy_url:null!==(l=e.privacy_policy_url)&&void 0!==l?l:void 0,privacy_preferences_link_label:null!==(r=e.privacy_preferences_link_label)&&void 0!==r?r:void 0,save_button_label:null!==(s=e.save_button_label)&&void 0!==s?s:void 0,modal_link_label:null!==(d=e.modal_link_label)&&void 0!==d?d:void 0}},c=e=>{let{created_at:n,updated_at:t,privacy_notices:i,origin:a,id:o,...l}=e;return{...l,privacy_notice_ids:i?i.map(e=>e.id):[],translations:e.translations?e.translations.map(e=>d(e)):[]}},u=e=>e===i.re.PRIVACY_CENTER?{title:{included:!0,required:!0},description:{included:!0,required:!0},save_button_label:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},modal_link_label:{included:!0}}:e===i.re.MODAL?{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0},modal_link_label:{included:!0}}:e===i.re.BANNER_AND_MODAL?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:e===i.re.TCF_OVERLAY?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},purpose_header:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}:{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0},modal_link_label:{included:!0}}},13636:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eP}});var i=t(24246),a=t(62051),o=t(86677),l=t(7617),r=t(77213),s=t(77830),d=t(58754),c=t(94725),u=t(45216),_=t(52352),m=t(92222),g=t(59003),h=t(27378),F=t(18225);let p=(0,a.IUT)({displayName:"MonitorIcon",viewBox:"0 0 12 12",path:(0,i.jsx)("path",{d:"M1.33333 2.21875C1.15 2.21875 1 2.37344 1 2.5625V5.65625H3.66667C3.84167 5.65625 4.00417 5.75078 4.09583 5.90762L4.62708 6.8207L5.88542 4.22324C5.96667 4.05566 6.13125 3.94609 6.3125 3.93965C6.49375 3.9332 6.66667 4.02773 6.76042 4.18887L7.61458 5.65625H8.83333C9.11042 5.65625 9.33333 5.88613 9.33333 6.17188C9.33333 6.45762 9.11042 6.6875 8.83333 6.6875H7.33333C7.15833 6.6875 6.99583 6.59297 6.90417 6.43613L6.37292 5.52305L5.11458 8.12051C5.03333 8.28809 4.86875 8.39766 4.6875 8.4041C4.50625 8.41055 4.33333 8.31602 4.23958 8.15488L3.38542 6.6875H1V9.4375C1 9.62656 1.15 9.78125 1.33333 9.78125H10.6667C10.85 9.78125 11 9.62656 11 9.4375V2.5625C11 2.37344 10.85 2.21875 10.6667 2.21875H1.33333ZM0 2.5625C0 1.8041 0.597917 1.1875 1.33333 1.1875H10.6667C11.4021 1.1875 12 1.8041 12 2.5625V9.4375C12 10.1959 11.4021 10.8125 10.6667 10.8125H1.33333C0.597917 10.8125 0 10.1959 0 9.4375V2.5625Z",fill:"currentColor"})});var x=t(8411),b=t(14481),y=t(70675),v=t(812),f=t(14047),S=t(8133),C=t(46628),j=t(67991),N=t(46238);let T=(0,m.Cl)();var A=e=>{let{items:n,totalItemCount:t,selected:o,excluded:l,allSelected:r,someSelected:s,moreLoading:d,handleToggleSelection:c,handleToggleAll:u,onMoreClick:_}=e,p=n.map(e=>({id:e,isSelected:o.includes(e),isExcluded:l.includes(e)})),x=(0,h.useMemo)(()=>[T.display({id:"select",cell:e=>{let{row:n}=e;return(0,i.jsx)(b.k,{isChecked:n.original.isSelected||r&&!n.original.isExcluded,onChange:()=>c(n.original.id),dataTestId:"".concat(n.original.id,"-checkbox")})},header:()=>(0,i.jsx)(b.k,{isChecked:r,isIndeterminate:s,onChange:u,dataTestId:"select-all-checkbox"}),size:1}),T.accessor(e=>e.id,{id:"id",cell:e=>(0,i.jsx)(b.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(b.Rr,{value:"Scope",...e})})],[c,u,r,s]),y=(0,g.b7)({getCoreRowModel:(0,m.sC)(),getRowId:e=>e.id,manualPagination:!0,data:p,columns:x,columnResizeMode:"onChange"});return(0,i.jsx)(a.kCb,{w:"full",direction:"column",maxH:"lg",children:(0,i.jsx)(b.ZK,{tableInstance:y,onRowClick:e=>c(e.id),footer:!!_&&(0,i.jsx)(b.vr,{totalColumns:2,children:(0,i.jsx)(a.kCb,{justify:"center",children:d?(0,i.jsx)(F.Z,{size:"xs"}):(0,i.jsxs)(a.kCb,{align:"center",children:[(0,i.jsxs)(a.xvT,{fontSize:"xs",mr:4,children:["Showing ",n.length," of ",t]}),(0,i.jsx)(a.wpx,{onClick:_,size:"small","data-testid":"load-more-btn",children:"Load more..."})]})})})})})};let k={items:[],total:1,page:1,size:50,pages:0};var w=(e,n)=>{let[t,i]=(0,h.useState)(2),{data:a,isLoading:o}=(0,y.oN)({page:1,size:25,connection_config_key:e}),l=(0,h.useRef)(o),{items:r,total:s}=null!=a?a:k,d=!!(null==a?void 0:a.pages)&&t>a.pages,[c,u]=(0,h.useState)(r);(0,h.useEffect)(()=>{l.current=o,u(r)},[o,r]),(0,h.useEffect)(()=>{let e=setTimeout(()=>{l.current&&n&&n()},5e3);return()=>clearTimeout(e)},[]);let[_,{isLoading:m,isFetching:g}]=(0,y.j3)(),F=m||g||o,p=async()=>{var n,a;if(d)return;let o=await _({connection_config_key:e,size:25,page:t+1});o.isError||(i(t+1),u([...c,...null!==(a=null===(n=o.data)||void 0===n?void 0:n.items)&&void 0!==a?a:[]]))};return{databases:c,totalDatabases:s,fetchMore:p,initialIsLoading:o,isLoading:F,reachedEnd:d}},M=e=>{var n;let{monitor:t,isEditing:o,isSubmitting:l,integrationKey:r,onSubmit:s,onClose:d}=e,c=(0,a.pmc)(),{databases:u,totalDatabases:_,fetchMore:m,reachedEnd:g,isLoading:h,initialIsLoading:p}=w(r,()=>{s({...t,databases:[]}),c({...C.MA,status:"info",description:"Loading resources is taking longer than expected. The monitor has been saved and is tracking all available resources. You can return later to limit its scope if needed"}),d()}),x=null!==(n=null==t?void 0:t.databases)&&void 0!==n?n:[],{selected:b,excluded:y,allSelected:v,someSelected:f,handleToggleItemSelected:S,handleToggleAll:T}=(0,j.Od)({initialSelected:x,initialExcluded:[],initialAllSelected:o&&!x.length,itemCount:_}),k=!v&&0===b.length;return p?(0,i.jsx)(F.Z,{my:12}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.kCb,{p:4,direction:"column",children:[(0,i.jsxs)(a.kCb,{direction:"row",mb:4,gap:1,align:"center",children:[(0,i.jsx)(a.xvT,{fontSize:"sm",children:"Select projects to monitor"}),(0,i.jsx)(N.b,{label:"Selecting a project will monitor all current and future datasets within that project."})]}),(0,i.jsx)(A,{items:u,totalItemCount:_,selected:b,excluded:y,allSelected:v,someSelected:f,moreLoading:h,handleToggleSelection:S,handleToggleAll:T,onMoreClick:g?void 0:m})]}),(0,i.jsxs)("div",{className:"mt-4 flex w-full justify-between",children:[(0,i.jsx)(a.wpx,{onClick:d,children:"Cancel"}),(0,i.jsx)(a.esZ,{title:k?"Select one or more projects to save":void 0,children:(0,i.jsx)(a.wpx,{onClick:()=>{s({...t,excluded_databases:y,databases:v?[]:b})},loading:l,type:"primary","data-testid":"save-btn",disabled:k,children:"Save"})})]})]})},E=t(64892),D=t(6680),U=t(54743);function I(e,n){let t,i;let a=()=>(0,D.L)(n?.in,NaN),o=n?.additionalDigits??2,l=function(e){let n;let t={},i=e.split(R.dateTimeDelimiter);if(i.length>2)return t;if(/:/.test(i[0])?n=i[0]:(t.date=i[0],n=i[1],R.timeZoneDelimiter.test(t.date)&&(t.date=e.split(R.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){let e=R.timezone.exec(n);e?(t.time=n.replace(e[1],""),t.timezone=e[1]):t.time=n}return t}(e);if(l.date){let e=function(e,n){let t=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(t);if(!i)return{year:NaN,restDateString:""};let a=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((i[1]||i[2]).length)}}(l.date,o);t=function(e,n){if(null===n)return new Date(NaN);let t=e.match(L);if(!t)return new Date(NaN);let i=!!t[4],a=P(t[1]),o=P(t[2])-1,l=P(t[3]),r=P(t[4]),s=P(t[5])-1;if(i)return r>=1&&r<=53&&s>=0&&s<=6?function(e,n,t){let i=new Date(0);i.setUTCFullYear(e,0,4);let a=i.getUTCDay()||7;return i.setUTCDate(i.getUTCDate()+((n-1)*7+t+1-a)),i}(n,r,s):new Date(NaN);{let e=new Date(0);return o>=0&&o<=11&&l>=1&&l<=(B[o]||(Z(n)?29:28))&&a>=1&&a<=(Z(n)?366:365)?(e.setUTCFullYear(n,o,Math.max(a,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!t||isNaN(+t))return a();let r=+t,s=0;if(l.time&&isNaN(s=function(e){let n=e.match(q);if(!n)return NaN;let t=z(n[1]),i=z(n[2]),a=z(n[3]);return(24===t?0===i&&0===a:a>=0&&a<60&&i>=0&&i<60&&t>=0&&t<25)?t*E.vh+i*E.yJ+1e3*a:NaN}(l.time)))return a();if(l.timezone){if(isNaN(i=function(e){if("Z"===e)return 0;let n=e.match(O);if(!n)return 0;let t="+"===n[1]?-1:1,i=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return a>=0&&a<=59?t*(i*E.vh+a*E.yJ):NaN}(l.timezone)))return a()}else{let e=new Date(r+s),t=(0,U.Q)(0,n?.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,U.Q)(r+s+i,n?.in)}let R={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},L=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,O=/^([+-])(\d{2})(?::?(\d{2}))?$/;function P(e){return e?parseInt(e):1}function z(e){return e&&parseFloat(e.replace(",","."))||0}let B=[31,null,31,30,31,30,31,31,30,31,30,31];function Z(e){return e%400==0||e%4==0&&e%100!=0}var G=t(96063),V=t(34090),H=t(55484),K=t(97181),W=t(40324),Y=t(11013);let J=e=>{let{layout:n="stacked",...t}=e,{data:a}=(0,Y.eV)({page:1,size:100}),o=null==a?void 0:a.items.map(e=>({label:e.name,value:e.id}));return(0,i.jsx)(K.d,{tooltip:"If a shared monitor config is selected, the monitor will use the shared config to classify resources",options:o,label:"Shared monitor config",layout:n,...t})};var Q=t(46420),X=e=>{var n,t,l;let{monitor:r,integrationOption:s,isSubmitting:d,databasesAvailable:c,onClose:u,onAdvance:_,onSubmit:m}=e,g=!!r,h=(0,o.useRouter)(),F=Array.isArray(h.query.id)?h.query.id[0]:h.query.id,p=H.Ry().shape({name:H.Z_().required().label("Name"),execution_frequency:H.Z_().nullable().label("Execution frequency"),execution_start_date:H.hT().nullable().label("Execution start date")}),x=(null==r?void 0:r.execution_start_date)?I(r.execution_start_date):Date.now(),b={name:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:"",shared_config_id:null!==(t=null==r?void 0:r.shared_config_id)&&void 0!==t?t:void 0,execution_start_date:(0,G.WU)(x,"yyyy-MM-dd'T'HH:mm"),execution_frequency:null!==(l=null==r?void 0:r.execution_frequency)&&void 0!==l?l:Q.hV.MONTHLY},y=(0,v.MM)(Q.hV);return(0,i.jsx)(V.J9,{initialValues:b,enableReinitialize:!0,onSubmit:e=>{let n=e.execution_frequency!==Q.hV.NOT_SCHEDULED?{execution_frequency:e.execution_frequency,execution_start_date:new Date(e.execution_start_date).toISOString()}:{execution_frequency:Q.hV.NOT_SCHEDULED,execution_start_date:void 0},t=g?{...r,...n,name:e.name,shared_config_id:e.shared_config_id}:{...n,name:e.name,shared_config_id:e.shared_config_id,connection_config_key:F,classify_params:{num_samples:25,num_threads:1}};s.identifier===Q.Rj.DYNAMODB&&(t.datasource_params={single_dataset:!1}),c?_(t):m(t)},validationSchema:p,children:e=>{let{values:n,isValid:t,resetForm:o}=e;return(0,i.jsx)(V.l0,{children:(0,i.jsxs)(a.gCW,{alignItems:"start",spacing:6,mt:4,children:[(0,i.jsx)(W.j0,{name:"name",id:"name",label:"Name",isRequired:!0,variant:"stacked"}),(0,i.jsx)(K.d,{name:"execution_frequency",id:"execution_frequency",tooltip:"Interval to run the monitor automatically after the start date",options:y,label:"Automatic execution frequency",layout:"stacked"}),(0,i.jsx)(J,{name:"shared_config_id",id:"shared_config_id"}),(0,i.jsx)(W.YL,{name:"execution_start_date",label:"Automatic execution start time",disabled:n.execution_frequency===Q.hV.NOT_SCHEDULED,id:"execution_start_date"}),(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(a.wpx,{onClick:()=>{o(),u()},children:"Cancel"}),(0,i.jsx)(a.wpx,{htmlType:"submit",type:"primary",disabled:!t,loading:d,"data-testid":"next-btn",children:c?"Next":"Save"})]})]})})}})},$=t(90111),ee=t(64781),en=t(60325);let et=H.Ry().shape({name:H.Z_().required().label("Name"),execution_frequency:H.Z_().nullable().label("Execution frequency"),execution_start_date:H.hT().nullable().label("Execution start date"),datasource_params:H.Ry().shape({locations:H.IX().label("Locations"),exclude_domains:H.IX().label("Exclude domains"),sitemap_url:H.Z_().nullable().url().label("Sitemap URL")})});var ei=e=>{var n,t,l,r;let{monitor:s,url:d,onClose:c,onSubmit:u}=e,_=(0,o.useRouter)(),m=Array.isArray(_.query.id)?_.query.id[0]:_.query.id,g=(null==s?void 0:s.execution_start_date)?I(s.execution_start_date):Date.now(),{data:h,isLoading:F}=(0,ee.gT)(),p=[...(0,en.TK)(null!==(n=null==h?void 0:h.locations)&&void 0!==n?n:[]),...(0,en.TK)(null!==(t=null==h?void 0:h.location_groups)&&void 0!==t?t:[])].map(e=>({value:e,label:x.Z8[e]})),b={name:(null==s?void 0:s.name)||"",shared_config_id:null!==(l=null==s?void 0:s.shared_config_id)&&void 0!==l?l:void 0,execution_frequency:(null==s?void 0:s.execution_frequency)||Q.hV.NOT_SCHEDULED,execution_start_date:(0,G.WU)(g,"yyyy-MM-dd'T'HH:mm"),url:d,connection_config_key:m,datasource_params:null!==(r=null==s?void 0:s.datasource_params)&&void 0!==r?r:{locations:[]}},y=async e=>{let n=e.execution_frequency!==Q.hV.NOT_SCHEDULED?{execution_frequency:e.execution_frequency,execution_start_date:new Date(e.execution_start_date).toISOString()}:{execution_frequency:Q.hV.NOT_SCHEDULED,execution_start_date:void 0};u({...s,...e,...n,key:null==s?void 0:s.key,classify_params:(null==s?void 0:s.classify_params)||{},datasource_params:e.datasource_params||{},connection_config_key:m})},f=(0,v.MM)(Q.hV).filter(e=>[Q.hV.MONTHLY,Q.hV.QUARTERLY,Q.hV.YEARLY,Q.hV.NOT_SCHEDULED].includes(e.value));return(0,i.jsxs)(a.jqI,{vertical:!0,className:"pt-4",children:[(0,i.jsx)($.Z,{children:(0,i.jsx)(a.xvT,{fontSize:"sm",children:"This monitor allows you to simulate and verify user consent actions, such as 'accept,' 'reject,' or 'opt-out,' on consent experiences. For each detected activity, the monitor will record whether it occurred before or after the configured user actions, ensuring compliance with user consent choices."})}),(0,i.jsx)(V.J9,{initialValues:b,enableReinitialize:!0,onSubmit:y,validationSchema:et,children:e=>{let{values:n,resetForm:t}=e;return(0,i.jsx)(V.l0,{children:(0,i.jsxs)(a.jqI,{vertical:!0,gap:"middle",children:[(0,i.jsx)(W.j0,{name:"name",id:"name",label:"Name",isRequired:!0,variant:"stacked"}),(0,i.jsx)(W.j0,{name:"datasource_params.sitemap_url",id:"sitemap_url",label:"Sitemap URL",variant:"stacked"}),(0,i.jsx)(K.d,{mode:"tags",name:"datasource_params.exclude_domains",placeholder:"Enter domains to exclude",id:"exclude_domains",label:"Exclude domains",options:[],open:!1,layout:"stacked"}),(0,i.jsx)(W.j0,{name:"url",id:"url",label:"URL",isRequired:!0,disabled:!0,variant:"stacked"}),(0,i.jsx)(K.d,{mode:"multiple",isRequired:!0,name:"datasource_params.locations",id:"locations",label:"Locations",loading:F,options:p,optionFilterProp:"label",tooltip:"Specify the region(s) to include in the scan. The monitor will scan the same URL across these locations to identify tracking technologies, such as cookies served by ad tech vendors.",layout:"stacked"}),(0,i.jsx)(J,{name:"shared_config_id",id:"shared_config_id"}),(0,i.jsx)(K.d,{name:"execution_frequency",id:"execution_frequency",options:f,label:"Automatic execution frequency",layout:"stacked"}),(0,i.jsx)(W.YL,{name:"execution_start_date",label:"Automatic execution start time",disabled:n.execution_frequency===Q.hV.NOT_SCHEDULED,id:"execution_start_date",tooltip:"Set the start time for the scan. For optimal performance and minimal disruption, schedule scans during periods of low traffic."}),(0,i.jsxs)(a.jqI,{className:"mt-2 justify-between",children:[(0,i.jsx)(a.wpx,{onClick:()=>{t(),c()},children:"Cancel"}),(0,i.jsx)(a.wpx,{type:"primary",htmlType:"submit","data-testid":"save-btn",children:"Save"})]})]})})}})]})},ea=t(31883),eo=e=>{let{isOpen:n,onClose:t,formStep:o,onAdvance:l,monitor:r,isEditing:s,integration:d,integrationOption:c,isWebsiteMonitor:u}=e,[_,{isLoading:m}]=(0,y.Fy)(),{data:g}=(0,y.oN)({page:1,size:25,connection_config_key:d.key}),h=!!g&&!!g.total,p=(0,a.pmc)(),{successAlert:x,errorAlert:b}=(0,f.V)(),j=async e=>{let n;let i=setTimeout(()=>{n||(p({...C.MA,status:"info",description:"Saving this monitor is taking longer than expected. Fides will continue processing it in the background, and you can check back later to view the updates."}),t())},5e3);if(n=await _(e)){if(clearTimeout(i),(0,ea.D4)(n)){b((0,v.e$)(n.error),"Error creating monitor");return}if(s){x("Monitor updated successfully"),t();return}if(u){x(e.execution_frequency===Q.hV.NOT_SCHEDULED?'Your monitor has been created with no schedule.  Select "Scan" in the table below to begin scanning your website.':"Your monitor has been created and is now scanning your website. Once the monitor is finished scanning, results can be found in the action center."),t();return}x("Monitor created successfully"),t()}};return u?(0,i.jsx)(S.Z,{title:(null==r?void 0:r.name)?"Configure ".concat(r.name):"Configure website monitor",isOpen:n,onClose:t,children:(0,i.jsx)(ei,{monitor:r,url:d.secrets.url,onClose:t,onSubmit:j})}):(0,i.jsxs)(S.Z,{title:(null==r?void 0:r.name)?"Configure ".concat(r.name):"Configure discovery monitor",isOpen:n,onClose:t,children:[0===o&&(0,i.jsx)(X,{monitor:r,onClose:t,onAdvance:l,onSubmit:j,isSubmitting:m,databasesAvailable:h,integrationOption:c}),1===o&&(r?(0,i.jsx)(M,{monitor:r,isEditing:s,isSubmitting:m,onSubmit:j,onClose:t,integrationKey:d.key}):(0,i.jsx)(F.Z,{}))]})},el=e=>{let{defaultSuccessMsg:n,defaultErrorMsg:t}=e,{successAlert:i,errorAlert:a}=(0,f.V)();return{toastResult:e=>{(0,v.D4)(e)?a((0,v.e$)(e.error,t)):i(n)}}},er=t(58452),es=t(79494),ed=e=>{let{monitorId:n,isWebsiteMonitor:t,onEditClick:o}=e,[l]=(0,y.Sb)(),{toastResult:r}=el({defaultErrorMsg:"A problem occurred deleting this monitor",defaultSuccessMsg:"Monitor deleted successfully"}),[s,{isLoading:d}]=(0,y.V9)(),{toastResult:c}=el({defaultErrorMsg:"A problem occurred initiating monitor execution",defaultSuccessMsg:t?"Scanning your website now. Once the monitor is finished, results can be found in the action center.":"Monitor execution successfully started"}),u=async()=>{r(await l({monitor_config_id:n}))},{isOpen:_,onOpen:m,onClose:g}=(0,a.qY0)(),h=async()=>{c(await s({monitor_config_id:n}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(er.Z,{isOpen:_,onClose:g,onConfirm:u,title:"Delete monitor",message:"Are you sure you want to delete this discovery monitor?",continueButtonText:"Delete",isCentered:!0}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(a.esZ,{title:"Edit",children:(0,i.jsx)(a.wpx,{onClick:o,size:"small",icon:(0,i.jsx)(a.dY8,{}),"data-testid":"edit-monitor-btn","aria-label":"Edit monitor"})}),(0,i.jsx)(a.esZ,{title:"Delete",children:(0,i.jsx)(a.wpx,{onClick:m,size:"small",icon:(0,i.jsx)(a.pJl,{}),"aria-label":"Delete monitor","data-testid":"delete-monitor-btn"})}),(0,i.jsx)(es.Z,{onClick:h,title:"Scan",loading:d})]})]})},ec=t(72625);let eu=e=>{let{row:n,getValue:t}=e,[a]=(0,y.Fy)(),o=async e=>a({...n.original,enabled:e}),l=t();return(0,i.jsx)(ec.S1,{enabled:l,onToggle:o,title:"Disabling monitor",message:"You are about to disable this monitor. If you continue, it will no longer scan automatically."})};var e_=t(7195),em=t(16394),eg=t(16964),eh=t.n(eg),eF=e=>{var n,t;let{monitor:o}=e,l=null===(n=o.execution_records)||void 0===n?void 0:n[0],{isOpen:r,onOpen:s,onClose:d}=(0,a.qY0)(),c=o.last_monitored?new Date(o.last_monitored):null,u=c?(0,em.p6)(c):"N/A",_=c?(0,e_.B)(c,new Date,{addSuffix:!0}):"N/A";return l?l.status===Q.L2.IN_PROGRESS?c?(0,i.jsx)(a.esZ,{title:"Last scan: ".concat(_),children:(0,i.jsx)(a.j8w,{color:"info",children:"Scanning"})}):(0,i.jsx)(a.j8w,{color:"info",children:"Scanning"}):l.status===Q.L2.COMPLETED?(0,i.jsx)(a.esZ,{title:u,children:(0,i.jsx)(a.j8w,{color:"success","data-testid":"tag-success",children:_})}):l.status===Q.L2.ERRORED?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.j8w,{color:"error",className:eh().monitorStatusTag,"data-testid":"tag-error",children:(0,i.jsx)("button",{onClick:s,className:eh().errorTagText,type:"button",children:"Incomplete"})}),(0,i.jsxs)(a.dys,{isOpen:r,onClose:d,size:"md",children:[(0,i.jsx)(a.P1B,{}),(0,i.jsxs)(a.scA,{"data-testid":"error-log-drawer",children:[(0,i.jsx)(a.OXI,{children:"Failure log"}),(0,i.jsx)(a.cCv,{}),(0,i.jsxs)(a.Ng0,{children:[l.completed&&(0,i.jsx)(a.AntTypography.Paragraph,{className:eh().errorResultTimestamp,children:(0,em.p6)(new Date(l.completed))}),null===(t=l.messages)||void 0===t?void 0:t.map((e,n)=>(0,i.jsxs)(h.Fragment,{children:[(0,i.jsx)(a.AntTypography.Paragraph,{"data-testid":"error-log-message",children:e}),n<l.messages.length-1&&(0,i.jsx)(a.izJ,{className:"mb-3"})]},n))]})]})]})]}):(0,i.jsx)(a.j8w,{children:"N/A"}):(0,i.jsx)(a.j8w,{children:"N/A"})};let ep={items:[],total:0,page:1,size:50,pages:0},ex={[Q.Rj.WEBSITE]:"Configure your website monitor to identify active ad tech vendors and tracking technologies across your site. This monitor will analyze selected pages for vendor activity, compliance with privacy requirements, and data collection practices. Set your preferences below to customize the monitor frequency and scan locations.",[Q.Rj.OKTA]:"Configure your SSO provider monitor to detect and map systems within your infrastructure. This monitor will analyze connected systems to identify their activity and ensure accurate representation in your data map. Set your preferences below to customize the monitor&apos;s scan frequency and scope. To learn more about monitors, view our docs here."},eb=(0,m.Cl)();var ey=e=>{var n;let{integration:t,integrationOption:o}=e,l=(null==o?void 0:o.identifier)===Q.Rj.WEBSITE,r=(null==o?void 0:o.type)===Q.Zi.SAAS,{PAGE_SIZES:s,pageSize:d,setPageSize:c,onPreviousPageClick:u,isPreviousPageDisabled:_,onNextPageClick:v,isNextPageDisabled:f,startRange:S,endRange:C,pageIndex:j,setTotalPages:N}=(0,b.oi)(),{isLoading:T,isFetching:A,data:k}=(0,y.Fu)({page:j,size:d,connection_config_key:t.key}),w=(0,a.qY0)(),[M,E]=(0,h.useState)(void 0),[D,U]=(0,h.useState)(!1),[I,R]=(0,h.useState)(0),L=e=>{E(e),U(!0),w.onOpen()},q=null!=k?k:ep,{items:O,total:P,pages:z}=(0,h.useMemo)(()=>q,[q]);(0,h.useEffect)(()=>{N(z)},[z,N]);let B=(0,h.useMemo)(()=>{let e=eb.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(b.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(b.Rr,{value:"Name",...e})}),n=eb.accessor(e=>e.databases,{id:"projects",cell:e=>{var n;return(null===(n=e.getValue())||void 0===n?void 0:n.length)===0?(0,i.jsx)(b.G3,{value:"All projects"}):(0,i.jsx)(b.WP,{suffix:"Projects",value:e.getValue(),...e,cellState:{isExpanded:!0}})},header:e=>(0,i.jsx)(b.Rr,{value:"Scope",...e})}),a=eb.accessor(()=>{let e=t.secrets;return null==e?void 0:e.url},{id:"source_url",cell:e=>{var n;return(0,i.jsx)(b.G3,{value:null!==(n=e.getValue())&&void 0!==n?n:"Not scheduled"})},header:e=>(0,i.jsx)(b.Rr,{value:"Source URL",...e})}),o=eb.accessor(e=>e.execution_frequency,{id:"frequency",cell:e=>{var n;return(0,i.jsx)(b.G3,{value:null!==(n=e.getValue())&&void 0!==n?n:"Not scheduled"})},header:e=>(0,i.jsx)(b.Rr,{value:"Scan frequency",...e})}),r=eb.display({id:"monitor_status",cell:e=>(0,i.jsx)(eF,{monitor:e.row.original}),header:e=>(0,i.jsx)(b.Rr,{value:"Scan status",...e}),meta:{disableRowClick:!0}}),s=eb.accessor(e=>{var n;let t=e.datasource_params;return(null==t?void 0:null===(n=t.locations)||void 0===n?void 0:n.map(e=>x.Z8[e]).join(", "))||"No regions selected"},{id:"regions",cell:e=>(0,i.jsx)(b.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(b.Rr,{value:"Regions",...e})}),d=eb.accessor(e=>e.enabled,{id:"status",cell:eu,header:e=>(0,i.jsx)(b.Rr,{value:"Status",...e}),size:0,meta:{disableRowClick:!0}}),c=eb.display({id:"action",cell:e=>(0,i.jsx)(ed,{onEditClick:()=>L(e.row.original),isWebsiteMonitor:l,monitorId:e.row.original.key}),header:"Actions",meta:{disableRowClick:!0}});return l?[e,a,o,s,r,d,c]:[e,n,o,r,d,c]},[]),Z=(0,g.b7)({getCoreRowModel:(0,m.sC)(),getGroupedRowModel:(0,m.qe)(),getExpandedRowModel:(0,m.rV)(),getRowId:e=>e.name,manualPagination:!0,data:O,columns:B,columnResizeMode:"onChange"});if(T)return(0,i.jsx)(F.Z,{});let G=r&&O.length>0,V=null!==(n=ex[null==o?void 0:o.identifier])&&void 0!==n?n:"A data discovery monitor observes configured systems for data model changes to proactively discover and classify data risks. Monitors can observe part or all of a project, dataset, table, or API for changes and each can be assigned to a different data steward.";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.xvT,{maxW:"720px",mb:6,fontSize:"sm","data-testid":"monitor-description",children:V}),(0,i.jsxs)(b.Q$,{children:[(0,i.jsx)(a.LZC,{}),G?(0,i.jsx)(a.ua7,{label:"API integrations only use a single monitor",children:(0,i.jsx)("span",{children:(0,i.jsx)(a.wpx,{onClick:w.onOpen,icon:(0,i.jsx)(p,{}),iconPosition:"end","data-testid":"add-monitor-btn",disabled:!0,children:"Add monitor"})})}):(0,i.jsx)(a.wpx,{onClick:w.onOpen,icon:(0,i.jsx)(p,{}),iconPosition:"end","data-testid":"add-monitor-btn",children:"Add monitor"}),(0,i.jsx)(eo,{isOpen:w.isOpen,onClose:()=>{E(void 0),U(!1),R(0),w.onClose()},formStep:I,onAdvance:e=>{E(e),R(1)},monitor:M,isEditing:D,integration:t,integrationOption:o,isWebsiteMonitor:l})]}),(0,i.jsx)(b.ZK,{tableInstance:Z,onRowClick:L,emptyTableNotice:(0,i.jsx)(e=>{let{onAddClick:n}=e;return(0,i.jsx)(a.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:(0,i.jsxs)(a.gCW,{children:[(0,i.jsx)(a.xvT,{fontSize:"md",fontWeight:"600",children:"No monitors"}),(0,i.jsx)(a.xvT,{fontSize:"sm",children:'You have not configured any data discovery monitors. Click "Add monitor" to configure data discovery now.'}),(0,i.jsx)(a.wpx,{onClick:n,type:"primary",children:"Add monitor"})]})})},{onAddClick:w.onOpen})}),(0,i.jsx)(b.s8,{totalRows:P||0,pageSizes:s,setPageSize:c,onPreviousPageClick:u,isPreviousPageDisabled:_||A,onNextPageClick:v,isNextPageDisabled:f||A,startRange:S,endRange:C})]})},ev=t(41966),ef=t(32885),eS=e=>{let{integration:n}=e,{data:t}=(0,c.Eg)(n.key),{data:o}=(0,ev.LH)({minimal:!0,connection_type:Q.Rj.BIGQUERY}),[l,{isLoading:r}]=(0,ef.Qd)(),s=(0,a.pmc)(),d=async()=>{try{var e,i,a,r,d;let c=null!==(a=null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.map(e=>e.fides_key))&&void 0!==a?a:[],u=null!==(r=null==o?void 0:o.map(e=>e.fides_key))&&void 0!==r?r:[],_=c.length>0?c:u,m=await l({connectionKey:n.key,datasetIds:_}),g=null!==(d=null===(i=m.data)||void 0===i?void 0:i.succeeded.length)&&void 0!==d?d:0,h="Fides has begun syncing with DataHub. There ".concat(1===g?"is":"are"," ").concat(g," dataset").concat(1===g?"":"s"," queued for syncing.");s((0,C.t5)(h))}catch(e){s({title:"Error syncing datasets",description:"There was an error syncing your datasets with DataHub. Please try again.",status:"error",duration:5e3,isClosable:!0})}};return(0,i.jsxs)(a.gCW,{spacing:6,align:"stretch",children:[(0,i.jsxs)(a.gCW,{spacing:4,align:"stretch",children:[(0,i.jsx)(a.xvT,{maxW:"720px",fontSize:"sm","data-testid":"scan-description-1",children:"If you're using DataHub for metadata management, select sync datasets to push data categories from Fides to your DataHub datasets."}),(0,i.jsxs)(a.xvT,{maxW:"720px",fontSize:"sm","data-testid":"scan-description-2",children:["Fides assigns data categories to datasets based on your privacy taxonomy. With this integration, those categories can be added as glossary terms to matching datasets in DataHub-keeping your labeling consistent across systems. To learn more about our DataHub integration, view our docs ",(0,i.jsx)(a.rUS,{href:"https://ethyca.com/docs/user-guides/integrations/saas-integrations/datahub",isExternal:!0,color:"blue.500",textDecoration:"underline",children:"here"}),"."]})]}),(0,i.jsx)(a.zxk,{colorScheme:"primary",onClick:d,"data-testid":"sync-button",width:"fit-content",isLoading:r,loadingText:"Syncing datasets...",children:"Sync Datasets"})]})},eC=t(15987),ej=t(64176),eN=e=>{var n;let{isOpen:t,onClose:a,connection:o,description:l}=e,r=(0,ej.Z)(o.connection_type,null==o?void 0:null===(n=o.saas_config)||void 0===n?void 0:n.type);return(0,i.jsx)(S.Z,{title:"Manage ".concat(null==o?void 0:o.name," integration"),isOpen:t,onClose:a,children:(0,i.jsx)(eC.Z,{connection:o,connectionOption:r,onCancel:a,description:l})})},eT=t(41553),eA=t(93633),ek=t(75595),ew=t(29379);let eM=e=>{let{testData:n,connectionOption:t}=e;return(null==t?void 0:t.authorization_required)?{title:"Authorize integration",description:(0,i.jsx)("span",{children:(null==n?void 0:n.authorized)?"Integration authorized successfully":"Authorize access to your integration"}),state:(null==n?void 0:n.authorized)?"finish":"process"}:null},eE=()=>({title:"Create integration",description:"Integration created successfully",state:"finish"}),eD=e=>{var n,t,i;let{data:a}=(0,y.Fu)({connection_config_key:null===(n=e.testData)||void 0===n?void 0:n.connectionKey,page:1,size:1},{skip:!(null===(t=e.testData)||void 0===t?void 0:t.connectionKey)}),o=!!(null==a?void 0:null===(i=a.items)||void 0===i?void 0:i.length);return{title:"Create monitor",description:o?"Data monitor created successfully":"Use the Data discovery tab in this page to add a new monitor",state:o?"finish":"process"}};var eU=t(79894),eI=t.n(eU);let eR=e=>{let{connection:n}=e,t=!!(null==n?void 0:n.system_key),o=t?s.Dv.replace("[id]",n.system_key):s.So;return{title:"Link system",description:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eI(),{href:o,passHref:!0,children:(0,i.jsx)(a.FKJ,{children:"System linked"})})," ","successfully"]}):(0,i.jsxs)(i.Fragment,{children:["Link this integration to"," ",(0,i.jsx)(eI(),{href:o,passHref:!0,children:(0,i.jsx)(a.FKJ,{children:"one of your systems"})}),". Use the 'Link integration' button in the Integrations tab."]}),state:t?"finish":"process"}},eL=e=>{let{testData:n,testIsLoading:t,connectionOption:o,connection:l}=e,r=eE(),s=eM({testData:n,testIsLoading:t,connectionOption:o}),d=eD({testData:n,testIsLoading:t,connectionOption:o}),c=eR({testData:n,testIsLoading:t,connectionOption:o,connection:l}),u=(0,h.useMemo)(()=>[r,s,d,c].filter(e=>null!==e),[r,s,d,c]),_=(0,h.useMemo)(()=>u.map(e=>({...e,icon:"finish"===e.state?(0,i.jsx)(a.PJP.WzW,{size:24}):void 0})),[u]);return(0,i.jsx)(a.V4A,{title:"Integration setup","data-testid":"integration-setup-card",children:(0,i.jsx)(a.XX8,{direction:"vertical",current:(()=>{let e=u.findIndex(e=>"finish"!==e.state);return -1===e&&u.length>0?u.length-1:e})(),status:(()=>{let e=u.findIndex(e=>"finish"!==e.state);return -1===e?"finish":u[e].state})(),items:_,size:"small"})})};var eq=t(40774),eO=t(80388),eP=()=>{var e,n,t;let{query:m}=(0,o.useRouter)(),g=Array.isArray(m.id)?m.id[0]:m.id,{data:h,isLoading:F}=(0,c.jA)(null!=g?g:""),p=null==h?void 0:null===(e=h.saas_config)||void 0===e?void 0:e.type,x=(0,ej.Z)(null==h?void 0:h.connection_type,p&&Object.values(eO.m).includes(p)?p:void 0),{testConnection:b,isLoading:y,testData:v}=(0,u.Z)(h),{handleAuthorize:f,needsAuthorization:S}=(0,eA.z)({connection:h,connectionOption:x,testData:v}),{onOpen:C,isOpen:j,onClose:N}=(0,a.qY0)(),{overview:T,instructions:A,description:k,tags:w,enabledFeatures:M}=(0,_.ZP)(null==h?void 0:h.connection_type),E=(0,o.useRouter)();h&&!_.jq.includes(h.connection_type)&&E.push(s.KH);let D=null==w?void 0:w.includes("Detection"),U=(null==h?void 0:h.connection_type)!==Q.Rj.MANUAL_WEBHOOK,I=[];return(null==M?void 0:M.includes(ew.j.WITHOUT_CONNECTION))?I.push({label:"Details",content:(0,i.jsxs)(a.xuv,{maxW:"720px",children:[(0,i.jsx)(a.kCb,{children:(0,i.jsx)(a.wpx,{onClick:C,"data-testid":"manage-btn",children:"Edit integration"})}),(0,i.jsx)(eN,{isOpen:j,onClose:N,connection:h,description:k}),T,A]})}):I.push({label:"Connection",content:(0,i.jsxs)(a.xuv,{maxW:"720px",children:[U&&(0,i.jsxs)(a.kCb,{borderRadius:"md",outline:"1px solid",outlineColor:"gray.100",align:"center",p:3,children:[(0,i.jsx)(a.kCb,{flexDirection:"column",children:(0,i.jsx)(eT.Z,{testData:v,connectionOption:x})}),(0,i.jsx)(a.LZC,{}),(0,i.jsxs)("div",{className:"flex gap-4",children:[S&&(0,i.jsx)(a.wpx,{onClick:f,"data-testid":"authorize-integration-btn",children:"Authorize integration"}),!S&&(0,i.jsx)(a.wpx,{onClick:b,loading:y,"data-testid":"test-connection-btn",children:"Test connection"}),(0,i.jsx)(a.wpx,{onClick:C,"data-testid":"manage-btn",children:"Manage"})]})]}),(0,i.jsx)(eN,{isOpen:j,onClose:N,connection:h,description:k}),T,A]})}),(null==M?void 0:M.includes(ew.j.DATA_SYNC))&&I.push({label:"Data sync",content:(0,i.jsx)(eS,{integration:h})}),(null==M?void 0:M.includes(ew.j.DATA_DISCOVERY))&&I.push({label:"Data discovery",content:(0,i.jsx)(ey,{integration:h,integrationOption:x})}),(0,i.jsx)(r.Z,{title:"Integrations",children:(0,i.jsx)(d.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations",href:s.KH},{title:null!==(t=null!==(n=null==h?void 0:h.name)&&void 0!==n?n:null==h?void 0:h.key)&&void 0!==t?t:""}],children:(0,i.jsxs)(a.jqI,{gap:24,children:[(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsx)(eq.Z,{}),(0,i.jsx)(ek.Z,{integration:h,showDeleteButton:!0}),F?(0,i.jsx)(a.$jN,{}):!!h&&(0,i.jsx)(l.Z,{data:I,border:"full-width",isLazy:!0})]}),D&&(0,i.jsx)("div",{className:"w-[350px] shrink-0",children:(0,i.jsx)(eL,{testData:v,testIsLoading:y,connectionOption:x,connection:h})})]})})})}},16964:function(e){e.exports={errorResultTimestamp:"MonitorStatusCell_errorResultTimestamp__DQQWt",errorTagText:"MonitorStatusCell_errorTagText___MiU0"}}},function(e){e.O(0,[8033,6060,2858,2866,9278,3662,641,7553,4481,6202,155,2888,9774,179],function(){return e(e.s=50697)}),_N_E=e.O()}]);