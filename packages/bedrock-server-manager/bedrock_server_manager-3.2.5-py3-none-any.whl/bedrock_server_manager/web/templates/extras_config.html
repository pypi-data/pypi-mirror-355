{# bedrock-server-manager/bedrock_server_manager/web/templates/extras_config.html #}
{% extends "base.html" %}

{# --- Page Title --- #}
{% block title %}Extra Configuration - {{ super() }}{% endblock %}

{# --- Page Specific Styles --- #}
{% block head_styles %}
{{ super() }} {# Include styles from base if needed #}
{# Include table styles if not already globally included/needed (Optional, uncomment if needed for this page) #}
{#
<link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}"> #}

<style>
    /* Styles copied directly from getting_started.html */
    /* Apply styles within this container */
    .extras-config-container {
        /* Content will inherit padding/styles from the main .container in base.html */
    }

        .extras-config-container h1 { /* Main Page Title */
            margin-bottom: 0.8em;
            padding-bottom: 0.5em; /* Added padding */
            border-bottom: 1px solid #666; /* Added border */
            font-size: 2em;
            color: #eee; /* Ensure color consistency */
        }

        .extras-config-container h2 { /* Major Section */
            margin-top: 2em;
            margin-bottom: 1em;
            padding-bottom: 0.5em;
            border-bottom: 1px solid #666;
            font-size: 1.8em;
            color: #eee; /* Match h1 color */
        }

        .extras-config-container h3 { /* Sub-Section */
            margin-top: 1.8em;
            margin-bottom: 0.8em;
            font-size: 1.4em;
            color: #e0e0e0;
            /* Optional: Add subtle border */
            /* border-bottom: 1px dotted #555; */
            /* padding-bottom: 0.3em; */
        }

        /* Add H4/H5 if needed, copied from getting_started */
        .extras-config-container h4 {
            margin-top: 1.5em;
            margin-bottom: 0.6em;
            font-size: 1.2em;
            color: #dcdcdc;
        }

        .extras-config-container h5 {
            margin-top: 1.3em;
            margin-bottom: 0.5em;
            font-size: 1.1em;
            font-weight: 600;
            color: #cccccc;
        }


        .extras-config-container p {
            line-height: 1.6;
            margin-bottom: 1em;
            color: #eee; /* Ensure consistent text color */
        }

        .extras-config-container ul,
        .extras-config-container ol {
            margin-left: 25px; /* Indentation */
            margin-bottom: 1.5em;
            padding-left: 15px; /* Add padding for list marker */
            color: #eee; /* Ensure consistent text color */
        }

            .extras-config-container ul ul,
            .extras-config-container ol ol,
            .extras-config-container ul ol, /* Handle mixed nesting */
            .extras-config-container ol ul {
                margin-top: 0.5em;
                margin-bottom: 1em;
                margin-left: 20px; /* Additional indent */
            }

        .extras-config-container li {
            margin-bottom: 0.6em;
            line-height: 1.5;
        }

        .extras-config-container code { /* Inline code */
            background-color: #4a4a4a;
            padding: 0.2em 0.4em;
            border-radius: 0; /* Match sharp corners */
            font-size: 0.9em;
            font-family: "Consolas", "Monaco", "Courier New", monospace;
            color: #f0f0f0;
            word-break: break-word; /* Allow wrapping */
        }

        .extras-config-container pre { /* Code blocks */
            background-color: #282828; /* Darker code block bg */
            border: 1px solid #444; /* Slightly lighter border than default */
            padding: 12px 15px; /* Adjust padding */
            font-family: "Consolas", "Monaco", "Courier New", monospace;
            font-size: 0.9em;
            line-height: 1.4;
            overflow-x: auto;
            white-space: pre; /* Keep pre formatting for commands */
            border-radius: 0px;
            margin-top: 0.5em;
            margin-bottom: 1.5em;
            color: #e0e0e0;
            max-width: 100%; /* Prevent overflow */
            box-sizing: border-box;
        }

            .extras-config-container pre code { /* Reset inline style within pre */
                background-color: transparent;
                padding: 0;
                border-radius: 0;
                font-size: inherit;
                color: inherit;
                white-space: inherit; /* Inherit pre's whitespace handling */
                display: inline; /* Should be inline within pre */
                word-break: normal; /* Don't force break inside pre code */
            }

    /* Style for the back link */
    .back-to-docs-link {
        display: inline-block;
        margin-bottom: 1.5em;
        font-size: 0.95em;
    }

        .back-to-docs-link a {
            color: #90CAF9;
            text-decoration: none;
        }

            .back-to-docs-link a:hover {
                color: #BBDEFB;
                text-decoration: underline;
            }

    /* Horizontal Rule styling */
    .extras-config-container hr {
        border: 0;
        height: 1px;
        background-color: #555;
        margin-top: 2em;
        margin-bottom: 2em;
    }

    /* Responsive adjustments (copied from getting_started.html) */
    @media (max-width: 768px) {
        .extras-config-container h1 {
            font-size: 1.8em;
        }

        .extras-config-container h2 {
            font-size: 1.6em;
            margin-top: 1.8em;
        }

        .extras-config-container h3 {
            font-size: 1.3em;
            margin-top: 1.6em;
        }

        .extras-config-container h4 {
            font-size: 1.15em;
            margin-top: 1.4em;
        }

        .extras-config-container h5 {
            font-size: 1.05em;
            margin-top: 1.2em;
        }

        .extras-config-container ol, .extras-config-container ul {
            margin-left: 20px;
            padding-left: 10px;
        }
    }

    @media (max-width: 480px) {
        .extras-config-container h1 {
            font-size: 1.6em;
        }

        .extras-config-container h2 {
            font-size: 1.45em;
            margin-top: 1.6em;
        }

        .extras-config-container h3 {
            font-size: 1.25em;
            margin-top: 1.5em;
        }

        .extras-config-container h4 {
            font-size: 1.1em;
            margin-top: 1.3em;
        }

        .extras-config-container h5 {
            font-size: 1em;
            margin-top: 1.1em;
        }

        .extras-config-container ol, .extras-config-container ul {
            margin-left: 15px;
            padding-left: 10px;
        }

        .extras-config-container pre {
            font-size: 0.85em;
            padding: 10px;
        }

        .extras-config-container code {
            font-size: 0.85em;
        }
    }
</style>
{% endblock %}


{# --- Main Content --- #}
{% block content %}
<div class="extras-config-container">
    {# Use a specific class or reuse getting-started-container #}

    <h1>Extra Configuration & Customization</h1>

    {# --- Optional: Link back to the Documentation Index --- #}
    <p class="back-to-docs-link">
        <a href="{{ url_for('doc_routes.doc_index') }}">← Back to Documentation Index</a>
    </p>

    {# --- Custom Web Server Panorama Section --- #}
    <h2>Custom Web Server Panorama</h2>
    <p>You can personalize the background panorama displayed on the main web server page.</p>

    <p><strong>Steps:</strong></p>
    <ol>
        <li>Choose your desired background image. It <strong>must</strong> be a JPEG file (with a <code>.jpeg</code> extension).</li>
        <li>Navigate to the Bedrock Server Manager's configuration directory, typically located at <code>./.config/</code> relative to the manager's installation path.</li>
        <li>Place your chosen image file into this <code>./.config/</code> directory.</li>
        <li>Rename the image file exactly to <code>panorama.jpeg</code>.</li>
        <li>Refresh the web server page in your browser. The new panorama should now be displayed.</li>
    </ol>

    <p><strong>Recommended Size:</strong></p>
    <p>For the best results with the default scrolling panorama effect, consider these guidelines for your <code>panorama.jpeg</code>:</p>
    <ul>
        <li><strong>Aspect Ratio:</strong> Aim for a wide panoramic aspect ratio, such as <strong>4:1</strong> (width to height). Ratios like 3:1 or even wider can also work well.</li>
        <li><strong>Example Dimensions:</strong> A good starting point for a 4:1 ratio is approximately <strong>4800 pixels wide by 1200 pixels high</strong>.</li>
        <li><strong>Minimum Height:</strong> Ensure the image has enough vertical detail; a height of at least <strong>1000-1200 pixels</strong> is recommended to look sharp with the default "zoomed-in" styling.</li>
        <li><strong>Optimization:</strong> <strong>Crucially</strong>, optimize the JPEG file size after choosing dimensions. Aim for a balance between quality and size (ideally under 1MB, significantly less if possible) for faster loading.</li>
    </ul>

    <p><strong>Default Behavior:</strong></p>
    <p>If the file <code>./.config/panorama.jpeg</code> is not found or is not a valid JPEG image, the default Bedrock Server Manager icon will be used as the background panorama.</p>

    {# --- Separator --- #}
    <hr>

    {# --- World Icons Section --- #}
    <h2>World Icons</h2>
    <p>The "Servers List" page within the web interface can display unique icons for each of your Minecraft worlds, making them easier to identify at a glance.</p>

    <p><strong>How it Works:</strong></p>
    <p>The server manager looks for a file named <code>world_icon.jpeg</code> inside each world's specific folder.</p>

    <p><strong>Adding Icons:</strong></p>
    <ul>
        <li><strong>Imported Worlds / Client-Created Worlds:</strong> Worlds that were imported or originally created using the Minecraft client (Bedrock Edition) often already include a <code>world_icon.jpeg</code> file within their folder structure. No extra steps may be needed.</li>
        <li>
            <strong>Dedicated Server-Created Worlds:</strong> Worlds generated directly by the Bedrock Dedicated Server software usually <em>do not</em> have this icon file by default. You can add one manually:
            <ol>
                <li>Obtain or create an image you want to use as the icon (JPEG format, <code>.jpeg</code>). A square aspect ratio often looks best.</li>
                <li>Locate the specific world folder for the server you want to customize. This is typically found within the server's directory structure (e.g., <code>./servers/your_server_name/worlds/your_world_name/</code>).</li>
                <li>Copy your chosen image file into this specific world folder.</li>
                <li>Rename the image file exactly to <code>world_icon.jpeg</code>.</li>
                <li>The icon should appear the next time the server list is loaded or refreshed in the web interface.</li>
            </ol>
        </li>
    </ul>

    <p><strong>Default Behavior:</strong></p>
    <p>If a <code>world_icon.jpeg</code> file is not found within a specific world's directory, the default Bedrock Server Manager icon will be displayed for that world in the server list.</p>

    {# --- Optional: Back link at the bottom --- #}
    <hr style="margin-top: 3em;">
    <p class="back-to-docs-link">
        <a href="{{ url_for('doc_routes.doc_index') }}">← Back to Documentation Index</a>
    </p>

</div> {# End .extras-config-container #}
{% endblock %}

{# --- Page Specific Body Scripts (Optional) --- #}
{% block body_scripts %}
{{ super() }}
    {# Add any JS specific to this page if needed #}
{% endblock %}