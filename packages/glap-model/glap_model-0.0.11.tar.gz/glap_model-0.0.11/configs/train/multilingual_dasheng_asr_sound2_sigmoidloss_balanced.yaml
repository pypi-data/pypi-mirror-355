outputpath: experiments/glap/
model: GLAP
model_args:
  audio_encoder: DashengWrapper
  audio_encoder_args:
    model_name: audiotransformer_base.dasheng.10s
    pretrained: True
  text_encoder: TextEncoderSonarWrapper 
  text_encoder_args: {}
  embed_size: 1024
  embed_regularization: True
  temperature: 0.07
train_data:
  audio:
    - data/translations/ACD/train_acd/train_acd_0000{000..188}.tar
    - data/translations/SoundVECaps/*tar
    - data/translations/WavCaps/soundbible/soundbible_train_000000.tar.gz
    - data/translations/WavCaps/bbc/bbc_train_sample_0000{00..16}.tar.gz
    - data/translations/WavCaps/freesound/*tar.gz
    - data/translations/WavCaps/audioset/*tar.gz
    - data/translations/AudioCaps/*tar.gz
    - data/translations/Clotho/*.tar.gz
    - data/translations/AudiosetCaps/audioset/*tar
    - data/translations/AudiosetCaps/vggsound/*tar
    - data/translations/MusicCaps/musiccaps_train_0000000.tar
    - data/translations/Songdescriber/train_song_describer_0000000.tar
  speech_eng:
    - data/GigaSpeech_10000h/GigaSpeech_10000h_*.tar.gz
    - data/SLR12_LibriSpeech_960h/*tar.gz
    - data/mls_english/*tar.gz
  speech_zh:
    - data/SLR33_Aishell1_179h/*tar.gz
    - data/WenetSpeech_9900h/*tar.gz
    - data/Yodas/data/zh000/audio/*tar.gz
  speech_other:
    - data/Yodas/data/aa000/audio/*tar.gz
    - data/Yodas/data/ab000/audio/*tar.gz
    - data/Yodas/data/af000/audio/*tar.gz
    - data/Yodas/data/ak000/audio/*tar.gz
    - data/Yodas/data/am000/audio/*tar.gz
    - data/Yodas/data/ar000/audio/*tar.gz
    - data/Yodas/data/as000/audio/*tar.gz
    - data/Yodas/data/ay000/audio/*tar.gz
    - data/Yodas/data/az000/audio/*tar.gz
    - data/Yodas/data/ba000/audio/*tar.gz
    - data/Yodas/data/be000/audio/*tar.gz
    - data/Yodas/data/bg000/audio/*tar.gz
    - data/Yodas/data/bh000/audio/*tar.gz
    - data/Yodas/data/bi000/audio/*tar.gz
    - data/Yodas/data/bm000/audio/*tar.gz
    - data/Yodas/data/bn000/audio/*tar.gz
    - data/Yodas/data/bo000/audio/*tar.gz
    - data/Yodas/data/br000/audio/*tar.gz
    - data/Yodas/data/bs000/audio/*tar.gz
    - data/Yodas/data/ca000/audio/*tar.gz
    - data/Yodas/data/co000/audio/*tar.gz
    - data/Yodas/data/cr000/audio/*tar.gz
    - data/Yodas/data/cs000/audio/*tar.gz
    - data/Yodas/data/cy000/audio/*tar.gz
    - data/Yodas/data/da000/audio/*tar.gz
    - data/Yodas/data/de000/audio/*tar.gz
    - data/Yodas/data/de100/audio/*tar.gz
    - data/Yodas/data/de101/audio/*tar.gz
    - data/Yodas/data/de102/audio/*tar.gz
    - data/Yodas/data/dz000/audio/*tar.gz
    - data/Yodas/data/ee000/audio/*tar.gz
    - data/Yodas/data/el000/audio/*tar.gz
    - data/Yodas/data/en000/audio/*tar.gz
    - data/Yodas/data/en001/audio/*tar.gz
    - data/Yodas/data/en002/audio/*tar.gz
    - data/Yodas/data/en003/audio/*tar.gz
    - data/Yodas/data/en004/audio/*tar.gz
    - data/Yodas/data/en005/audio/*tar.gz
    - data/Yodas/data/en100/audio/*tar.gz
    - data/Yodas/data/en101/audio/*tar.gz
    - data/Yodas/data/en102/audio/*tar.gz
    - data/Yodas/data/en103/audio/*tar.gz
    - data/Yodas/data/en104/audio/*tar.gz
    - data/Yodas/data/en105/audio/*tar.gz
    - data/Yodas/data/en106/audio/*tar.gz
    - data/Yodas/data/en107/audio/*tar.gz
    - data/Yodas/data/en108/audio/*tar.gz
    - data/Yodas/data/en109/audio/*tar.gz
    - data/Yodas/data/en110/audio/*tar.gz
    - data/Yodas/data/en111/audio/*tar.gz
    - data/Yodas/data/en112/audio/*tar.gz
    - data/Yodas/data/en113/audio/*tar.gz
    - data/Yodas/data/en114/audio/*tar.gz
    - data/Yodas/data/en115/audio/*tar.gz
    - data/Yodas/data/en116/audio/*tar.gz
    - data/Yodas/data/en117/audio/*tar.gz
    - data/Yodas/data/en118/audio/*tar.gz
    - data/Yodas/data/en119/audio/*tar.gz
    - data/Yodas/data/en120/audio/*tar.gz
    - data/Yodas/data/en121/audio/*tar.gz
    - data/Yodas/data/en122/audio/*tar.gz
    - data/Yodas/data/en123/audio/*tar.gz
    - data/Yodas/data/en124/audio/*tar.gz
    - data/Yodas/data/en125/audio/*tar.gz
    - data/Yodas/data/en126/audio/*tar.gz
    - data/Yodas/data/en127/audio/*tar.gz
    - data/Yodas/data/eo000/audio/*tar.gz
    - data/Yodas/data/es000/audio/*tar.gz
    - data/Yodas/data/es100/audio/*tar.gz
    - data/Yodas/data/es101/audio/*tar.gz
    - data/Yodas/data/es102/audio/*tar.gz
    - data/Yodas/data/es103/audio/*tar.gz
    - data/Yodas/data/es104/audio/*tar.gz
    - data/Yodas/data/es105/audio/*tar.gz
    - data/Yodas/data/es106/audio/*tar.gz
    - data/Yodas/data/fa000/audio/*tar.gz
    - data/Yodas/data/ff000/audio/*tar.gz
    - data/Yodas/data/fi000/audio/*tar.gz
    - data/Yodas/data/fj000/audio/*tar.gz
    - data/Yodas/data/fo000/audio/*tar.gz
    - data/Yodas/data/fr000/audio/*tar.gz
    - data/Yodas/data/fr100/audio/*tar.gz
    - data/Yodas/data/fr101/audio/*tar.gz
    - data/Yodas/data/fr102/audio/*tar.gz
    - data/Yodas/data/fr103/audio/*tar.gz
    - data/Yodas/data/fy000/audio/*tar.gz
    - data/Yodas/data/ga000/audio/*tar.gz
    - data/Yodas/data/gd000/audio/*tar.gz
    - data/Yodas/data/gl000/audio/*tar.gz
    - data/Yodas/data/gn000/audio/*tar.gz
    - data/Yodas/data/gu000/audio/*tar.gz
    - data/Yodas/data/ha000/audio/*tar.gz
    - data/Yodas/data/hi000/audio/*tar.gz
    - data/Yodas/data/hi100/audio/*tar.gz
    - data/Yodas/data/ho000/audio/*tar.gz
    - data/Yodas/data/hr000/audio/*tar.gz
    - data/Yodas/data/ht000/audio/*tar.gz
    - data/Yodas/data/hu000/audio/*tar.gz
    - data/Yodas/data/hy000/audio/*tar.gz
    - data/Yodas/data/ia000/audio/*tar.gz
    - data/Yodas/data/id000/audio/*tar.gz
    - data/Yodas/data/id100/audio/*tar.gz
    - data/Yodas/data/id101/audio/*tar.gz
    - data/Yodas/data/ie000/audio/*tar.gz
    - data/Yodas/data/ig000/audio/*tar.gz
    - data/Yodas/data/ik000/audio/*tar.gz
    - data/Yodas/data/is000/audio/*tar.gz
    - data/Yodas/data/it000/audio/*tar.gz
    - data/Yodas/data/it100/audio/*tar.gz
    - data/Yodas/data/it101/audio/*tar.gz
    - data/Yodas/data/iu000/audio/*tar.gz
    - data/Yodas/data/iw000/audio/*tar.gz
    - data/Yodas/data/ja000/audio/*tar.gz
    - data/Yodas/data/ja100/audio/*tar.gz
    - data/Yodas/data/jv000/audio/*tar.gz
    - data/Yodas/data/ka000/audio/*tar.gz
    - data/Yodas/data/ki000/audio/*tar.gz
    - data/Yodas/data/kk000/audio/*tar.gz
    - data/Yodas/data/kl000/audio/*tar.gz
    - data/Yodas/data/km000/audio/*tar.gz
    - data/Yodas/data/kn000/audio/*tar.gz
    - data/Yodas/data/ko000/audio/*tar.gz
    - data/Yodas/data/ko100/audio/*tar.gz
    - data/Yodas/data/ko101/audio/*tar.gz
    - data/Yodas/data/ko102/audio/*tar.gz
    - data/Yodas/data/ko103/audio/*tar.gz
    - data/Yodas/data/ks000/audio/*tar.gz
    - data/Yodas/data/ku000/audio/*tar.gz
    - data/Yodas/data/ky000/audio/*tar.gz
    - data/Yodas/data/la000/audio/*tar.gz
    - data/Yodas/data/lb000/audio/*tar.gz
    - data/Yodas/data/lg000/audio/*tar.gz
    - data/Yodas/data/ln000/audio/*tar.gz
    - data/Yodas/data/lo000/audio/*tar.gz
    - data/Yodas/data/lt000/audio/*tar.gz
    - data/Yodas/data/lv000/audio/*tar.gz
    - data/Yodas/data/mg000/audio/*tar.gz
    - data/Yodas/data/mi000/audio/*tar.gz
    - data/Yodas/data/mk000/audio/*tar.gz
    - data/Yodas/data/ml000/audio/*tar.gz
    - data/Yodas/data/mn000/audio/*tar.gz
    - data/Yodas/data/mr000/audio/*tar.gz
    - data/Yodas/data/ms000/audio/*tar.gz
    - data/Yodas/data/my000/audio/*tar.gz
    - data/Yodas/data/na000/audio/*tar.gz
    - data/Yodas/data/nd000/audio/*tar.gz
    - data/Yodas/data/ne000/audio/*tar.gz
    - data/Yodas/data/nl000/audio/*tar.gz
    - data/Yodas/data/nl100/audio/*tar.gz
    - data/Yodas/data/no000/audio/*tar.gz
    - data/Yodas/data/nv000/audio/*tar.gz
    - data/Yodas/data/oc000/audio/*tar.gz
    - data/Yodas/data/om000/audio/*tar.gz
    - data/Yodas/data/or000/audio/*tar.gz
    - data/Yodas/data/pa000/audio/*tar.gz
    - data/Yodas/data/pl000/audio/*tar.gz
    - data/Yodas/data/ps000/audio/*tar.gz
    - data/Yodas/data/pt000/audio/*tar.gz
    - data/Yodas/data/pt100/audio/*tar.gz
    - data/Yodas/data/pt101/audio/*tar.gz
    - data/Yodas/data/pt102/audio/*tar.gz
    - data/Yodas/data/pt103/audio/*tar.gz
    - data/Yodas/data/qu000/audio/*tar.gz
    - data/Yodas/data/rm000/audio/*tar.gz
    - data/Yodas/data/rn000/audio/*tar.gz
    - data/Yodas/data/ro000/audio/*tar.gz
    - data/Yodas/data/ru000/audio/*tar.gz
    - data/Yodas/data/ru001/audio/*tar.gz
    - data/Yodas/data/ru100/audio/*tar.gz
    - data/Yodas/data/ru101/audio/*tar.gz
    - data/Yodas/data/ru102/audio/*tar.gz
    - data/Yodas/data/ru103/audio/*tar.gz
    - data/Yodas/data/ru104/audio/*tar.gz
    - data/Yodas/data/ru105/audio/*tar.gz
    - data/Yodas/data/ru106/audio/*tar.gz
    - data/Yodas/data/rw000/audio/*tar.gz
    - data/Yodas/data/sa000/audio/*tar.gz
    - data/Yodas/data/sc000/audio/*tar.gz
    - data/Yodas/data/sd000/audio/*tar.gz
    - data/Yodas/data/sg000/audio/*tar.gz
    - data/Yodas/data/sh000/audio/*tar.gz
    - data/Yodas/data/si000/audio/*tar.gz
    - data/Yodas/data/sk000/audio/*tar.gz
    - data/Yodas/data/sl000/audio/*tar.gz
    - data/Yodas/data/sm000/audio/*tar.gz
    - data/Yodas/data/sn000/audio/*tar.gz
    - data/Yodas/data/so000/audio/*tar.gz
    - data/Yodas/data/sq000/audio/*tar.gz
    - data/Yodas/data/sr000/audio/*tar.gz
    - data/Yodas/data/st000/audio/*tar.gz
    - data/Yodas/data/su000/audio/*tar.gz
    - data/Yodas/data/sv000/audio/*tar.gz
    - data/Yodas/data/sw000/audio/*tar.gz
    - data/Yodas/data/ta000/audio/*tar.gz
    - data/Yodas/data/te000/audio/*tar.gz
    - data/Yodas/data/tg000/audio/*tar.gz
    - data/Yodas/data/th000/audio/*tar.gz
    - data/Yodas/data/th100/audio/*tar.gz
    - data/Yodas/data/ti000/audio/*tar.gz
    - data/Yodas/data/tk000/audio/*tar.gz
    - data/Yodas/data/tn000/audio/*tar.gz
    - data/Yodas/data/to000/audio/*tar.gz
    - data/Yodas/data/tr000/audio/*tar.gz
    - data/Yodas/data/tr100/audio/*tar.gz
    - data/Yodas/data/ts000/audio/*tar.gz
    - data/Yodas/data/tt000/audio/*tar.gz
    - data/Yodas/data/ug000/audio/*tar.gz
    - data/Yodas/data/uk000/audio/*tar.gz
    - data/Yodas/data/uk100/audio/*tar.gz
    - data/Yodas/data/ur000/audio/*tar.gz
    - data/Yodas/data/uz000/audio/*tar.gz
    - data/Yodas/data/ve000/audio/*tar.gz
    - data/Yodas/data/vi000/audio/*tar.gz
    - data/Yodas/data/vi100/audio/*tar.gz
    - data/Yodas/data/vi101/audio/*tar.gz
    - data/Yodas/data/vo000/audio/*tar.gz
    - data/Yodas/data/wo000/audio/*tar.gz
    - data/Yodas/data/xh000/audio/*tar.gz
    - data/Yodas/data/yi000/audio/*tar.gz
    - data/Yodas/data/yo000/audio/*tar.gz
    - data/Yodas/data/zu000/audio/*tar.gz
test_data:
  test_acd:
    - data/ACD/test_acd/test_acd_0000000.tar
  librispeech_clean:
    - data/LibriSpeech/test/test_clean/test_clean_wav_0000000.tar
  test_aishell:
    - data/AISHELL2/test_aishell_0000000.tar
  test_musiccaps:
    - data/MusicCaps/musiccaps/musiccaps_eval_0000000.tar
batch_size: 64
max_audio_length: 10
min_audio_length: 0.2
max_text_length: 180
sample_rate: 16000
cross_worker_shuffle: 512
balanced_sampler: [1,1,1,1]
resample: True
num_workers: 16
optimizer: Adam8bit
optimizer_args:
  lr: !!float 1e-4
  betas: [0.9, 0.999]
  eps: !!float 1e-8
eval_num_caps: 1
epochs: 20
epoch_length: 10000
loss: SigAudioTextContrastiveLoss
