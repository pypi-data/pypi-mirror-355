[project]
name = "odin-stream"
version = "0.1.4"
description = "A libary to create datastreams of ODIN objects"
requires-python = ">=3.10,<4.0"
authors = [{ name = "Floris vernieuwe", email = "floris@vernieuwe.eu" }]
readme = "README.md"
dependencies = [
  "nanobind>=2.6.1",
  "polars>=1.27.1",
  "pyarrow>=19.0.0,<20.0.0",
  "scikit-build-core[pyproject]>=0.10.7,<0.11.0",
  "nanobind>=2.5.0,<3.0.0",
  "pytest>=8.3.4,<9.0.0",
  "pytest-cov>=6.0.0,<7.0.0",
  "pytest-benchmark>=5.1.0,<6.0.0",
  "odin-db>=1.3.2",
]
license = { text = "MPL-2.0" }

# [dependency-groups]
# dev = [
#   "scikit-build-core[pyproject]>=0.10.7,<0.11.0",
#   "nanobind>=2.5.0,<3.0.0",
#   "pytest>=8.3.4,<9.0.0",
#   "pytest-cov>=6.0.0,<7.0.0",
#   "pytest-benchmark>=5.1.0,<6.0.0",
# ]


[build-system]
requires = ["scikit-build-core[pyproject]>=0.10", "nanobind>=1.3.2", "pyarrow>=19.0.0,<20.0.0"]
build-backend = "scikit_build_core.build"

[tool.scikit-build]
minimum-version = "build-system.requires"
cmake.build-type = "Debug"
build-dir = "build/{wheel_tag}"


[tool.cibuildwheel]
build-verbosity = 1

# Needed for full C++17 support
[tool.cibuildwheel.macos.environment]
MACOSX_DEPLOYMENT_TARGET = "10.14"

