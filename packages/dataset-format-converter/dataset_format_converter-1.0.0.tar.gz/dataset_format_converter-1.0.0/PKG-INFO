Metadata-Version: 2.4
Name: dataset-format-converter
Version: 1.0.0
Summary: å¤šæ ¼å¼æ•°æ®é›†æ ‡æ³¨è½¬æ¢å·¥å…· - Multi-format dataset annotation converter
Author-email: Blake Zhu <2112304124@mail2.gdut.edu.cn>
Maintainer-email: Blake Zhu <2112304124@mail2.gdut.edu.cn>
License-Expression: MIT
Project-URL: Homepage, https://github.com/BIANG-qilie/dataset-format-converter
Project-URL: Documentation, https://github.com/BIANG-qilie/dataset-format-converter#readme
Project-URL: Repository, https://github.com/BIANG-qilie/dataset-format-converter.git
Project-URL: Bug Tracker, https://github.com/BIANG-qilie/dataset-format-converter/issues
Keywords: yolo,obb,object-detection,computer-vision,annotation-tool,dota,labelimg,pascal-voc
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy>=1.19.0
Requires-Dist: pillow>=8.0.0
Provides-Extra: dev
Requires-Dist: pytest>=6.0.0; extra == "dev"
Requires-Dist: pytest-cov>=2.0.0; extra == "dev"
Requires-Dist: black>=21.0.0; extra == "dev"
Requires-Dist: flake8>=3.8.0; extra == "dev"
Requires-Dist: mypy>=0.812; extra == "dev"
Requires-Dist: pre-commit>=2.15.0; extra == "dev"
Provides-Extra: gui
Requires-Dist: pillow>=8.0.0; extra == "gui"
Requires-Dist: tkinter; extra == "gui"
Provides-Extra: test
Requires-Dist: pytest>=6.0.0; extra == "test"
Requires-Dist: pytest-cov>=2.0.0; extra == "test"
Requires-Dist: pytest-mock>=3.6.0; extra == "test"
Dynamic: license-file

# Dataset Format Converter

<div align="center">

[![Python Version](https://img.shields.io/badge/python-3.6+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Code Style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

å¤šæ ¼å¼æ•°æ®é›†æ ‡æ³¨è½¬æ¢å·¥å…·ï¼Œæ”¯æŒå›¾å½¢ç•Œé¢å’Œå‘½ä»¤è¡Œæ“ä½œã€‚

Multi-format dataset annotation converter with GUI and CLI support.

**ğŸ“– è¯­è¨€ç‰ˆæœ¬ / Language Versions**: [ä¸­æ–‡](README.md) | [English](README_EN.md)

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…æ–¹æ³•](#å®‰è£…æ–¹æ³•) â€¢ [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—) â€¢ [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

</div>

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **å¤šæ ¼å¼è½¬æ¢**: æ”¯æŒ5ç§ä¸»æµæ ‡æ³¨æ ¼å¼äº’è½¬
  - YOLO-HBB (ä¼ ç»ŸYOLOæ°´å¹³è¾¹ç•Œæ¡†)
  - YOLO-OBB (Ultralyticsæ—‹è½¬è¾¹ç•Œæ¡†)
  - LabelImg-OBB (å¸¦è§’åº¦çš„OBBæ ¼å¼)
  - DOTA (å¤šè¾¹å½¢æ ¼å¼)
  - PASCAL VOC (XMLæ ¼å¼)

- ğŸ–¼ï¸ **å›¾å½¢ç•Œé¢**: ç›´è§‚æ˜“ç”¨çš„GUIç•Œé¢
- âŒ¨ï¸ **å‘½ä»¤è¡Œå·¥å…·**: é€‚åˆæ‰¹é‡å¤„ç†å’Œè‡ªåŠ¨åŒ–
- ğŸ“¦ **ç»Ÿä¸€æ¶æ„**: åŸºäºä¸­é—´æ ¼å¼çš„ä¸‰æ­¥è½¬æ¢æµç¨‹
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒè‹±æ–‡å’Œç®€ä½“ä¸­æ–‡
- ğŸ’¾ **è®¾ç½®è®°å¿†**: è‡ªåŠ¨ä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®
- ğŸ¯ **æ ¼å¼éªŒè¯**: è‡ªåŠ¨æ£€æµ‹å’ŒéªŒè¯è¾“å…¥æ ¼å¼
- ğŸ“ **åæ ‡è½¬æ¢**: æ™ºèƒ½å¤„ç†å½’ä¸€åŒ–å’Œåƒç´ åæ ‡è½¬æ¢

## ğŸš€ å®‰è£…æ–¹æ³•

### ä»PyPIå®‰è£…

```bash
pip install dataset-format-converter
```

### å¼€å‘è€…å®‰è£…
```bash
# åŸºæœ¬å®‰è£…
pip install dataset-format-converter

# å¼€å‘è€…å®‰è£…  
pip install dataset-format-converter[dev]

# åŒ…å«GUIæ”¯æŒ
pip install dataset-format-converter[gui]
```

### ä»æºç å®‰è£…

```bash
git clone https://github.com/BIANG-qilie/dataset-format-converter.git
cd dataset-format-converter
pip install -e .
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ”¯æŒçš„æ ¼å¼

| æ ¼å¼                       | å½¢å¼                                              | åæ ‡   | è§’åº¦           | æ˜¯å¦æ”¯æŒ OBB |
| -------------------------- | ------------------------------------------------- | ------ | -------------- | ------------ |
| **YOLO-HBB/YOLO**          | `class_id x_center y_center width height`         | å½’ä¸€åŒ– | æ—              | âŒ æ°´å¹³æ¡†     |
| **YOLO-OBB (Ultralytics)** | `class_id x1 y1 x2 y2 x3 y3 x4 y4`                | å½’ä¸€åŒ– | æ—              | âœ… å¤šè¾¹å½¢æ¡†   |
| **LabelImg-OBB**           | `class_id x_center y_center width height angle`   | åƒç´ å€¼ | âœ… æœ‰è§’åº¦       | âœ… RBox       |
| **DOTA**                   | `x1 y1 x2 y2 x3 y3 x4 y4 class_name [difficulty]` | åƒç´ å€¼ | æ— ï¼ˆéšå¼æ–¹å‘ï¼‰ | âœ… å¤šè¾¹å½¢æ¡†   |
| **PASCAL VOC**             | `<xmin>, <ymin>, <xmax>, <ymax>` in XML tags      | åƒç´ å€¼ | æ—              | âŒ æ°´å¹³æ¡†     |

### å‘½ä»¤è¡Œå·¥å…·

#### äº¤äº’æ¨¡å¼
```bash
dataset-format-converter
```

#### ç›´æ¥è½¬æ¢
```bash
# å•æ–‡ä»¶è½¬æ¢
dataset-format-converter --input input.txt --output output.txt \
  --input-format YOLO-OBB --output-format LabelImg-OBB \
  --width 1920 --height 1080

# ç›®å½•æ‰¹é‡è½¬æ¢
dataset-format-converter --input ./labels --output ./converted \
  --input-format DOTA --output-format YOLO-OBB \
  --width 1920 --height 1080

# æŒ‡å®šç±»åˆ«åç§°æ–‡ä»¶
dataset-format-converter --input input.txt --output output.txt \
  --input-format YOLO-OBB --output-format PASCAL-VOC \
  --width 1920 --height 1080 --classes classes.txt

# åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ ¼å¼
dataset-format-converter --list-formats

# è®¾ç½®è¯­è¨€
dataset-format-converter --language zh
```

### å›¾å½¢ç•Œé¢

å¯åŠ¨GUIç•Œé¢ï¼š

```bash
dataset-converter-gui
```

### Python API

```python
from obb_data_converter import format_manager

# å•æ–‡ä»¶è½¬æ¢
format_manager.convert_file(
    input_file='input.txt',
    output_file='output.txt', 
    input_format='YOLO-OBB',
    output_format='LabelImg-OBB',
    image_width=1920,
    image_height=1080
)

# æ‰¹é‡è½¬æ¢
format_manager.convert_directory(
    input_dir='./labels',
    output_dir='./converted',
    input_format='DOTA', 
    output_format='YOLO-OBB',
    image_width=1920,
    image_height=1080
)

# åˆ—å‡ºæ”¯æŒçš„æ ¼å¼
formats = format_manager.list_formats()
print(formats)  # ['YOLO-HBB', 'YOLO-OBB', 'LabelImg-OBB', 'DOTA', 'PASCAL-VOC']

# è‡ªåŠ¨æ£€æµ‹æ ¼å¼
detected_format = format_manager.detect_format('input.txt')
print(f"æ£€æµ‹åˆ°æ ¼å¼: {detected_format}")
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
obb_data_converter/
â”œâ”€â”€ __init__.py                    # åŒ…åˆå§‹åŒ–
â”œâ”€â”€ core/                          # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ common_format.py           # ä¸­é—´æ ¼å¼å®šä¹‰
â”‚   â”œâ”€â”€ base_format.py             # æ ¼å¼åŸºç±»
â”‚   â”œâ”€â”€ format_manager.py          # æ ¼å¼ç®¡ç†å™¨
â”‚   â””â”€â”€ geometry_utils.py          # å‡ ä½•å˜æ¢å·¥å…·
â”œâ”€â”€ formats/                       # æ ¼å¼å®ç°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ yolo_hbb.py               # YOLO-HBBæ ¼å¼
â”‚   â”œâ”€â”€ yolo_obb.py               # YOLO-OBBæ ¼å¼  
â”‚   â”œâ”€â”€ labelimg_obb.py           # LabelImg-OBBæ ¼å¼
â”‚   â”œâ”€â”€ dota.py                   # DOTAæ ¼å¼
â”‚   â””â”€â”€ pascal_voc.py             # PASCAL VOCæ ¼å¼
â”œâ”€â”€ i18n/                          # å›½é™…åŒ–
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ translation.py            # ç¿»è¯‘ç®¡ç†å™¨
â”‚   â””â”€â”€ locales/                  # è¯­è¨€æ–‡ä»¶
â”‚       â”œâ”€â”€ en.json               # è‹±æ–‡ç¿»è¯‘
â”‚       â””â”€â”€ zh.json               # ä¸­æ–‡ç¿»è¯‘
â”œâ”€â”€ config/                        # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ settings.py               # è®¾ç½®ç®¡ç†å™¨
â”œâ”€â”€ cli/                          # å‘½ä»¤è¡Œç•Œé¢
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ main.py                   # CLIä¸»ç¨‹åº
â””â”€â”€ gui/                          # å›¾å½¢ç•Œé¢
    â”œâ”€â”€ __init__.py
    â””â”€â”€ main_window.py            # GUIä¸»çª—å£
```

## ğŸ› ï¸ æ¶æ„è®¾è®¡

### ä¸‰æ­¥è½¬æ¢æµç¨‹

æœ¬å·¥å…·é‡‡ç”¨åŸºäºä¸­é—´æ ¼å¼çš„ä¸‰æ­¥è½¬æ¢æ¶æ„ï¼š

1. **æ ¼å¼éªŒè¯**: éªŒè¯è¾“å…¥æ–‡ä»¶æ˜¯å¦ç¬¦åˆæŒ‡å®šæ ¼å¼
2. **è¾“å…¥æ ¼å¼ â†’ ä¸­é—´æ ¼å¼**: å°†è¾“å…¥æ ¼å¼è½¬æ¢ä¸ºç»Ÿä¸€çš„ä¸­é—´æ ¼å¼
3. **ä¸­é—´æ ¼å¼ â†’ è¾“å‡ºæ ¼å¼**: å°†ä¸­é—´æ ¼å¼è½¬æ¢ä¸ºç›®æ ‡è¾“å‡ºæ ¼å¼

### ä¸­é—´æ ¼å¼

ä¸­é—´æ ¼å¼åŒ…å«ï¼š
- å›¾ç‰‡å®½åº¦å’Œé«˜åº¦ï¼ˆåƒç´ ï¼‰
- å››ä¸ªè§’ç‚¹åæ ‡ï¼ˆå½’ä¸€åŒ–ï¼Œ0-1èŒƒå›´ï¼‰
- ç±»åˆ«åç§°åˆ—è¡¨ï¼ˆæœ‰åºï¼‰
- å…¶ä»–å…ƒæ•°æ®ï¼ˆç½®ä¿¡åº¦ã€éš¾åº¦ç­‰ï¼‰

### æ ¼å¼ç±»ç»“æ„

æ¯ä¸ªæ ¼å¼ç±»éƒ½ç»§æ‰¿è‡ª`BaseFormat`å¹¶å®ç°ä»¥ä¸‹æ–¹æ³•ï¼š

- `verify()`: éªŒè¯æ–‡ä»¶æ ¼å¼
- `_format2common()`: æ ¼å¼è½¬ä¸­é—´æ ¼å¼ï¼ˆç§æœ‰ï¼‰
- `_common2format()`: ä¸­é—´æ ¼å¼è½¬æ ¼å¼ï¼ˆç§æœ‰ï¼‰
- `format2commonSolo()`: å•æ–‡ä»¶è½¬æ¢
- `common2formatSolo()`: å•æ–‡ä»¶è½¬æ¢
- `format2commonMulti()`: å¤šæ–‡ä»¶è½¬æ¢
- `common2formatMulti()`: å¤šæ–‡ä»¶è½¬æ¢

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

æ”¯æŒè‹±æ–‡å’Œç®€ä½“ä¸­æ–‡ç•Œé¢ï¼š

```python
from obb_data_converter.i18n import set_language, t

# è®¾ç½®è¯­è¨€
set_language('zh')  # ä¸­æ–‡
set_language('en')  # è‹±æ–‡

# ä½¿ç”¨ç¿»è¯‘
print(t('app.title'))  # è·å–åº”ç”¨æ ‡é¢˜
print(t('messages.conversion_complete'))  # è·å–å®Œæˆæ¶ˆæ¯
```

## ğŸ§ª å¼€å‘æŒ‡å—

### è®¾ç½®å¼€å‘ç¯å¢ƒ

```bash
git clone https://github.com/BIANG-qilie/dataset-format-converter.git
cd dataset-format-converter

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .[dev]
```

### æ·»åŠ æ–°æ ¼å¼æ”¯æŒ

1. åœ¨`obb_data_converter/formats/`ç›®å½•åˆ›å»ºæ–°çš„æ ¼å¼ç±»
2. ç»§æ‰¿`BaseFormat`ç±»å¹¶å®ç°å¿…éœ€æ–¹æ³•
3. åœ¨`obb_data_converter/formats/__init__.py`ä¸­å¯¼å…¥
4. æ ¼å¼ç®¡ç†å™¨ä¼šè‡ªåŠ¨æ³¨å†Œæ–°æ ¼å¼

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=obb_data_converter --cov-report=html
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
black obb_data_converter/

# æ£€æŸ¥ä»£ç é£æ ¼
flake8 obb_data_converter/
```

## ğŸ“„ ç¤ºä¾‹

### ç±»åˆ«åç§°æ–‡ä»¶æ ¼å¼

```text
# classes.txt
person
car
bicycle
motorcycle
truck
```

### é…ç½®æ–‡ä»¶

ç”¨æˆ·è®¾ç½®è‡ªåŠ¨ä¿å­˜åœ¨`~/.obb_data_converter/settings.json`ï¼š

```json
{
  "language": "zh",
  "last_input_format": "YOLO-OBB", 
  "last_output_format": "LabelImg-OBB",
  "last_image_width": 1920,
  "last_image_height": 1080,
  "window_width": 800,
  "window_height": 600
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ¨ å…¨æ–°æ¶æ„è®¾è®¡ï¼Œæ”¯æŒå¤šæ ¼å¼è½¬æ¢
- ğŸŒ æ·»åŠ å›½é™…åŒ–æ”¯æŒï¼ˆè‹±æ–‡/ä¸­æ–‡ï¼‰
- ğŸ’¾ ç”¨æˆ·è®¾ç½®æŒä¹…åŒ–
- ğŸ”§ ç»Ÿä¸€çš„CLIå’ŒAPIæ¥å£
- ğŸ“¦ æ¨¡å—åŒ–æ ¼å¼æ”¯æŒ
- ğŸ§ª å®Œæ•´çš„æµ‹è¯•è¦†ç›–

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Blake Zhu** - [GitHub](https://github.com/BIANG-qilie)

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®è´¡çŒ®ä»£ç çš„å¼€å‘è€…
- æ„Ÿè°¢YOLOã€LabelImgã€DOTAç­‰é¡¹ç›®çš„å¯å‘

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªâ­ï¸**

**If this project helps you, please give it a â­ï¸**

</div> 
